---
type: docs
title: "如何扩展 Dubbo"
linkTitle: "扩展性"
weight: 6
description: "Dubbo 通过 SPI 机制提供了非常灵活的可扩展性"
---

## 扩展设计理念

可扩展性是任何一个系统所追求的，对于 Dubbo 来说是同样适用。Dubbo 扩展能力的设计理念是按需加载，提供动态选择能力，所有内部实现和第三方实现都是平等的。

## 扩展设计目标

Dubbo 中的扩展能力是从 JDK 标准的 SPI 扩展点发现机制加强而来，用户可以很方便扩展其他协议、过滤器、路由等。

Dubbo 中扩展能力特点：
* 按需加载。Dubbo 的扩展能力不会一次性实例化所有实现，而是用那个扩展类则实例化那个扩展类，减少资源浪费。
* 增加扩展类的 IOC 能力。Dubbo 的扩展能力并不仅仅只是发现扩展服务实现类，而是在此基础上更进一步，如果该扩展类的属性依赖其他对象，则 Dubbo 会自动的完成该依赖对象的注入功能。
* 增加扩展类的 AOP 能力。Dubbo 扩展能力会自动的发现扩展类的包装类，完成包装类的构造，增强扩展类的功能。
* 具备动态选择扩展实现的能力。Dubbo 扩展会基于参数，在运行时动态选择对应的扩展类，提高了 Dubbo 的扩展能力。
* 可以对扩展实现进行排序。能够基于用户需求，指定扩展实现的执行顺序。

从 Dubbo 扩展的设计目标可以看出，Dubbo 实现的一些例如动态选择扩展实现、IOC、AOP 等特性，能够为用户提供非常灵活的扩展能力。

## Dubbo 扩展加载流程

Dubbo 加载扩展的整个流程如下：

![//imgs/v3/concepts/extension-load.png](/imgs/v3/concepts/extension-load.png)

主要步骤为 4 个：
* 读取并解析配置文件
* 缓存所有扩展实现
* 基于用户执行的扩展名，实例化对应的扩展实现
* 进行扩展实例属性的 IOC 注入以及实例化扩展的包装类，实现 AOP 特性

## Dubbo 扩展的应用

Dubbo 的扩展能力非常灵活，在自身功能的实现上无处不在。

![//imgs/v3/concepts/extension-use.png](/imgs/v3/concepts/extension-use.png)

Dubbo 扩展能力使得 Dubbo 项目很方便的切分成一个一个的子模块，实现热插拔特性。用户完全可以基于自身需求，替换 Dubbo 原生实现，来满足自身业务需求。

## 使用场景

如果你需要自定义负载均衡策略，你可以使用 Dubbo 扩展能力。
如果你需要实现自定义的注册中心，你可以使用 Dubbo 扩展能力。
如果你需要实现自定义的过滤器，你可以使用 Dubbo 扩展能力。

Dubbo 扩展平等的对待内部实现和第三方实现。更多使用场景，参见 [SPI 扩展实现](../references/)