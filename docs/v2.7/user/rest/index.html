<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.78.2"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>REST support | Apache Dubbo</title><meta property="og:title" content="REST support"><meta property="og:description" content="Develop RESTful application in Dubbo"><meta property="og:type" content="article"><meta property="og:url" content="/docs/v2.7/user/rest/"><meta property="article:modified_time" content="2020-11-18T12:47:54+08:00"><meta property="og:site_name" content="Apache Dubbo"><meta itemprop=name content="REST support"><meta itemprop=description content="Develop RESTful application in Dubbo"><meta itemprop=dateModified content="2020-11-18T12:47:54+08:00"><meta itemprop=wordCount content="8834"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="REST support"><meta name=twitter:description content="Develop RESTful application in Dubbo"><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-112489517-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><link rel=preload href=/scss/main.min.8b180b4f9c3e92478ac4794f7583d0b2a7c043e9717486d0407c2dfdf725043f.css as=style><link href=/scss/main.min.8b180b4f9c3e92478ac4794f7583d0b2a7c043e9717486d0407c2dfdf725043f.css rel=stylesheet integrity><script src=/js/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 321.39 78.54"><title id="title19">DUBBO LOGO</title><path class="cls-1" d="M68.46 50.38c0 14.06 11.39 22.11 25.45 22.11s25.45-8.05 25.45-22.11V7.25H68.46zm21.24-28h8.6V31H89.7zm0 22.25h8.6v8.6H89.7zM33.24 7.25H4.06v64H33.24c10.95.0 19.3-7.18 23.29-17.15a45.12 45.12.0 002.38-14.87A45.12 45.12.0 0056.53 24.4C52.84 14.62 44.19 7.25 33.24 7.25zm.43 14.63H30.34a3.44 3.44.0 00-3.44 3.44V53.23a3.44 3.44.0 003.44 3.44h3.33v4.63h-8.3a6.87 6.87.0 01-6.87-6.87V24.12a6.87 6.87.0 016.87-6.87h8.3zM285.51 6.06c-17.05.0-30.88 10.28-30.88 33.21s13.83 33.21 30.88 33.21 30.88-10.28 30.88-33.21S302.56 6.06 285.51 6.06zm7.59 48.36a6.87 6.87.0 01-6.87 6.87h-8.3V56.67h3.33a3.44 3.44.0 003.44-3.44V25.31a3.44 3.44.0 00-3.44-3.44h-3.33V17.25h8.3a6.87 6.87.0 016.87 6.87zm-53.4-17.56A17.39 17.39.0 00227.31 7.25H195.1v64h32.21a19.44 19.44.0 0012.38-34.44zM211.63 61.29h-6.08l18.68-44h6.08zM177 36.85A17.39 17.39.0 00164.65 7.25H132.43v64h32.21A19.44 19.44.0 00177 36.85zM149 61.29h-6.08l18.68-44h6.08z" style="fill:#fff;fill-opacity:1"/></svg></span><span class="text-uppercase font-weight-bold">Apache Dubbo</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog/><span>Blog</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community/><span>Community</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/docs/v2.7/user/rest/>中文</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete=off></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/docs/v2.7/user/rest/>中文</a></div></div><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a></li><ul><li class="collapse show" id=docs><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v2.7/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Dubbo 2.7</a></li><ul><li class="collapse show" id=docsv27><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v2.7/user/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">User</a></li><ul><li class="collapse show" id=docsv27user><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v2.7/user/preface/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Preface</a></li><ul><li class=collapse id=docsv27userpreface><a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userprefacebackground href=/docs/v2.7/user/preface/background/>Background</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userprefacerequirements href=/docs/v2.7/user/preface/requirements/>Requirements</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userprefacearchitecture href=/docs/v2.7/user/preface/architecture/>Architecture</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userprefaceusage href=/docs/v2.7/user/preface/usage/>Usage</a></li></ul></ul><a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userquick-start href=/docs/v2.7/user/quick-start/>Quick start</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userdependencies href=/docs/v2.7/user/dependencies/>Dependencies</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27usermaturity href=/docs/v2.7/user/maturity/>Maturity</a><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v2.7/user/configuration/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Configuration</a></li><ul><li class=collapse id=docsv27userconfiguration><a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userconfigurationxml href=/docs/v2.7/user/configuration/xml/>XML</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userconfigurationproperties href=/docs/v2.7/user/configuration/properties/>Properties</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userconfigurationapi href=/docs/v2.7/user/configuration/api/>API</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userconfigurationannotation href=/docs/v2.7/user/configuration/annotation/>Annotation</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userconfigurationconfiguration-load-process href=/docs/v2.7/user/configuration/configuration-load-process/>Loading Process</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v2.7/user/examples/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Examples</a></li><ul><li class=collapse id=docsv27userexamples><a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplespreflight-check href=/docs/v2.7/user/examples/preflight-check/>Preflight Check</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesfault-tolerent-strategy href=/docs/v2.7/user/examples/fault-tolerent-strategy/>Fault Tolerance</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesloadbalance href=/docs/v2.7/user/examples/loadbalance/>Load Balance</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesthread-model href=/docs/v2.7/user/examples/thread-model/>Thread Model</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesexplicit-target href=/docs/v2.7/user/examples/explicit-target/>Explicit Target</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplessubscribe-only href=/docs/v2.7/user/examples/subscribe-only/>Subscribe Only</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesmulti-protocols href=/docs/v2.7/user/examples/multi-protocols/>Multiple Protocols</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesmulti-registry href=/docs/v2.7/user/examples/multi-registry/>Multiple Registries</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesservice-group href=/docs/v2.7/user/examples/service-group/>Service Group</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesstatic-service href=/docs/v2.7/user/examples/static-service/>Static Service</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesmulti-versions href=/docs/v2.7/user/examples/multi-versions/>Multiple Versions</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesgroup-merger href=/docs/v2.7/user/examples/group-merger/>Group Merger</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesparameter-validation href=/docs/v2.7/user/examples/parameter-validation/>Parameter Validation</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesresult-cache href=/docs/v2.7/user/examples/result-cache/>Cache Result</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesgeneric-reference href=/docs/v2.7/user/examples/generic-reference/>Generic Reference</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesgeneric-service href=/docs/v2.7/user/examples/generic-service/>Generic Service</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesecho-service href=/docs/v2.7/user/examples/echo-service/>Echo Service</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplescontext href=/docs/v2.7/user/examples/context/>Context</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesattachment href=/docs/v2.7/user/examples/attachment/>Attachment</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesasync-call href=/docs/v2.7/user/examples/async-call/>Async Call</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesasync-execute-on-provider href=/docs/v2.7/user/examples/async-execute-on-provider/>Async Execution</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexampleslocal-call href=/docs/v2.7/user/examples/local-call/>Local Call</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplescallback-parameter href=/docs/v2.7/user/examples/callback-parameter/>Callback</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesevents-notify href=/docs/v2.7/user/examples/events-notify/>Event Notification</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexampleslocal-stub href=/docs/v2.7/user/examples/local-stub/>Local Stub</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexampleslocal-mock href=/docs/v2.7/user/examples/local-mock/>Local Mock</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesdelay-publish href=/docs/v2.7/user/examples/delay-publish/>Delay Publish</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesconcurrency-control href=/docs/v2.7/user/examples/concurrency-control/>Concurrency</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesconfig-connections href=/docs/v2.7/user/examples/config-connections/>Connection</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexampleslazy-connect href=/docs/v2.7/user/examples/lazy-connect/>Lazy Connect</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesstickiness href=/docs/v2.7/user/examples/stickiness/>Stickiness</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplestoken-authorization href=/docs/v2.7/user/examples/token-authorization/>Token Authorization</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesrouting-rule href=/docs/v2.7/user/examples/routing-rule/>Routing Rule</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesconfig-rule href=/docs/v2.7/user/examples/config-rule/>Configure rule</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesservice-downgrade href=/docs/v2.7/user/examples/service-downgrade/>Service Downgrade</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesgraceful-shutdown href=/docs/v2.7/user/examples/graceful-shutdown/>Graceful Shutdown</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexampleshostname-binding href=/docs/v2.7/user/examples/hostname-binding/>Hostname Binding</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexampleslogger-strategy href=/docs/v2.7/user/examples/logger-strategy/>Logger Strategy</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesaccesslog href=/docs/v2.7/user/examples/accesslog/>Access Log</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesservice-container href=/docs/v2.7/user/examples/service-container/>Service Container</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesreference-config-cache href=/docs/v2.7/user/examples/reference-config-cache/>ReferenceConfig Cache</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesregistry-only href=/docs/v2.7/user/examples/registry-only/>Register Only</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesdistributed-transaction href=/docs/v2.7/user/examples/distributed-transaction/>Transaction</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesdump href=/docs/v2.7/user/examples/dump/>Thread Dump</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesnetty4 href=/docs/v2.7/user/examples/netty4/>Netty4</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userexamplesserialization href=/docs/v2.7/user/examples/serialization/>Serialization</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v2.7/user/references/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">References</a></li><ul><li class=collapse id=docsv27userreferences><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v2.7/user/references/xml/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">XML</a></li><ul><li class=collapse id=docsv27userreferencesxml><a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesxmldubbo-application href=/docs/v2.7/user/references/xml/dubbo-application/>dubbo:application</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesxmldubbo-argument href=/docs/v2.7/user/references/xml/dubbo-argument/>dubbo:argument</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesxmldubbo-config-center href=/docs/v2.7/user/references/xml/dubbo-config-center/>dubbo:config-center</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesxmldubbo-consumer href=/docs/v2.7/user/references/xml/dubbo-consumer/>dubbo:consumer</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesxmldubbo-method href=/docs/v2.7/user/references/xml/dubbo-method/>dubbo:method</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesxmldubbo-module href=/docs/v2.7/user/references/xml/dubbo-module/>dubbo:module</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesxmldubbo-monitor href=/docs/v2.7/user/references/xml/dubbo-monitor/>dubbo:monitor</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesxmldubbo-parameter href=/docs/v2.7/user/references/xml/dubbo-parameter/>dubbo:parameter</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesxmldubbo-protocol href=/docs/v2.7/user/references/xml/dubbo-protocol/>dubbo:protocol</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesxmldubbo-provider href=/docs/v2.7/user/references/xml/dubbo-provider/>dubbo:provider</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesxmldubbo-reference href=/docs/v2.7/user/references/xml/dubbo-reference/>dubbo:reference</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesxmldubbo-registry href=/docs/v2.7/user/references/xml/dubbo-registry/>dubbo:registry</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesxmldubbo-service href=/docs/v2.7/user/references/xml/dubbo-service/>dubbo:service</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v2.7/user/references/protocol/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Protocol</a></li><ul><li class=collapse id=docsv27userreferencesprotocol><a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesprotocoldubbo href=/docs/v2.7/user/references/protocol/dubbo/>dubbo://</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesprotocolrest href=/docs/v2.7/user/references/protocol/rest/>rest://</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesprotocolhttp href=/docs/v2.7/user/references/protocol/http/>http://</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesprotocolhessian href=/docs/v2.7/user/references/protocol/hessian/>hessian://</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesprotocolredis href=/docs/v2.7/user/references/protocol/redis/>redis://</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesprotocolthrift href=/docs/v2.7/user/references/protocol/thrift/>thrift://</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesprotocolmemcached href=/docs/v2.7/user/references/protocol/memcached/>memcached://</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesprotocolrmi href=/docs/v2.7/user/references/protocol/rmi/>rmi://</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesprotocolwebservice href=/docs/v2.7/user/references/protocol/webservice/>webservice://</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v2.7/user/references/registry/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Registry Server</a></li><ul><li class=collapse id=docsv27userreferencesregistry><a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesregistrynacos href=/docs/v2.7/user/references/registry/nacos/>Nacos</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesregistryzookeeper href=/docs/v2.7/user/references/registry/zookeeper/>Zookeeper</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesregistrymulticast href=/docs/v2.7/user/references/registry/multicast/>Multicast</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesregistryredis href=/docs/v2.7/user/references/registry/redis/>Redis</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesregistrysimple href=/docs/v2.7/user/references/registry/simple/>Simple</a></li></ul></ul><a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesmetadata href=/docs/v2.7/user/references/metadata/>Metadata</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesapi href=/docs/v2.7/user/references/api/>API</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesqos href=/docs/v2.7/user/references/qos/>Qos</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencestelnet href=/docs/v2.7/user/references/telnet/>Telnet</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userreferencesmaven href=/docs/v2.7/user/references/maven/>Maven</a></li></ul></ul><a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userbest-practice href=/docs/v2.7/user/best-practice/>Best practice</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userrecommend href=/docs/v2.7/user/recommend/>Recommended usage</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27usercapacity-plan href=/docs/v2.7/user/capacity-plan/>Capacity plan</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userperf-test href=/docs/v2.7/user/perf-test/>Performance</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27usercoveragence href=/docs/v2.7/user/coveragence/>Test coverage</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userbenchmark-tool href=/docs/v2.7/user/benchmark-tool/>Benchmark Suite</a>
<a class="td-sidebar-link td-sidebar-link__page active" id=m-docsv27userrest href=/docs/v2.7/user/rest/>REST support</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27usersimple-monitor href=/docs/v2.7/user/simple-monitor/>Simple monitor</a><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v2.7/user/languages/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Other Languages</a></li><ul><li class=collapse id=docsv27userlanguages><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v2.7/user/languages/erlang/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Erlang</a></li><ul><li class=collapse id=docsv27userlanguageserlang><a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userlanguageserlangquick-start href=/docs/v2.7/user/languages/erlang/quick-start/>Quick Start</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userlanguageserlangreference href=/docs/v2.7/user/languages/erlang/reference/>Consumer</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userlanguageserlangservice href=/docs/v2.7/user/languages/erlang/service/>Provider</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27userlanguageserlangserialization href=/docs/v2.7/user/languages/erlang/serialization/>Protocol</a></li></ul></ul></li></ul></ul></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v2.7/dev/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Developer</a></li><ul><li class=collapse id=docsv27dev><a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devbuild href=/docs/v2.7/dev/build/>Build</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devdesign href=/docs/v2.7/dev/design/>Design</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devspi href=/docs/v2.7/dev/spi/>SPI</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplementation href=/docs/v2.7/dev/implementation/>Implementation</a><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v2.7/dev/principals/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Design Principals</a></li><ul><li class=collapse id=docsv27devprincipals><a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devprincipalscode-detail href=/docs/v2.7/dev/principals/code-detail/>Details</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devprincipalsconfiguration href=/docs/v2.7/dev/principals/configuration/>Configuration</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devprincipalsdummy href=/docs/v2.7/dev/principals/dummy/>Fool-proof</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devprincipalsexpansibility href=/docs/v2.7/dev/principals/expansibility/>Extensibility</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devprincipalsextension href=/docs/v2.7/dev/principals/extension/>Extension</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devprincipalsgeneral-knowledge href=/docs/v2.7/dev/principals/general-knowledge/>General Rule</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devprincipalsrobustness href=/docs/v2.7/dev/principals/robustness/>Robustness</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v2.7/dev/impls/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">SPI Impls</a></li><ul><li class=collapse id=docsv27devimpls><a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsprotocol href=/docs/v2.7/dev/impls/protocol/>Protocol</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsfilter href=/docs/v2.7/dev/impls/filter/>Filter</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsinvoker-listener href=/docs/v2.7/dev/impls/invoker-listener/>InvokerListener</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsexporter-listener href=/docs/v2.7/dev/impls/exporter-listener/>ExporterListener</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplscluster href=/docs/v2.7/dev/impls/cluster/>Cluster</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsrouter href=/docs/v2.7/dev/impls/router/>Router</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsload-balance href=/docs/v2.7/dev/impls/load-balance/>LoadBalance</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsmerger href=/docs/v2.7/dev/impls/merger/>Merger</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsregistry href=/docs/v2.7/dev/impls/registry/>Registry</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsmonitor href=/docs/v2.7/dev/impls/monitor/>Monitor</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsextension-factory href=/docs/v2.7/dev/impls/extension-factory/>ExtensionFactory</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsproxy-factory href=/docs/v2.7/dev/impls/proxy-factory/>ProxyFactory</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplscompiler href=/docs/v2.7/dev/impls/compiler/>Compiler</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsconfig-center href=/docs/v2.7/dev/impls/config-center/>Config Center</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsdispatcher href=/docs/v2.7/dev/impls/dispatcher/>Dispatcher</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsthreadpool href=/docs/v2.7/dev/impls/threadpool/>ThreadPool</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsserialize href=/docs/v2.7/dev/impls/serialize/>Serialization</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsremoting href=/docs/v2.7/dev/impls/remoting/>Transporter</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsexchanger href=/docs/v2.7/dev/impls/exchanger/>Exchanger</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsnetworker href=/docs/v2.7/dev/impls/networker/>Networker</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplstelnet-handler href=/docs/v2.7/dev/impls/telnet-handler/>TelnetHandler</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsstatus-checker href=/docs/v2.7/dev/impls/status-checker/>StatusChecker</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplscontainer href=/docs/v2.7/dev/impls/container/>Container</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplspage href=/docs/v2.7/dev/impls/page/>PageHandler</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplscache href=/docs/v2.7/dev/impls/cache/>Cache</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplsvalidation href=/docs/v2.7/dev/impls/validation/>Validation</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devimplslogger-adapter href=/docs/v2.7/dev/impls/logger-adapter/>LoggerAdapter</a></li></ul></ul><a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devcontract href=/docs/v2.7/dev/contract/>Public Agreement</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devrelease href=/docs/v2.7/dev/release/>Versions</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devchecklist href=/docs/v2.7/dev/checklist/>Checklist</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devcode-smell href=/docs/v2.7/dev/code-smell/>Bad Smell</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devcoding href=/docs/v2.7/dev/coding/>Coding Convention</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27devtck href=/docs/v2.7/dev/tck/>TCK</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v2.7/admin/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Admin</a></li><ul><li class=collapse id=docsv27admin><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v2.7/admin/ops/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Dubbo Admin</a></li><ul><li class=collapse id=docsv27adminops><a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27adminopsfunctions href=/docs/v2.7/admin/ops/functions/>Functions</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27adminopsintroduction href=/docs/v2.7/admin/ops/introduction/>Introductions</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27adminopssearch href=/docs/v2.7/admin/ops/search/>Search</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27adminopstest href=/docs/v2.7/admin/ops/test/>Test</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27adminopsgovernance href=/docs/v2.7/admin/ops/governance/>Governance</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27adminopspinpoint href=/docs/v2.7/admin/ops/pinpoint/>Pinpoint</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27adminopsskywalking href=/docs/v2.7/admin/ops/skywalking/>Skywalking</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v2.7/admin/install/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Installation</a></li><ul><li class=collapse id=docsv27admininstall><a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27admininstalladmin-console href=/docs/v2.7/admin/install/admin-console/>Admin Console</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27admininstallprovider-demo href=/docs/v2.7/admin/install/provider-demo/>Demo Provider</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27admininstallconsumer-demo href=/docs/v2.7/admin/install/consumer-demo/>Demo Consumer</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27admininstallzookeeper href=/docs/v2.7/admin/install/zookeeper/>Config Center</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27admininstallredis href=/docs/v2.7/admin/install/redis/>Register Center</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsv27admininstallmonitor-center href=/docs/v2.7/admin/install/monitor-center/>Monitor Center</a></li></ul></ul></li></ul></ul></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/v3.0/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Dubbo 3.0</a></li><ul><li class=collapse id=docsv30></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/contribution-guidelines/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Contribution Guideline</a></li><ul><li class=collapse id=docscontribution-guidelines><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/contribution-guidelines/contributor/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Contributor</a></li><ul><li class=collapse id=docscontribution-guidelinescontributor><a class="td-sidebar-link td-sidebar-link__page" id=m-docscontribution-guidelinescontributorbecome-a-committer_dev href=/docs/contribution-guidelines/contributor/become-a-committer_dev/>How To</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docscontribution-guidelinescontributorcla-signing-guide_dev href=/docs/contribution-guidelines/contributor/cla-signing-guide_dev/>CLA</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docscontribution-guidelinescontributornew-contributor-guide_dev href=/docs/contribution-guidelines/contributor/new-contributor-guide_dev/>New Contributor</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docscontribution-guidelinescontributormailing-list-subscription-guide_dev href=/docs/contribution-guidelines/contributor/mailing-list-subscription-guide_dev/>Mailing List</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docscontribution-guidelinescontributorsoftware-donation-guide_dev href=/docs/contribution-guidelines/contributor/software-donation-guide_dev/>Donation</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docscontribution-guidelinescontributorreporting-security-issues_dev href=/docs/contribution-guidelines/contributor/reporting-security-issues_dev/>Security Issue</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docscontribution-guidelinescontributordubbo-extension-guide_dev href=/docs/contribution-guidelines/contributor/dubbo-extension-guide_dev/>Developing Extension</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docscontribution-guidelinescontributortest-coverage-guide_dev href=/docs/contribution-guidelines/contributor/test-coverage-guide_dev/>Test Coverage</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/contribution-guidelines/committer/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Committer</a></li><ul><li class=collapse id=docscontribution-guidelinescommitter><a class="td-sidebar-link td-sidebar-link__page" id=m-docscontribution-guidelinescommitternew-committer-guide_dev href=/docs/contribution-guidelines/committer/new-committer-guide_dev/>Committer Guide</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docscontribution-guidelinescommitterrelease-guide_dev href=/docs/contribution-guidelines/committer/release-guide_dev/>Release Guide</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docscontribution-guidelinescommitterlabel-an-issue-guide_dev href=/docs/contribution-guidelines/committer/label-an-issue-guide_dev/>Issue Guide</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docscontribution-guidelinescommitterwebsite-guide_dev href=/docs/contribution-guidelines/committer/website-guide_dev/>Website Guide</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docscontribution-guidelinescommitterapache-dubbo-page_dev href=/docs/contribution-guidelines/committer/apache-dubbo-page_dev/>Official Page</a></li></ul></ul></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/apache/dubbo-website/edit/master/content/en/docs/v2.7/user/rest.md target=_blank><i class="fa fa-edit fa-fw"></i>Edit this page</a>
<a href="https://github.com/apache/dubbo-website/new/master/content/en/docs/v2.7/user/rest.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i>Create child page</a>
<a href="https://github.com/apache/dubbo-website/issues/new?title=REST%20support" target=_blank><i class="fab fa-github fa-fw"></i>Create documentation issue</a>
<a href=https://github.com/apache/dubbo/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i>Create project issue</a></div><nav id=TableOfContents><ul><li><a href=#content>CONTENT</a></li><li><a href=#overview>Overview</a></li><li><a href=#advantages-of-rest>Advantages of REST</a></li><li><a href=#application-scenarios>Application scenarios</a></li><li><a href=#quick-start>Quick Start</a></li><li><a href=#introduction-to-standard-java-rest-api-jax-rs>Introduction to Standard Java REST API: JAX-RS</a></li><li><a href=#rest-service-provider-details>REST Service Provider Details</a><ul><li><a href=#implementation-of-http-postget>Implementation of HTTP POST/GET</a></li><li><a href=#is-annotation-put-in-interface-class-or-implementation-class>Is annotation put in interface class or implementation class?</a></li><li><a href=#support-for-json-xml-and-other-data-formats>Support for JSON, XML and other data formats</a></li><li><a href=#chinese-character-support>Chinese character support</a></li><li><a href=#additional-requirements-for-xml-data-format>Additional requirements for XML data format</a></li><li><a href=#custom-serialization>Custom Serialization</a></li><li><a href=#configuring-rest-server-implementation>Configuring REST Server implementation</a></li><li><a href=#get-context-information>Get Context Information</a></li><li><a href=#configure-the-port-number-and-context-path>Configure The Port Number and Context Path</a></li><li><a href=#configure-the-number-of-threads-and-io-threads>Configure the number of threads and IO threads</a></li><li><a href=#configure-long-connections>Configure long connections</a></li><li><a href=#configure-the-maximum-number-of-http-connections>Configure the maximum number of HTTP connections</a></li><li><a href=#configuring-the-timeout-and-http-connections-for-each-consumer>Configuring the timeout and HTTP connections for each consumer</a></li><li><a href=#gzip-data-compresssion>GZIP data compresssion</a></li><li><a href=#replacing-part-of-the-spring-xml-configuration-with-annotation>Replacing part of the spring XML configuration with annotation</a></li><li><a href=#adding-a-custom-filter-interceptor-etc>Adding a custom Filter, Interceptor, etc</a></li><li><a href=#adding-custom-exception-handler>Adding custom Exception handler</a></li><li><a href=#configuring-http-log-output>Configuring HTTP log output</a></li><li><a href=#inputing-parameter-validation>Inputing parameter validation</a></li><li><a href=#whether-to-transparently-publish-rest-service>Whether to transparently publish REST service</a></li><li><a href=#consumer-of-restful-remoting>Consumer of RESTful Remoting</a></li><li><a href=#scenario-1-non-dubbo-consumer-calls-dubbo-rest-service>Scenario 1: Non-Dubbo consumer calls Dubbo REST Service</a></li><li><a href=#scenario-2-dubbo-consumer-calls-dubbo-restful-remoting>Scenario 2: Dubbo consumer calls Dubbo RESTful Remoting</a></li><li><a href=#scenario-3-the-consumer-of-dubbo-calls-a-non-dubbo-restful-remoting>Scenario 3: The consumer of Dubbo calls a non-Dubbo RESTful Remoting</a></li><li><a href=#jax-rs-restrictions-in-dubbo>JAX-RS restrictions in Dubbo</a></li></ul></li><li><a href=#rest-faq>REST FAQ</a><ul><li><a href=#can-dubbo-rest-services-be-integrated-with-dubbo-registry-and-monitor>Can Dubbo REST services be integrated with Dubbo Registry and Monitor?</a></li><li><a href=#how-to-implement-load-balancing-and-failover-in-dubbo-rest>How to implement load balancing and failover in Dubbo REST?</a></li><li><a href=#can-overloaded-method-in-jax-rs-maps-to-the-same-url-address>Can overloaded method in JAX-RS maps to the same URL address?</a></li><li><a href=#can-a-post-method-in-jax-rs-receive-multiple-parameters>Can a POST method in JAX-RS receive multiple parameters?</a></li></ul></li><li><a href=#the-shortcomings-of-dubbos-current-system-related-to-rest>The shortcomings of Dubbo&rsquo;s current system (related to REST)</a><ul><li><a href=#invasiveness-of-rpccontext>Invasiveness of RpcContext</a></li><li><a href=#limitations-of-protocol-configuration>limitations of Protocol configuration</a></li><li><a href=#xml-naming-does-not-conform-to-the-spring-specification>XML naming does not conform to the spring specification</a></li></ul></li><li><a href=#best-practices-of-rest>Best practices of REST</a></li><li><a href=#performance-benchmark>Performance benchmark</a><ul><li><a href=#test-environment>Test Environment</a></li><li><a href=#test-script>Test Script</a></li><li><a href=#test-result>Test Result</a></li></ul></li><li><a href=#performance-optimization-recommendations>Performance Optimization Recommendations</a></li><li><a href=#extended-discussion>##Extended discussion</a><ul><li><a href=#comparison-among-rest-thrift-protobuf-and-so-on>Comparison among Rest, Thrift, Protobuf and so on</a></li><li><a href=#comparison-between-rest-and-traditional-webservers>Comparison between REST and traditional Webservers</a></li><li><a href=#comparison-of-jax-rs-between-spring-mvc>Comparison of JAX-RS Between Spring MVC</a></li></ul></li><li><a href=#future>##Future</a></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=/docs/>Documentation</a></li><li class=breadcrumb-item><a href=/docs/v2.7/>Dubbo 2.7</a></li><li class=breadcrumb-item><a href=/docs/v2.7/user/>User</a></li><li class="breadcrumb-item active" aria-current=page><a href=/docs/v2.7/user/rest/>REST support</a></li></ol></nav><div class=td-content><h1>REST support</h1><div class=lead>Develop RESTful application in Dubbo</div><div class="pageinfo pageinfo-primary"><p>Original author: Li Shen
Document copyright: <a href=http://www.apache.org/licenses/LICENSE-2.0>Apache 2.0license Signature - No interpretation</a></p><p>Working in progress &mldr;</p></div><blockquote><p>This article is lengthy since REST involves many aspects. Besides, it refers to the document style of Spring and so on. Not only limited to usage of the framework but also strives to present the design concept of the framework and the architectural idea of an excellent application.
For people who only want to get a glimpse of Dubbo and REST, all they need is to browse through the <code>Overview</code> to <code>Introduction to Standard Java REST API: JAX-RS</code>.</p></blockquote><h2 id=content>CONTENT</h2><ul><li>Overview</li><li>Advantages of REST</li><li>Application Scenarios</li><li>Quick Start</li><li>Introduction to Standard Java REST API: JAX-RS</li><li>Details of REST Service Provider<ul><li>Implementation of HTTP POST/GET</li><li>Should Annotation be Placed in the Interface or Implementation</li><li>Support for Multiple Data Formats (JSON, XML, etc.)</li><li>Support for Chinese Characters</li><li>Additional Requirements for XML Format</li><li>Custom Serialization</li><li>Configure the Implementation of REST Server</li><li>Access Context Data</li><li>Configure the Port Number and Context Path</li><li>Configure Number of Threads and IO Threads</li><li>Configure Persistent Connection</li><li>Configure Maximum Number of HTTP Connections</li><li>Configure Timeout and HTTP Connections Per Consumer</li><li>Gzip Data Compression</li><li>Replace Part of Spring XML Configuration With Annotation</li><li>Add Custom Filter, Interceptor, etc.</li><li>Add Custom Exception Handler</li><li>Configure HTTP Log Output</li><li>Verification of Input Parameters</li><li>Should REST Services be Published Transparently</li></ul></li><li>Details of REST Service Consumer<ul><li>Scenario 1: Non-Dubbo Consumer Calls Dubbo REST Service</li><li>Scenario 2: Dubbo Consumer Calls Dubbo REST Service</li><li>Scenario 3: Dubbo Consumer Calls Non-Dubbo REST Service</li></ul></li><li>JAX-RS Restrictions in Dubbo</li><li>REST FAQ<ul><li>Can Dubbo REST Services be Integrated With Dubbo Registration Center and Monitoring Center?</li><li>How to Implement Load Balancing and Failover in Dubbo REST?</li><li>Can Overloaded Methods in JAX-RS Map to Single URL?</li><li>Can a Method in JAX-RS Receive Multiple Parameters Via POST?</li></ul></li><li>Possible shortcomings of Current Dubbo System (Related to REST)<ul><li>Invasiveness of Rpc Context</li><li>Limitations of Protocol Configuration</li><li>XML Naming Does Not Conform to the Convention of Spring</li></ul></li><li>REST Best Practices</li><li>Performance Benchmark<ul><li>Test Environment</li><li>Test Script</li><li>Test Result</li></ul></li><li>Extended Discussion<ul><li>Comparison of REST, Thrift, Protobuf, etc.</li><li>Comparison Between REST and Traditional Web Services</li><li>Comparison Between JAX-RS and Spring MVC</li></ul></li><li>Future</li></ul><h2 id=overview>Overview</h2><p>Dubbo supports a variety of remote calling methods, such as Dubbo RPC (Binary Serialization + TCP), HTTP Invoker (Binary Serialization + HTTP, at least there is no support for Text Serialization in the open source version), Hessian (Binary Serialization + HTTP), Web Services (Text Serialization + HTTP), etc., but lacks support for trending RESTful Remote Calls (Text Serialization + HTTP).</p><p>Therefore, based on the standard Java REST API: JAX-RS 2.0 (Abbreviation of Java API for RESTful Web Services), we provide a mostly transparent REST Call support for Dubbo. Since it is fully compatible with the Standard Java API, all REST services developed for Dubbo may normally work without Dubbo or any specific underlying REST implementation.</p><p>It is particularly worth noting that we do not need to strictly adhere to the original definition and architectural style of REST. Even the famous Twitter REST API will make modest adjustments according to the situations, rather than mechanically follow the original REST style.</p><blockquote><p>Note: We call this feature RESTful Remoting (abstracted remote process or call) rather than a RESTful RPC (specific remote &ldquo;procedure&rdquo; call) because REST and RPC can be thought of two different styles. In Dubbo&rsquo;s REST implementation, there are two aspects, one is to provide or consume regular REST services, the other is to make REST a protocol implementation in the Dubbo RPC system, and RESTful Remoting covers both aspects.</p></blockquote><h2 id=advantages-of-rest>Advantages of REST</h2><p>The following is quoted from Wikipedia:</p><ul><li>REST can use cache to improve response speed more efficiently.</li><li>The stateless nature of the communication allows a set of servers to handle different requests in series, resulting in the increment of server scalability.</li><li>Browser can be used as a client to simplify software requirements.</li><li>REST software dependency is smaller than other mechanisms superimposed on HTTP.</li><li>REST does not require additional resource discovery mechanism.</li><li>REST&rsquo;s long-term compatibility is better in software technology evolution.</li></ul><p>Here I also want to add a particular advantage of REST: REST bases on simple text format messages and universal HTTP. Therefore, it has a broad applicability and is supported by almost all languages and platforms, together with a lower threshold in using and learning.</p><h2 id=application-scenarios>Application scenarios</h2><p>Because of the advantages of REST in applicability, supporting REST in Dubbo can bring (significant) benefits to most of current mainstream remoting call scenarios:</p><ol><li><p>Significantly simplify (cross-language) calls between heterogeneous systems within the enterprise. This is mainly for the following scene: Dubbo acts as a service provider, and systems that are written by other languages (including some java systems that do not base on Dubbo) works as service consumers. The two systems communicate through HTTP and text messages. REST has its unique advantages even comparing to binary cross-language RPC frameworks such as Thrift and ProtoBuf. (See discussion below)</p></li><li><p>Significantly simplify the development of the external Open API (Open Platform). You can use Dubbo to develop a specific Open API application, or you can directly publish the internal Dubbo service as a &ldquo;transparent&rdquo; REST API (Of course, it&rsquo;s better for Dubbo itself to provide more features transparently, for example, permission control, frequency control, billing and so on).</p></li><li><p>Significantly simplify the development of mobile (tablet) apps or desktop clients. Similar to point 2, you can use Dubbo to develop a specialized server for the applications, or transparently expose the internal Dubbo service. Of course in some projects, mobile or desktop applications can directly access the Open API described in point 2.</p></li><li><p>Significantly simplify the development of AJAX applications on the browser. Similar to point 2, you can use Dubbo to develop a specialized server for AJAX, or transparently expose the internal Dubbo service directly to JavaScript in the browser. Of course, many AJAX applications work better with web frameworks, so direct access to the Dubbo service may not be an exquisite architecture in many web projects.</p></li><li><p>Provide a text-based, easy-to-read remote call method for Dubbo systems within the enterprise (that is, both the service provider and the consumer are Dubbo-based systems).</p></li><li><p>Simplify the call from the Dubbo system to other heterogeneous systems. You can use a simple way like Dubbo to &ldquo;transparently&rdquo; call REST services provided by Non-Dubbo systems (regardless of whether the service provider is inside or outside the enterprise)</p></li></ol><p>It should be pointed out that I think that 1~3 are the most valuable application scenarios for Dubbo&rsquo;s REST call. And the main purpose why we add REST calls for Dubbo is to provide a service-oriented provider. In other words, to develop REST services for Non-Dubbo (heterogeneous) consumers.</p><p>To sum up, all application scenarios are shown below:
<img src=images/rest.jpg alt="no image found"></p><p>Borrowing the most famous slogan of Java in the past, by adding REST calls to Dubbo, you can implement the &ldquo;Write once, access everywhere&rdquo; service, which can theoretically be accessed all over the world, thus truly achieving an idealized Service-oriented Architecture (SOA).</p><p>Of course, traditional Web Services (WSDL/SOAP) can meet the requirements (even those that require enterprise-level features) of the above scenarios (except for scenario 4). But due to the complexity and other issues, they are less and less used.</p><h2 id=quick-start>Quick Start</h2><p>Developing a RESTful service in Dubbo is relatively straightforward. Let&rsquo;s take a simple user registration service for example.</p><p>The function to be implemented by this service is to provide the following URL (Note: This URL is not entirely RESTful, but more straightforward and more practical):</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>http://localhost:8080/users/register
</code></pre></div><p>Any client can POST a JSON string containing the user&rsquo;s information to the above URL to complete the user registration.</p><p>First, implement the interface of the service:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>UserService</span> <span style=color:#719e07>{</span>    
   <span style=color:#dc322f>void</span> <span style=color:#268bd2>registerUser</span><span style=color:#719e07>(</span>User user<span style=color:#719e07>);</span>
<span style=color:#719e07>}</span>
</code></pre></div><p>Then, implement the service:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;users&#34;</span><span style=color:#719e07>)</span>
<span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>UserServiceImpl</span> <span style=color:#268bd2>implements</span> UserService <span style=color:#719e07>{</span>
       
    <span style=color:#268bd2>@POST</span>
    <span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;register&#34;</span><span style=color:#719e07>)</span>
    <span style=color:#268bd2>@Consumes</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>})</span>
    <span style=color:#268bd2>public</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>registerUser</span><span style=color:#719e07>(</span>User user<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
        <span style=color:#586e75>// save the user...
</span><span style=color:#586e75></span>    <span style=color:#719e07>}</span>
<span style=color:#719e07>}</span>
</code></pre></div><p>The above implementation code for the service is very simple, but since the REST service is to be published to a specific HTTP URL so they can be accessed by clients written by any language or even a browser, there are a few additional JAX-RS standard annotations to be added for the relevant configuration:</p><p>@Path(&ldquo;users&rdquo;): Specify that the relative path for <code>UserService</code> is <code>/users</code>, standing for http://localhost:8080/users</p><p>@Path(&ldquo;register&rdquo;): Specify that the relative path for <code>registerUser()</code> is <code>/register</code>. Combining the previous @Path specified for <code>UserService</code>, the URL to call <code>UserService.register()</code> is HTTP://localhost:8080/users/register</p><p>@POST: Specify that <code>registerUser()</code> should be accessed with HTTP POST method</p><p>@Consumes({MediaType.APPLICATION_JSON}): Specify that <code>registerUser()</code> receives data in JSON format. The REST framework will automatically deserialize JSON data into a User object.</p><p>Finally, add this service to the spring configuration file and finish all service development work:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#586e75>&lt;!-- Exposure service on port 8080 with rest protocol --&gt;</span>
<span style=color:#268bd2>&lt;Dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> port=<span style=color:#2aa198>&#34;8080&#34;</span><span style=color:#268bd2>/&gt;</span>

<span style=color:#586e75>&lt;!-- Declare the service interface that needs to be exposed --&gt;</span>
<span style=color:#268bd2>&lt;Dubbo:service</span> interface=<span style=color:#2aa198>&#34;xxx.UserService&#34;</span> ref=<span style=color:#2aa198>&#34;userService&#34;</span><span style=color:#268bd2>/&gt;</span>

<span style=color:#586e75>&lt;!-- Implement the service like the local bean --&gt;</span>
<span style=color:#268bd2>&lt;bean</span> id=<span style=color:#2aa198>&#34;userService&#34;</span> class=<span style=color:#2aa198>&#34;xxx.UserServiceImpl&#34;</span> <span style=color:#268bd2>/&gt;</span>
</code></pre></div><h2 id=introduction-to-standard-java-rest-api-jax-rs>Introduction to Standard Java REST API: JAX-RS</h2><p>JAX-RS is a standard Java REST API that has been widely supported and applied in the industry. There are many well-known open source implementations, including Oracle&rsquo;s Jersey, RedHat&rsquo;s RestEasy, Apache&rsquo;s CXF and Wink, restlet, etc. In addition, all commercial JavaEE application servers that support the JavaEE 6.0 specifications or above support JAX-RS. Therefore, JAX-RS is a very mature solution, and it does not have any so-called vendor lock-in problems.</p><p>JAX-RS has a wealth of information on the web, such as the following introductory tutorial:</p><ul><li>Oracle official tutorial: <a href=http://docs.oracle.com/javaee/7/tutorial/doc/jaxrs.htm>http://docs.oracle.com/javaee/7/tutorial/doc/jaxrs.htm</a></li><li>Article on IBM developerWorks China: <a href=http://www.ibm.com/developerworks/cn/java/j-lo-jaxrs/>http://www.ibm.com/developerworks/cn/java/j-lo-jaxrs/</a></li></ul><p>For more information, please feel free to Google or Baidu. As far as learning JAX-RS is concerned, it is generally enough to master the usage of various annotations.</p><blockquote><p>Note: Dubbo is based on the JAX-RS 2.0, and sometimes you need to pay attention to the version of the reference material or REST implementation.</p></blockquote><h2 id=rest-service-provider-details>REST Service Provider Details</h2><p>In this section, we will expand the <code>UserService</code> in the &ldquo;Quick Start&rdquo; to further demonstrate the development points of the REST service provider in Dubbo.</p><h3 id=implementation-of-http-postget>Implementation of HTTP POST/GET</h3><p>Although it&rsquo;s recommended to use the four standard methods (POST, DELETE, PUT and GET) in the HTTP protocol to implement common CRUD in REST services, but in practice, we generally use POST to implement create and update, and use GET to implement delete and read (DELETE and PUT will even be blocked by some firewalls).</p><p>The implementation of POST has already been briefly demonstrated. Here, we will add a function to get the registered user data to <code>UserService</code>, in order to demonstrate the implementation of GET.</p><p>This function is to enable the client to obtain user data of different IDs by accessing different URLs as follows:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>http://localhost:8080/users/1001
http://localhost:8080/users/1002
http://localhost:8080/users/1003
</code></pre></div><p>Of course, you can use other forms of URLs to access user data of different IDs, for example:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>http://localhost:8080/users/load?id=1001
</code></pre></div><p>JAX-RS itself can support all of these forms. However, the first form of including query parameters in the URL path (http://localhost:8080/users/1001) is more in line with the general habit of REST, so it is recommended to use. Below we will add a <code>getUser()</code> method to the <code>UserService</code> to implement this form of URL access:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>@GET</span>
<span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;{id : \\d+}&#34;</span><span style=color:#719e07>)</span>
<span style=color:#268bd2>@Produces</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>})</span>
<span style=color:#268bd2>public</span> User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
    <span style=color:#586e75>// ...
</span><span style=color:#586e75></span><span style=color:#719e07>}</span>
</code></pre></div><p>@GET: Specify that the method shoule be accessed with HTTP GET method</p><p>@Path("{id : \d+}"): According to the above functional requirements, the URL to access <code>getUser()</code> should be &ldquo;http://localhost:8080/users/ + any number&rdquo;, and this number should passed to <code>getUser()</code> method as parameter passed to the getUser() method. In the annotation here, the {id: xxx} in @Path specifies that the relative path contains the id parameter, and its value will be automatically passed to the method parameter <code>id</code> annotated with @PathParam(&ldquo;id&rdquo;). <code>\d+</code> following <code>{id:</code> is a regular expression specifies that the id parameter must be a number.</p><p>@Produces({MediaType.APPLICATION_JSON}): Specify that <code>getUser()</code> outputs data in JSON format. The REST framework automatically serializes the User object into JSON data.</p><h3 id=is-annotation-put-in-interface-class-or-implementation-class>Is annotation put in interface class or implementation class?</h3><p>The development of REST services based on Dubbo is mainly configured through JAX-RS annotations. In the above example, we put the annotation in the implementation class of the service. But in fact, we can completely put the annotation in the interface of the service. These two methods are completely equivalent, for example:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;users&#34;</span><span style=color:#719e07>)</span>
<span style=color:#268bd2>public</span> <span style=color:#268bd2>interface</span> <span style=color:#268bd2>UserService</span> <span style=color:#719e07>{</span>
    
    <span style=color:#268bd2>@GET</span>
    <span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;{id : \\d+}&#34;</span><span style=color:#719e07>)</span>
    <span style=color:#268bd2>@Produces</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>})</span>
    User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>);</span>
<span style=color:#719e07>}</span>
</code></pre></div><p>In a typical application, we recommend put the annotation in the service implementation class. Then, annotations are closer to Java implementation code and easier to develop and maintain. More importantly, we generally tend to avoid contamination of the interface, maintaining the purity and wide applicability of the interface.</p><p>However, as will be described later, if we access this service by using the consumer directly developed by Dubbo, the annotation must be put in the interface.</p><p>If the interface and the implementation class are both added annotation at the same time, the implementation configuration of the implementation class will take effect, and the annotation on the interface will be ignored.</p><h3 id=support-for-json-xml-and-other-data-formats>Support for JSON, XML and other data formats</h3><p>The dubbo REST services can support the transmission of data in multiple formats to provide maximum flexibility to the client. And we add extra functions to the JSON and XML formats which is most commonly used.</p><p>For example, we want the <code>getUser()</code> method in the above example support returning JSON and XML format data separately, just need to include two formats in the annotation:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>@Produces</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>,</span> MediaType<span style=color:#719e07>.</span>TEXT_XML<span style=color:#719e07>})</span>
User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>);</span>
</code></pre></div><p>Or you can directly represent a MediaType with a string (also supports wildcards):</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>@Produces</span><span style=color:#719e07>({</span><span style=color:#2aa198>&#34;application/json&#34;</span><span style=color:#719e07>,</span> <span style=color:#2aa198>&#34;text/xml&#34;</span><span style=color:#719e07>})</span>
User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>);</span>
</code></pre></div><p>If all methods support the same type of input and output data format, then we do not need to make configure on each method, just add annotation to the service class:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;users&#34;</span><span style=color:#719e07>)</span>
<span style=color:#268bd2>@Consumes</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>,</span> MediaType<span style=color:#719e07>.</span>TEXT_XML<span style=color:#719e07>})</span>
<span style=color:#268bd2>@Produces</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>,</span> MediaType<span style=color:#719e07>.</span>TEXT_XML<span style=color:#719e07>})</span>
<span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>UserServiceImpl</span> <span style=color:#268bd2>implements</span> UserService <span style=color:#719e07>{</span>
    <span style=color:#586e75>// ...
</span><span style=color:#586e75></span><span style=color:#719e07>}</span>
</code></pre></div><p>In the case where a REST service supports multiple data formats, according to the JAX-RS standard, the MIME header (content-type and accept) in HTTP is generally used to specify which format data is currently used.</p><p>But in dubbo, we also automatically support the current common use of the industry, that is, use a URL suffix (.json and .xml) to specify the data format you want to use. For example, after adding the above annotation, directly accessing <code>http://localhost:8888/users/1001.json</code> means using the json format, and directly accessing <code>http://localhost:8888/users/1002.xml</code> means using the xml format. It&rsquo;s simpler and more intuitive than using HTTP Header. This way is used by the REST APIs of Twitter, Weibo, etc.</p><p>If you don&rsquo;t add HTTP header or suffix, the REST of dubbo will give priority to enable the top ranked data format in the above definition of annotation.</p><blockquote><p>Note: To support XML format data, you can use either <code>MediaType.TEXT_XML</code> or <code>MediaType.APPLICATION_XML</code> in annotation, but TEXT_XML is more commonly used, and if you want to use the above URL suffix to specify the data format, you can only configure it as TEXT_XML to take effect.</p></blockquote><h3 id=chinese-character-support>Chinese character support</h3><p>In order to output Chinese characters normally in dubbo REST, as with the usual Java web applications, we need to set the contentType of the HTTP response to UTF-8 encoding.</p><p>Based on the standard usage of JAX-RS, we only need to do the following annotation configuration:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>@Produces</span><span style=color:#719e07>({</span><span style=color:#2aa198>&#34;application/json; charset=UTF-8&#34;</span><span style=color:#719e07>,</span> <span style=color:#2aa198>&#34;text/xml; charset=UTF-8&#34;</span><span style=color:#719e07>})</span>
User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>);</span>
</code></pre></div><p>For the convenience of users, we add a support class directly in dubbo REST to define the above constants, which can be used directly and reduce the possibility of error.</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>@Produces</span><span style=color:#719e07>({</span>ContentType<span style=color:#719e07>.</span>APPLICATION_JSON_UTF_8<span style=color:#719e07>,</span> ContentType<span style=color:#719e07>.</span>TEXT_XML_UTF_8<span style=color:#719e07>})</span>
User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>);</span>
</code></pre></div><h3 id=additional-requirements-for-xml-data-format>Additional requirements for XML data format</h3><p>Because the implementation of JAX-RS generally use standard JAXB (Java API for XML Binding) to serialize and deserialize XML format data, we need to add a class-level JAXB annotation for each object to be transferred in XML. Otherwise serialization will report an error. For example, add follows to the User returned in <code>getUser()</code> :</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>@XmlRootElement</span>
<span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>User</span> <span style=color:#268bd2>implements</span> Serializable <span style=color:#719e07>{</span>
    <span style=color:#586e75>// ...
</span><span style=color:#586e75></span><span style=color:#719e07>}</span>
</code></pre></div><p>In addition, if the return value in the service method is Java primitive type (such as int, long, float, double, etc.), it is best to add a wrapper object to them, because JAXB can not directly serialize the primitive type.</p><p>For example, we want the above <code>registerUser()</code> method to return the ID number generated by the server for the user:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#dc322f>long</span> <span style=color:#268bd2>registerUser</span><span style=color:#719e07>(</span>User user<span style=color:#719e07>);</span>
</code></pre></div><p>Because the primitive type is not supported by JAXB serialization, add a wrapper object:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>@XmlRootElement</span>
<span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>RegistrationResult</span> <span style=color:#268bd2>implements</span> Serializable <span style=color:#719e07>{</span>

    <span style=color:#268bd2>private</span> Long id<span style=color:#719e07>;</span>
    
    <span style=color:#268bd2>public</span> <span style=color:#268bd2>RegistrationResult</span><span style=color:#719e07>()</span> <span style=color:#719e07>{</span>
    <span style=color:#719e07>}</span>
    
    <span style=color:#268bd2>public</span> <span style=color:#268bd2>RegistrationResult</span><span style=color:#719e07>(</span>Long id<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
        <span style=color:#719e07>this</span><span style=color:#719e07>.</span>id <span style=color:#719e07>=</span> id<span style=color:#719e07>;</span>
    <span style=color:#719e07>}</span>
    
    <span style=color:#268bd2>public</span> Long <span style=color:#268bd2>getId</span><span style=color:#719e07>()</span> <span style=color:#719e07>{</span>
        <span style=color:#719e07>return</span> id<span style=color:#719e07>;</span>
    <span style=color:#719e07>}</span>
    
    <span style=color:#268bd2>public</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>setId</span><span style=color:#719e07>(</span>Long id<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
        <span style=color:#719e07>this</span><span style=color:#719e07>.</span>id <span style=color:#719e07>=</span> id<span style=color:#719e07>;</span>
    <span style=color:#719e07>}</span>
<span style=color:#719e07>}</span>
</code></pre></div><p>And modify the service method:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>RegistrationResult <span style=color:#268bd2>registerUser</span><span style=color:#719e07>(</span>User user<span style=color:#719e07>);</span>
</code></pre></div><p>This not only solves the problem of XML serialization, but also makes the returned data conform to the specifications of XML and JSON. For example, in JSON, the returned form would be as follows:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>{<span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>:</span> <span style=color:#2aa198>1001</span>}
</code></pre></div><p>If you do not add a wrapper, the JSON return value will be directly</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>1001 	
</code></pre></div><p>In XML, the return value after adding wrapper will be:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;registrationResult&gt;</span>
    <span style=color:#268bd2>&lt;id&gt;</span>1002<span style=color:#268bd2>&lt;/id&gt;</span>
<span style=color:#268bd2>&lt;/registrationResult&gt;</span>
</code></pre></div><p>This wrapper object actually uses the so-called Data Transfer Object (DTO) mode, and DTO can also make more useful customizations for transferring data.
While in XML, after adding wrapper, the return value will be</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;registrationResult&gt;</span>
    <span style=color:#268bd2>&lt;id&gt;</span>1002<span style=color:#268bd2>&lt;/id&gt;</span>
<span style=color:#268bd2>&lt;/registrationResult&gt;</span>
</code></pre></div><p>In fact, this wrapper object uses the so-called Data Transfer Object (DTO) mode. DTO can also be used to make more useful customizations to transfer data.</p><h3 id=custom-serialization>Custom Serialization</h3><p>As mentioned above, the underlying implementation of REST will automatically serialize/deserialize between the service object and the JSON/XML data format.</p><p>The REST implementation in Dubbo uses JAXB for XML serialization and Jackson for JSON serialization,so you can customize the mapping by adding JAXB or Jackson&rsquo;s annotation to the object.</p><p>For example, customizing the object properties to map to the names of the XML elements:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>@XmlRootElement</span>
<span style=color:#268bd2>@XmlAccessorType</span><span style=color:#719e07>(</span>XmlAccessType<span style=color:#719e07>.</span>FIELD<span style=color:#719e07>)</span>
<span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>User</span> <span style=color:#268bd2>implements</span> Serializable <span style=color:#719e07>{</span>

    <span style=color:#268bd2>@XmlElement</span><span style=color:#719e07>(</span>name<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;username&#34;</span><span style=color:#719e07>)</span>
    <span style=color:#268bd2>private</span> String name<span style=color:#719e07>;</span>  
<span style=color:#719e07>}</span>
</code></pre></div><p>Customizing the object properties to map to the names of the JSON field:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>User</span> <span style=color:#268bd2>implements</span> Serializable <span style=color:#719e07>{</span>

    <span style=color:#268bd2>@JsonProperty</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;username&#34;</span><span style=color:#719e07>)</span>
    <span style=color:#268bd2>private</span> String name<span style=color:#719e07>;</span>
<span style=color:#719e07>}</span>
</code></pre></div><p>For more information, please refer to the official documentation of JAXB and Jackson, or google yourself.</p><h3 id=configuring-rest-server-implementation>Configuring REST Server implementation</h3><p>Currently in dubbo, we support the implementation of five embedded rest servers. The implementation of the rest server is selected by the following XML attribute of the server:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> server=<span style=color:#2aa198>&#34;jetty&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><p>The above configuration uses the embedded jetty to do the rest server. At the same time, if you do not configure the server attribute, the rest protocol also uses jetty by default. jetty is a very mature java servlet container and has a good integration with dubbob (Among the five embedded servers, Only jetty and later tomcat、tjws, complete seamless integration with Dubbo monitoring system.), so, if your dubbo system is a separate process, you can use jetty by default.</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> server=<span style=color:#2aa198>&#34;tomcat&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><p>The above configuration uses the embedded tomcat to do the rest server.On embedded tomcat, REST performance is much better than jetty (See the benchmark below). It is recommended that Tomcat is used in scenarios where high performance is required.</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> server=<span style=color:#2aa198>&#34;netty&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><p>The above configuration uses embedded netty to do the rest server. (TODO more contents to add)</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> server=<span style=color:#2aa198>&#34;tjws&#34;</span><span style=color:#268bd2>/&gt;</span> (tjws is now deprecated)
<span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> server=<span style=color:#2aa198>&#34;sunhttp&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><p>The above configuration uses embedded tjws or Sun HTTP server to do the rest server. These two server implementations are very lightweight, it is very convenient for quick start-up in integration testing, of course, it can also be used in a production environment with low load. Note: tjws is currently deprecated because it does not work well with the servlet 3.1 API.</p><p>If your dubbo system is not a separate process,
instead of deploying to a Java application server, we recommend the following configuration:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> server=<span style=color:#2aa198>&#34;servlet&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><p>By setting the server as the servlet, dubbo will use the servlet container of the external application server to do the rest server. At the same time, add the following configuration to the web.xml of the dubbo system:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;web-app&gt;</span>
    <span style=color:#268bd2>&lt;context-param&gt;</span>
        <span style=color:#268bd2>&lt;param-name&gt;</span>contextConfigLocation<span style=color:#268bd2>&lt;/param-name&gt;</span>
        <span style=color:#268bd2>&lt;param-value&gt;</span>/WEB-INF/classes/META-INF/spring/dubbo-demo-provider.xml<span style=color:#268bd2>&lt;/param-value&gt;</span>
    <span style=color:#268bd2>&lt;/context-param&gt;</span>

    <span style=color:#268bd2>&lt;listener&gt;</span>
        <span style=color:#268bd2>&lt;listener-class&gt;</span>org.apache.dubbo.remoting.http.servlet.BootstrapListener<span style=color:#268bd2>&lt;/listener-class&gt;</span>
    <span style=color:#268bd2>&lt;/listener&gt;</span>

    <span style=color:#268bd2>&lt;listener&gt;</span>
        <span style=color:#268bd2>&lt;listener-class&gt;</span>org.springframework.web.context.ContextLoaderListener<span style=color:#268bd2>&lt;/listener-class&gt;</span>
    <span style=color:#268bd2>&lt;/listener&gt;</span>

    <span style=color:#268bd2>&lt;servlet&gt;</span>
        <span style=color:#268bd2>&lt;servlet-name&gt;</span>dispatcher<span style=color:#268bd2>&lt;/servlet-name&gt;</span>
        <span style=color:#268bd2>&lt;servlet-class&gt;</span>org.apache.dubbo.remoting.http.servlet.DispatcherServlet<span style=color:#268bd2>&lt;/servlet-class&gt;</span>
        <span style=color:#268bd2>&lt;load-on-startup&gt;</span>1<span style=color:#268bd2>&lt;/load-on-startup&gt;</span>
    <span style=color:#268bd2>&lt;/servlet&gt;</span>

    <span style=color:#268bd2>&lt;servlet-mapping&gt;</span>
        <span style=color:#268bd2>&lt;servlet-name&gt;</span>dispatcher<span style=color:#268bd2>&lt;/servlet-name&gt;</span>
        <span style=color:#268bd2>&lt;url-pattern&gt;</span>/*<span style=color:#268bd2>&lt;/url-pattern&gt;</span>
    <span style=color:#268bd2>&lt;/servlet-mapping&gt;</span>
<span style=color:#268bd2>&lt;/web-app&gt;</span>
</code></pre></div><p>In other words, you must add dubbo&rsquo;s BootstrapListener and DispatherServlet to web.xml to complete the integration of dubbo&rsquo;s REST functionality with the external servlet container.</p><blockquote><p>Note:If you are using spring&rsquo;s ContextLoaderListener to load spring, you must ensure that the BootstrapListener is configured before the ContextLoaderListener, otherwise the dubbo initialization will fail.</p></blockquote><p>In fact, you can still stick to the embedded server in this scenario, but the servlet container of the external application server is often more powerful than the embedded server(Especially if you are deploying to a more robust and scalable WebLogic, WebSphere, etc.). In addition, it is sometimes convenient to do unified management, monitoring, and so on in the application server.</p><h3 id=get-context-information>Get Context Information</h3><p>Varieties of context information are valuable when calling procedures remotely. For instance, the IP address from the Client.</p><p>We provide two methods to get the Client&rsquo;s IP in dubbo.</p><p>The first one is using @Context annotation from JAX-RS:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>public</span> User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>,</span> <span style=color:#268bd2>@Context</span> HttpServletRequest request<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Client address is &#34;</span> <span style=color:#719e07>+</span> request<span style=color:#719e07>.</span>getRemoteAddr<span style=color:#719e07>());</span>
<span style=color:#719e07>}</span> 
</code></pre></div><p>After decorating a parameter of <code>getUser()</code> with Context, we can inject the current HttpServletRequest and then call the servlet api to get the IP.</p><blockquote><p>Notice: This method can only be used when the server is one of the followings: twjs, tomecat, jetty or servlet. All of them provide servlet container. In addition, standard JAX-RS also allow us to get HttpServletRequest using an instance field in service Class decorated by <code>@Context</code>.</p></blockquote><p>The second method is to use RpcContext, which is commonly seen in dubbo:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>public</span> User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Client address is &#34;</span> <span style=color:#719e07>+</span> RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getRemoteAddressString<span style=color:#719e07>());</span>
<span style=color:#719e07>}</span> 
</code></pre></div><blockquote><p>Notice: Similarly, this method only works in the jetty, tomcat, servlet or tjws server. In dubbo, the usage of RpcContext is rather invasive. We are likely to refactor it in the future.</p></blockquote><p>The first method is suggested when your project may run without dubbo and need the compatibility with JAX-RS. But if you want a more elegant service interface definition, the second method would be the better choice.</p><p>What&rsquo;s more, in the newest version of dubbo REST service, RpcContext could be used to get HttpServletRequest and HttpServletResponse, providing great flexibility for users to implement some complex functions. The following is an example:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#719e07>if</span> <span style=color:#719e07>(</span>RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getRequest<span style=color:#719e07>()</span> <span style=color:#719e07>!=</span> <span style=color:#cb4b16>null</span> <span style=color:#719e07>&amp;&amp;</span> RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getRequest<span style=color:#719e07>()</span> <span style=color:#719e07>instanceof</span> HttpServletRequest<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Client address is &#34;</span> <span style=color:#719e07>+</span> <span style=color:#719e07>((</span>HttpServletRequest<span style=color:#719e07>)</span> RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getRequest<span style=color:#719e07>()).</span>getRemoteAddr<span style=color:#719e07>());</span>
<span style=color:#719e07>}</span>

<span style=color:#719e07>if</span> <span style=color:#719e07>(</span>RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getResponse<span style=color:#719e07>()</span> <span style=color:#719e07>!=</span> <span style=color:#cb4b16>null</span> <span style=color:#719e07>&amp;&amp;</span> RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getResponse<span style=color:#719e07>()</span> <span style=color:#719e07>instanceof</span> HttpServletResponse<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Response object from RpcContext: &#34;</span> <span style=color:#719e07>+</span> RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getResponse<span style=color:#719e07>());</span>
<span style=color:#719e07>}</span>
</code></pre></div><blockquote><p>Notice:
In order to maintain the neutrality of the protocol, <code>RpcContext.getRequest()</code> and <code>RpcContext.getResponse()</code> only return an Object which could be null. Therefore, you have to check the type on your own.</p></blockquote><blockquote><p>Notice: only when you use jetty, tomcat, servlet as the server can you get the HttpServletRequest and HttpServletResponse as expected. Because only these server
implemented the servlet container.</p></blockquote><p>To simplify the programme, you can also use generic to get a specific type of request/response:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#719e07>if</span> <span style=color:#719e07>(</span>RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getRequest<span style=color:#719e07>(</span>HttpServletRequest<span style=color:#719e07>.</span>class<span style=color:#719e07>)</span> <span style=color:#719e07>!=</span> <span style=color:#cb4b16>null</span><span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Client address is &#34;</span> <span style=color:#719e07>+</span> RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getRequest<span style=color:#719e07>(</span>HttpServletRequest<span style=color:#719e07>.</span>class<span style=color:#719e07>).</span>getRemoteAddr<span style=color:#719e07>());</span>
<span style=color:#719e07>}</span>

<span style=color:#719e07>if</span> <span style=color:#719e07>(</span>RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getResponse<span style=color:#719e07>(</span>HttpServletResponse<span style=color:#719e07>.</span>class<span style=color:#719e07>)</span> <span style=color:#719e07>!=</span> <span style=color:#cb4b16>null</span><span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Response object from RpcContext: &#34;</span> <span style=color:#719e07>+</span> RpcContext<span style=color:#719e07>.</span>getContext<span style=color:#719e07>().</span>getResponse<span style=color:#719e07>(</span>HttpServletResponse<span style=color:#719e07>.</span>class<span style=color:#719e07>));</span>
<span style=color:#719e07>}</span>
</code></pre></div><p>If request/response does not correspond to the specific type, it would return null.</p><h3 id=configure-the-port-number-and-context-path>Configure The Port Number and Context Path</h3><p>The REST protocol in dubbo use 80 as the default port. But you are also allowed to modify it:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> port=<span style=color:#2aa198>&#34;8888&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><p>As what have been metioned before, we can use <code>@Path</code> to configure relative URL path in single REST service. In fact, we can also set a basic relative path which is known as context path for all REST service.</p><p>All we need to do is to add the contextpath property:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> port=<span style=color:#2aa198>&#34;8888&#34;</span> contextpath=<span style=color:#2aa198>&#34;services&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><p>Let&rsquo;s have a look at the previous code:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;users&#34;</span><span style=color:#719e07>)</span>
<span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>UserServiceImpl</span> <span style=color:#268bd2>implements</span> UserService <span style=color:#719e07>{</span>
       
    <span style=color:#268bd2>@POST</span>
    <span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;register&#34;</span><span style=color:#719e07>)</span>
    <span style=color:#268bd2>@Consumes</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>})</span>
    <span style=color:#268bd2>public</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>registerUser</span><span style=color:#719e07>(</span>User user<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
        <span style=color:#586e75>// save the user...
</span><span style=color:#586e75></span>    <span style=color:#719e07>}</span>	
<span style=color:#719e07>}</span>
</code></pre></div><p>Now the complete path would be:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>http://localhost:8888/services/users/register
</code></pre></div><p>Notice: If you use external server as REST server, you should configure as followings,</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> port=<span style=color:#2aa198>&#34;8888&#34;</span> contextpath=<span style=color:#2aa198>&#34;services&#34;</span> server=<span style=color:#2aa198>&#34;servlet&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><p>meaning that you should keep the config of port and contextpath are the same with the port and DispatcherServlet&rsquo;s context path (webapp path + servlet url pattern) in external server. For example, when we are configuring the application on tomcat Root path, we need to make sure the contextpath here is totally the same with the <code>&lt;url-pattern/></code> of DispacherServlet in web.xml:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;servlet-mapping&gt;</span>
     <span style=color:#268bd2>&lt;servlet-name&gt;</span>dispatcher<span style=color:#268bd2>&lt;/servlet-name&gt;</span>
     <span style=color:#268bd2>&lt;url-pattern&gt;</span>/services/*<span style=color:#268bd2>&lt;/url-pattern&gt;</span>
<span style=color:#268bd2>&lt;/servlet-mapping&gt;</span>
</code></pre></div><h3 id=configure-the-number-of-threads-and-io-threads>Configure the number of threads and IO threads</h3><p>We can set the number of threads of rest service:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> threads=<span style=color:#2aa198>&#34;500&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><blockquote><p>Notice: Currently, the setting only works when the server is netty, jetty or tomcat. If you use servlet as the server, you are using the external server as the REST server which is out of dubboes' control, so the setting would not work expectedly.</p></blockquote><p>You can also set threads number of IO worker of netty server:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> iothreads=<span style=color:#2aa198>&#34;5&#34;</span> threads=<span style=color:#2aa198>&#34;100&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><h3 id=configure-long-connections>Configure long connections</h3><p>The REST service in Dubbo is accessed by default with http long connection, if you want to switch to short connection, you can configure it as below:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> keepalive=<span style=color:#2aa198>&#34;false&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><blockquote><p>Notice: This configuration only works in netty and tomcat.</p></blockquote><h3 id=configure-the-maximum-number-of-http-connections>Configure the maximum number of HTTP connections</h3><p>Configuring the maximum number of HTTP connections can prevent REST server from
overload as the basic self-protection mechanism.</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> accepts=<span style=color:#2aa198>&#34;500&#34;</span> server=<span style=color:#2aa198>&#34;tomcat/</span><span style=color:#268bd2>&gt;</span>
</code></pre></div><blockquote><p>Notice: Currently, it only works in tomcat.</p></blockquote><h3 id=configuring-the-timeout-and-http-connections-for-each-consumer>Configuring the timeout and HTTP connections for each consumer</h3><p>If the consumer of the rest service is also a dubbo system, you can configure the maximum timeout for the consumer to call the rest service, and the maximum number of HTTP connections that each consumer can initiate, just like other dubbo RPC mechanisms.</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:service</span> interface=<span style=color:#2aa198>&#34;xxx&#34;</span> ref=<span style=color:#2aa198>&#34;xxx&#34;</span> protocol=<span style=color:#2aa198>&#34;rest&#34;</span> timeout=<span style=color:#2aa198>&#34;2000&#34;</span> connections=<span style=color:#2aa198>&#34;10&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><p>Of course, since this configuration is valid for the consumer, it can also be configured on the consumer side:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:reference</span> id=<span style=color:#2aa198>&#34;xxx&#34;</span> interface=<span style=color:#2aa198>&#34;xxx&#34;</span> timeout=<span style=color:#2aa198>&#34;2000&#34;</span> connections=<span style=color:#2aa198>&#34;10&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><p>However, we generally recommend configuring the service provider to provide such a configuration. According to the official dubbo documentation, “Provider should configure the properties of the Consumer side as much as possible.
Let the Provider implementer think about the service features and service quality of the Provider from the beginning.”</p><blockquote><p>Note: If dubbo REST service is released to non-dubbo clients, the configuration on <code>&lt;dubbo:service/></code> is completely invalid because the client is not under dubbo control.</p></blockquote><h3 id=gzip-data-compresssion>GZIP data compresssion</h3><p>Dubbo RESTful Remoting supports the use of Gzip to compress request and response data to reduce network transmission time and bandwidth consumption, but this will also increase CPU overhead.</p><p>TODO more contents to add.</p><h3 id=replacing-part-of-the-spring-xml-configuration-with-annotation>Replacing part of the spring XML configuration with annotation</h3><p>Above discussions are based on the XML configuration of Dubbo in spring.
However, dubbo/spring itself supports the use of annotation for configuration, so we can also follow the steps in the Dubbo document and add the relevant annotation to the REST service implementation, replacing some XML configurations, such as:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>@Service</span><span style=color:#719e07>(</span>protocol <span style=color:#719e07>=</span> <span style=color:#2aa198>&#34;rest&#34;</span><span style=color:#719e07>)</span>
<span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;users&#34;</span><span style=color:#719e07>)</span>
<span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>UserServiceImpl</span> <span style=color:#268bd2>implements</span> UserService <span style=color:#719e07>{</span>

    <span style=color:#268bd2>@Autowired</span>
    <span style=color:#268bd2>private</span> UserRepository userRepository<span style=color:#719e07>;</span>
       
    <span style=color:#268bd2>@POST</span>
    <span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;register&#34;</span><span style=color:#719e07>)</span>
    <span style=color:#268bd2>@Consumes</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>})</span>
    <span style=color:#268bd2>public</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>registerUser</span><span style=color:#719e07>(</span>User user<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
        <span style=color:#586e75>// save the user
</span><span style=color:#586e75></span>        userRepository<span style=color:#719e07>.</span>save<span style=color:#719e07>(</span>user<span style=color:#719e07>);</span>
    <span style=color:#719e07>}</span>	
<span style=color:#719e07>}</span>
</code></pre></div><p>Annotation-based configuration is more concise and precise, and often easier to maintain (modern IDE can support such things as class name refactoring in XML, and therefore the maintenance of XML is good for specific use cases here). XML is less intrusive to code, especially for dynamically modifying configurations, especially when you want to modify the timeout for connection of a single service configuration, the maximum number of connections per client, cluster policy, weights, and so on. In addition, for complex applications or modules, XML provides a central point to cover all the components and configurations. It is at a glance, and generally more convenient for long term maintenance of the project.</p><p>Of course, there&rsquo;s no right or wrong of different choices of configuration method. Sometimes it&rsquo;s just personal preference.</p><h3 id=adding-a-custom-filter-interceptor-etc>Adding a custom Filter, Interceptor, etc</h3><p>Dubbo RESTful Remoting also supports JAX-RS standard Filter and Interceptor to facilitate customized interception of REST request and response processes.</p><p>Here, Filter is mainly used to access and set parameters, URIs for HTTP request and response, and so on, for example, setting the cache header for HTTP response:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>CacheControlFilter</span> <span style=color:#268bd2>implements</span> ContainerResponseFilter <span style=color:#719e07>{</span>

    <span style=color:#268bd2>public</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>filter</span><span style=color:#719e07>(</span>ContainerRequestContext req<span style=color:#719e07>,</span> ContainerResponseContext res<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
        <span style=color:#719e07>if</span> <span style=color:#719e07>(</span>req<span style=color:#719e07>.</span>getMethod<span style=color:#719e07>().</span>equals<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;GET&#34;</span><span style=color:#719e07>))</span> <span style=color:#719e07>{</span>
            res<span style=color:#719e07>.</span>getHeaders<span style=color:#719e07>().</span>add<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Cache-Control&#34;</span><span style=color:#719e07>,</span> <span style=color:#2aa198>&#34;someValue&#34;</span><span style=color:#719e07>);</span>
        <span style=color:#719e07>}</span>
    <span style=color:#719e07>}</span>
<span style=color:#719e07>}</span>
</code></pre></div><p>Interceptor is mainly used to access and modify the input and output byte streams, for example, manually adding GZIP compression:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>GZIPWriterInterceptor</span> <span style=color:#268bd2>implements</span> WriterInterceptor <span style=color:#719e07>{</span>
 
    <span style=color:#268bd2>@Override</span>
    <span style=color:#268bd2>public</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>aroundWriteTo</span><span style=color:#719e07>(</span>WriterInterceptorContext context<span style=color:#719e07>)</span>
                    <span style=color:#268bd2>throws</span> IOException<span style=color:#719e07>,</span> WebApplicationException <span style=color:#719e07>{</span>
        OutputStream outputStream <span style=color:#719e07>=</span> context<span style=color:#719e07>.</span>getOutputStream<span style=color:#719e07>();</span>
        context<span style=color:#719e07>.</span>setOutputStream<span style=color:#719e07>(</span><span style=color:#719e07>new</span> GZIPOutputStream<span style=color:#719e07>(</span>outputStream<span style=color:#719e07>));</span>
        context<span style=color:#719e07>.</span>proceed<span style=color:#719e07>();</span>
    <span style=color:#719e07>}</span>
<span style=color:#719e07>}</span>
</code></pre></div><p>In standard JAX-RS applications, we generally add @Provider annotations to Filter and Interceptor, and JAX-RS runtime will automatically discover and enable them. In Dubbo, we register Filter and Interceptor by adding an XML configuration:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> port=<span style=color:#2aa198>&#34;8888&#34;</span> extension=<span style=color:#2aa198>&#34;xxx.TraceInterceptor, xxx.TraceFilter&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><p>Here, we can add these three types of objects, Filter, Interceptor and DynamicFeature, to the <code>extension</code> attributes, separated by commas. (DynamicFeature is another interface that allows us to enable Filter and Interceptor more dynamically. Please feel free to google.)</p><p>Of course, Dubbo itself also supports Filter, but the Filter and Interceptor we discuss here are more like the bottom of the protocol implementation. Compared to Dubbo&rsquo;s filter, you can do a lower level of customization here.</p><blockquote><p>Note: The XML attribute here is called extension, not interceptor or filter. That is because we will add more extension types in addition to Interceptor and Filter in the future.</p></blockquote><p>If the REST consumer is also a Dubbo system (see discussion below), you can also configure the Interceptor and Filter for the consumer in a similar way.</p><p>However, it should be noted that the consumer-side Filter and the provider-side Filter in JAX-RS are two different interfaces. For example, in the previous example, the server is the ContainerResponseFilter interface, and the consumer side corresponds to the ClientResponseFilter:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>LoggingFilter</span> <span style=color:#268bd2>implements</span> ClientResponseFilter <span style=color:#719e07>{</span>
 
    <span style=color:#268bd2>public</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>filter</span><span style=color:#719e07>(</span>ClientRequestContext reqCtx<span style=color:#719e07>,</span> ClientResponseContext resCtx<span style=color:#719e07>)</span> <span style=color:#268bd2>throws</span> IOException <span style=color:#719e07>{</span>
        System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;status: &#34;</span> <span style=color:#719e07>+</span> resCtx<span style=color:#719e07>.</span>getStatus<span style=color:#719e07>());</span>
	    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;date: &#34;</span> <span style=color:#719e07>+</span> resCtx<span style=color:#719e07>.</span>getDate<span style=color:#719e07>());</span>
	    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;last-modified: &#34;</span> <span style=color:#719e07>+</span> resCtx<span style=color:#719e07>.</span>getLastModified<span style=color:#719e07>());</span>
	    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;location: &#34;</span> <span style=color:#719e07>+</span> resCtx<span style=color:#719e07>.</span>getLocation<span style=color:#719e07>());</span>
	    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;headers:&#34;</span><span style=color:#719e07>);</span>
	    <span style=color:#719e07>for</span> <span style=color:#719e07>(</span>Entry<span style=color:#719e07>&lt;</span>String<span style=color:#719e07>,</span> List<span style=color:#719e07>&lt;</span>String<span style=color:#719e07>&gt;&gt;</span> header <span style=color:#719e07>:</span> resCtx<span style=color:#719e07>.</span>getHeaders<span style=color:#719e07>().</span>entrySet<span style=color:#719e07>())</span> <span style=color:#719e07>{</span>
     	    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>print<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;\t&#34;</span> <span style=color:#719e07>+</span> header<span style=color:#719e07>.</span>getKey<span style=color:#719e07>()</span> <span style=color:#719e07>+</span> <span style=color:#2aa198>&#34; :&#34;</span><span style=color:#719e07>);</span>
	        <span style=color:#719e07>for</span> <span style=color:#719e07>(</span>String value <span style=color:#719e07>:</span> header<span style=color:#719e07>.</span>getValue<span style=color:#719e07>())</span> <span style=color:#719e07>{</span>
	            System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>print<span style=color:#719e07>(</span>value <span style=color:#719e07>+</span> <span style=color:#2aa198>&#34;, &#34;</span><span style=color:#719e07>);</span>
	        <span style=color:#719e07>}</span>
	        System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>print<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;\n&#34;</span><span style=color:#719e07>);</span>
	    <span style=color:#719e07>}</span>
	    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;media-type: &#34;</span> <span style=color:#719e07>+</span> resCtx<span style=color:#719e07>.</span>getMediaType<span style=color:#719e07>().</span>getType<span style=color:#719e07>());</span>
    <span style=color:#719e07>}</span> 
<span style=color:#719e07>}</span>
</code></pre></div><h3 id=adding-custom-exception-handler>Adding custom Exception handler</h3><p>Dubbo RESTful Remoting also supports JAX-RS standard ExceptionMapper, which can be used to customize the HTTP response after a particular exception occurs.</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>CustomExceptionMapper</span> <span style=color:#268bd2>implements</span> ExceptionMapper<span style=color:#719e07>&lt;</span>NotFoundException<span style=color:#719e07>&gt;</span> <span style=color:#719e07>{</span>

    <span style=color:#268bd2>public</span> Response <span style=color:#268bd2>toResponse</span><span style=color:#719e07>(</span>NotFoundException e<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>     
        <span style=color:#719e07>return</span> Response<span style=color:#719e07>.</span>status<span style=color:#719e07>(</span>Response<span style=color:#719e07>.</span>Status<span style=color:#719e07>.</span>NOT_FOUND<span style=color:#719e07>).</span>entity<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Oops! the requested resource is not found!&#34;</span><span style=color:#719e07>).</span>type<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;text/plain&#34;</span><span style=color:#719e07>).</span>build<span style=color:#719e07>();</span>
    <span style=color:#719e07>}</span>
<span style=color:#719e07>}</span>
</code></pre></div><p>Similar to Interceptor and Filter, it can be enabled by adding it to an XML configuration file:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> port=<span style=color:#2aa198>&#34;8888&#34;</span> extension=<span style=color:#2aa198>&#34;xxx.CustomExceptiionMapper&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><h3 id=configuring-http-log-output>Configuring HTTP log output</h3><p>Dubbo RESTful Remoting supports outputting the header and body in all HTTP requests/responses.</p><p>Add the following REST filter to the XML configuration:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> port=<span style=color:#2aa198>&#34;8888&#34;</span> extension=<span style=color:#2aa198>&#34;org.apache.dubbo.rpc.protocol.rest.support.LoggingFilter&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><p><strong>Then turn on at least INFO level log output for org.apache.dubbo.rpc.protocol.rest.support in the logging configuration</strong>,for example,in log4j.xml:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;logger</span> name=<span style=color:#2aa198>&#34;org.apache.dubbo.rpc.protocol.rest.support&#34;</span><span style=color:#268bd2>&gt;</span>
    <span style=color:#268bd2>&lt;level</span> value=<span style=color:#2aa198>&#34;INFO&#34;</span><span style=color:#268bd2>/&gt;</span>
    <span style=color:#268bd2>&lt;appender-ref</span> ref=<span style=color:#2aa198>&#34;CONSOLE&#34;</span><span style=color:#268bd2>/&gt;</span>
<span style=color:#268bd2>&lt;/logger&gt;</span>
</code></pre></div><p>Of course, you can also turn on INFO level log output directly in the ROOT logger:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;root&gt;</span>
	<span style=color:#268bd2>&lt;level</span> value=<span style=color:#2aa198>&#34;INFO&#34;</span> <span style=color:#268bd2>/&gt;</span>
	<span style=color:#268bd2>&lt;appender-ref</span> ref=<span style=color:#2aa198>&#34;CONSOLE&#34;</span><span style=color:#268bd2>/&gt;</span>
<span style=color:#268bd2>&lt;/root&gt;</span>
</code></pre></div><p>Then there will be something like the following output in the log:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>The HTTP headers are: 
accept: application/json;charset=UTF-8
accept-encoding: gzip, deflate
connection: Keep-Alive
content-length: 22
content-type: application/json
host: 192.168.1.100:8888
user-agent: Apache-HttpClient/4.2.1 (java 1.5)
</code></pre></div><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>The contents of request body is: 
{&#34;id&#34;:1,&#34;name&#34;:&#34;dang&#34;}
</code></pre></div><p>After the HTTP log output is turned on, in addition to the performance overhead of the normal log output, additional overhead is generated in, for example, HTTP request parsing, because an additional memory buffer needs to be allocated to prepare the data for the log output.</p><h3 id=inputing-parameter-validation>Inputing parameter validation</h3><p>Dubbo RESTful Remoting supports the use of the Java standard bean validation annotation(JSR 303) for input validation <a href=http://beanvalidation.org/>http://beanvalidation.org/</a>.</p><p>In order to be consistent with other Dubbo remote invocation protocols, the annotations that are checked for rest must be placed on the interface of the service, for example:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>public</span> <span style=color:#268bd2>interface</span> <span style=color:#268bd2>UserService</span> <span style=color:#719e07>{</span>
   
    User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@Min</span><span style=color:#719e07>(</span>value<span style=color:#719e07>=</span>1L<span style=color:#719e07>,</span> message<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;User ID must be greater than 1&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>);</span>
<span style=color:#719e07>}</span>
</code></pre></div><p>Of course, in many other bean validation scenarios, annotations are placed on implementation classes rather than interfaces. At least one advantage of placing an annotation on an interface is that the Dubbo client can share information about the interface. The input validation can be done locally even without RPC.</p><p>Then turn on the validation in the XML configuration in the same way as Dubbo:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:service</span> interface=<span style=color:#2aa198>xxx.UserService&#34;</span> ref=<span style=color:#2aa198>&#34;userService&#34;</span> protocol=<span style=color:#2aa198>&#34;rest&#34;</span> validation=<span style=color:#2aa198>&#34;true&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><p>In many other RPC protocols of Dubbo, if the input validation error occurs, the <code>RpcException</code> is directly thrown to the client, but in the rest, since the client is often non-Dubbo or even non-Java system, it is inconvenient to directly throw a Java exception. Therefore, at present we will return the validation error in XML format:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;violationReport&gt;</span>
    <span style=color:#268bd2>&lt;constraintViolations&gt;</span>
        <span style=color:#268bd2>&lt;path&gt;</span>getUserArgument0<span style=color:#268bd2>&lt;/path&gt;</span>
        <span style=color:#268bd2>&lt;message&gt;</span>User ID must be greater than 1<span style=color:#268bd2>&lt;/message&gt;</span>
        <span style=color:#268bd2>&lt;value&gt;</span>0<span style=color:#268bd2>&lt;/value&gt;</span>
    <span style=color:#268bd2>&lt;/constraintViolations&gt;</span>
<span style=color:#268bd2>&lt;/violationReport&gt;</span>
</code></pre></div><p>The return values of other data formats will also be supported later. As for how to internationalize the verification error message, refer directly to the relevant documentation of the bean validation.</p><p>If you think that the default validation error return format does not meet your requirements, you can add custom ExceptionMapper to custom error return format freely as described in the previous section. It should be noted that this ExceptionMapper must use the generic declaration to capture the RpcException of Dubbo in order to successfully override the default exception handling strategy of Dubbo rest. In order to simplify the operation, the easiest way to do this is to directly inherit the RpcExceptionMapper of Dubbo rest and override the method that handles the validation exception:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>MyValidationExceptionMapper</span> <span style=color:#268bd2>extends</span> RpcExceptionMapper <span style=color:#719e07>{</span>

    <span style=color:#268bd2>protected</span> Response <span style=color:#268bd2>handleConstraintViolationException</span><span style=color:#719e07>(</span>ConstraintViolationException cve<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
        ViolationReport report <span style=color:#719e07>=</span> <span style=color:#719e07>new</span> ViolationReport<span style=color:#719e07>();</span>
        <span style=color:#719e07>for</span> <span style=color:#719e07>(</span>ConstraintViolation cv <span style=color:#719e07>:</span> cve<span style=color:#719e07>.</span>getConstraintViolations<span style=color:#719e07>())</span> <span style=color:#719e07>{</span>
            report<span style=color:#719e07>.</span>addConstraintViolation<span style=color:#719e07>(</span><span style=color:#719e07>new</span> RestConstraintViolation<span style=color:#719e07>(</span>
                    cv<span style=color:#719e07>.</span>getPropertyPath<span style=color:#719e07>().</span>toString<span style=color:#719e07>(),</span>
                    cv<span style=color:#719e07>.</span>getMessage<span style=color:#719e07>(),</span>
                    cv<span style=color:#719e07>.</span>getInvalidValue<span style=color:#719e07>()</span> <span style=color:#719e07>==</span> <span style=color:#cb4b16>null</span> <span style=color:#719e07>?</span> <span style=color:#2aa198>&#34;null&#34;</span> <span style=color:#719e07>:</span> cv<span style=color:#719e07>.</span>getInvalidValue<span style=color:#719e07>().</span>toString<span style=color:#719e07>()));</span>
        <span style=color:#719e07>}</span>
        <span style=color:#586e75>// Use json output instead of xml output
</span><span style=color:#586e75></span>        <span style=color:#719e07>return</span> Response<span style=color:#719e07>.</span>status<span style=color:#719e07>(</span>Response<span style=color:#719e07>.</span>Status<span style=color:#719e07>.</span>INTERNAL_SERVER_ERROR<span style=color:#719e07>).</span>entity<span style=color:#719e07>(</span>report<span style=color:#719e07>).</span>type<span style=color:#719e07>(</span>ContentType<span style=color:#719e07>.</span>APPLICATION_JSON_UTF_8<span style=color:#719e07>).</span>build<span style=color:#719e07>();</span>
    <span style=color:#719e07>}</span>
<span style=color:#719e07>}</span>
</code></pre></div><p>Then add this ExceptionMapper to the XML configuration:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:protocol</span> name=<span style=color:#2aa198>&#34;rest&#34;</span> port=<span style=color:#2aa198>&#34;8888&#34;</span> extension=<span style=color:#2aa198>&#34;xxx.MyValidationExceptionMapper&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><h3 id=whether-to-transparently-publish-rest-service>Whether to transparently publish REST service</h3><p>Dubbo RESTful Remoting differs from some other RPCs in Dubbo in that you need to add JAX-RS annotations (and JAXB, Jackson&rsquo;s annotation) to your service code. If you think these annotations &ldquo;pollute&rdquo; your service code to a certain extent,you can consider writing additional Facade and DTO classes, adding annotations to that, and Facade forwards the calls to the real service implementation class. Of course, adding annotations directly to the service code basically has no negative effects, and this is itself a standard usage in Java EE. In addition, JAX-RS and JAXB annotations belong to the Java standard. Compared with spring, Dubbo, etc., which we often use, annotations have no problem with vendor lock-in, so there is usually no need to introduce additional objects.</p><p>In addition,when you want to use the @Context annotation mentioned above, injecting HttpServletRequest through method parameters (such as <code>public User getUser(@PathParam("id") Long id, @Context HttpServletRequest request)</code>), the method signature of service is changed and HttpServletRequest is a REST-specific parameter, you should introduce additional Facade classes if your service supports multiple RPC mechanisms.</p><p>Of course, your service code may already act as a Facade and DTO before adding RESTful Remoting (as to why some scenarios require these roles, and if you are interested, you can refer to [Micro-SOA: Service Design Principles and Practices] Http://www.infoq.com/cn/articles/micro-soa-1). In this case, after adding REST, if you add additional REST-related Facade and DTO, it is equivalent to wrapping the original code again, which forms the following call chain:</p><p><code>RestFacade/RestDTO -> Facade/DTO -> Service</code></p><p>This kind of system is cumbersome, and the workload of data conversion is not small, so it should be avoided if possible.</p><h3 id=consumer-of-restful-remoting>Consumer of RESTful Remoting</h3><p>Here we use three scenarios:</p><ol><li>The non-Dubbo consumer calls Dubbo REST service (non-Dubbo &ndash;> Dubbo)</li><li>The Dubbo consumer calls Dubbo REST service (Dubbo &ndash;> Dubbo)</li><li>The consumer of Dubbo calls the non-Dubbo REST service (Dubbo &ndash;> non-Dubbo)</li></ol><h3 id=scenario-1-non-dubbo-consumer-calls-dubbo-rest-service>Scenario 1: Non-Dubbo consumer calls Dubbo REST Service</h3><p>The client of this scenario has nothing to do with Dubbo itself, and it can be directly selected in the appropriate language and framework.</p><p>If it is still a Java client (but not using Dubbo), consider using the standard JAX-RS Client API or a specific REST-implemented Client API to invoke the REST service. The following is the registerUser() that uses the JAX-RS Client API to access the above UserService:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>User user <span style=color:#719e07>=</span> <span style=color:#719e07>new</span> User<span style=color:#719e07>();</span>
user<span style=color:#719e07>.</span>setName<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Larry&#34;</span><span style=color:#719e07>);</span>

Client client <span style=color:#719e07>=</span> ClientBuilder<span style=color:#719e07>.</span>newClient<span style=color:#719e07>();</span>
WebTarget target <span style=color:#719e07>=</span> client<span style=color:#719e07>.</span>target<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;http://localhost:8080/services/users/register.json&#34;</span><span style=color:#719e07>);</span>
Response response <span style=color:#719e07>=</span> target<span style=color:#719e07>.</span>request<span style=color:#719e07>().</span>post<span style=color:#719e07>(</span>Entity<span style=color:#719e07>.</span>entity<span style=color:#719e07>(</span>user<span style=color:#719e07>,</span> MediaType<span style=color:#719e07>.</span>APPLICATION_JSON_TYPE<span style=color:#719e07>));</span>

<span style=color:#719e07>try</span> <span style=color:#719e07>{</span>
    <span style=color:#719e07>if</span> <span style=color:#719e07>(</span>response<span style=color:#719e07>.</span>getStatus<span style=color:#719e07>()</span> <span style=color:#719e07>!=</span> 200<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
        <span style=color:#719e07>throw</span> <span style=color:#719e07>new</span> RuntimeException<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Failed with HTTP error code : &#34;</span> <span style=color:#719e07>+</span> response<span style=color:#719e07>.</span>getStatus<span style=color:#719e07>());</span>
    <span style=color:#719e07>}</span>
    System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;The generated id is &#34;</span> <span style=color:#719e07>+</span> response<span style=color:#719e07>.</span>readEntity<span style=color:#719e07>(</span>RegistrationResult<span style=color:#719e07>.</span>class<span style=color:#719e07>).</span>getId<span style=color:#719e07>());</span>
<span style=color:#719e07>}</span> <span style=color:#719e07>finally</span> <span style=color:#719e07>{</span>
    response<span style=color:#719e07>.</span>close<span style=color:#719e07>();</span>
    client<span style=color:#719e07>.</span>close<span style=color:#719e07>();</span> <span style=color:#586e75>//Do not close the client every time in real development, such as HTTP long connection is held by the client
</span><span style=color:#586e75></span><span style=color:#719e07>}</span>
</code></pre></div><p>The User and RegistrationResult classes in the code snippet above are written by the consumer itself, and the JAX-RS Client API automatically serializes/deserializes them.</p><p>Of course, in Java, you can also use the familiar technologies such as HttpClient, FastJson, XStream, etc. to implement the REST client, which will not be detailed here.</p><h3 id=scenario-2-dubbo-consumer-calls-dubbo-restful-remoting>Scenario 2: Dubbo consumer calls Dubbo RESTful Remoting</h3><p>In this scenario, same as other Dubbo remote calling methods, the Java service interface is shared directly between the service provider and the service consumer, and the Spring XML configuration is added (of course, the Spring/Dubbo annotation configuration can also be used),the remote REST service can be called transparently:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:reference</span> id=<span style=color:#2aa198>&#34;userService&#34;</span> interface=<span style=color:#2aa198>&#34;xxx.UserService&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><p>As mentioned earlier, in this scenario, JAX-RS annotations must be added to the service interface, so that the corresponding REST configuration information can be shared on the consumer side of Dubbo and remotely called accordingly:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;users&#34;</span><span style=color:#719e07>)</span>
<span style=color:#268bd2>public</span> <span style=color:#268bd2>interface</span> <span style=color:#268bd2>UserService</span> <span style=color:#719e07>{</span>
    
    <span style=color:#268bd2>@GET</span>
    <span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;{id : \\d+}&#34;</span><span style=color:#719e07>)</span>
    <span style=color:#268bd2>@Produces</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>,</span> MediaType<span style=color:#719e07>.</span>APPLICATION_XML<span style=color:#719e07>})</span>
    User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>);</span>
<span style=color:#719e07>}</span>
</code></pre></div><p>If a variety of data formats are configured in the annotation of the service interface, since both ends are Dubbo systems, a lot of details of REST are blocked, so there is no possibility to select a data format using the aforementioned URL suffix. Currently in this case, the top ranked data format will be used directly.</p><p>Therefore, we recommend that you put the most appropriate data format in front of defining an annotation. For example, we put JSON in front of XML because JSON&rsquo;s transmission performance is better than XML.</p><h3 id=scenario-3-the-consumer-of-dubbo-calls-a-non-dubbo-restful-remoting>Scenario 3: The consumer of Dubbo calls a non-Dubbo RESTful Remoting</h3><p>In this scenario, the REST service can be called directly using the Java method described in Scenario 1. But in fact, you can also use the way described in Scenario 2, that is, calling the REST service more transparently, even if this service is not provided by Dubbo.</p><p>If the scenario 2 is used, since the REST service is not provided by Dubbo, there is generally no shared Java service interface mentioned above, so we need to write the Java interface and the corresponding parameter class according to the external REST service. Add JAX-RS, JAXB, Jackson and other annotations, Dubbo&rsquo;s REST underlying implementation will automatically generate request messages, automatically parse response messages, etc., so as to transparently make remote calls. Or this way can also be understood as, we try to use JAX-RS to copy the implementation of the external REST service provider, and then put the written service interface to the client to use directly, Dubbo REST underlying implementation can call other REST services as it calls Dubbo&rsquo;s REST service .</p><p>For example, we want to call the following external service.</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>http://api.foo.com/services/users/1001
http://api.foo.com/services/users/1002
</code></pre></div><p>Get user data of different IDs, the return format is JSON</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#719e07>{</span>
    <span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>:</span> 1001<span style=color:#719e07>,</span>
    <span style=color:#2aa198>&#34;name&#34;</span><span style=color:#719e07>:</span> <span style=color:#2aa198>&#34;Larry&#34;</span>
<span style=color:#719e07>}</span>
</code></pre></div><p>We can write service interfaces and parameter classes based on this information:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;users&#34;</span><span style=color:#719e07>)</span>
<span style=color:#268bd2>public</span> <span style=color:#268bd2>interface</span> <span style=color:#268bd2>UserService</span> <span style=color:#719e07>{</span>
    
    <span style=color:#268bd2>@GET</span>
    <span style=color:#268bd2>@Path</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;{id : \\d+}&#34;</span><span style=color:#719e07>)</span>
    <span style=color:#268bd2>@Produces</span><span style=color:#719e07>({</span>MediaType<span style=color:#719e07>.</span>APPLICATION_JSON<span style=color:#719e07>})</span>
    User <span style=color:#268bd2>getUser</span><span style=color:#719e07>(</span><span style=color:#268bd2>@PathParam</span><span style=color:#719e07>(</span><span style=color:#2aa198>&#34;id&#34;</span><span style=color:#719e07>)</span> Long id<span style=color:#719e07>);</span>
<span style=color:#719e07>}</span>
</code></pre></div><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>User</span> <span style=color:#268bd2>implements</span> Serializable <span style=color:#719e07>{</span>

    <span style=color:#268bd2>private</span> Long id<span style=color:#719e07>;</span>

    <span style=color:#268bd2>private</span> String name<span style=color:#719e07>;</span>

    <span style=color:#586e75>// …
</span><span style=color:#586e75></span><span style=color:#719e07>}</span>
</code></pre></div><p>For the configuration in Spring, because the REST service is not provided by Dubbo, you can not use the Dubbo registry to directly configure the url address of the external REST service (such as multiple addresses separated by commas):</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:reference</span> id=<span style=color:#2aa198>&#34;userService&#34;</span> interface=<span style=color:#2aa198>&#34;xxx.UserService&#34;</span> url=<span style=color:#2aa198>&#34;rest://api.foo.com/services/&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><blockquote><p>Note: The protocol here must use rest:// instead of http://. If the external REST service has a context path, it must also be added to the url (unless you have a context path in the @Path annotation for each service interface), such as /services/ above. At the same time, the services here must be followed by /, in order to make Dubbo work properly.</p><p>In addition, you can still configure the maximum number of connections and timeouts that the client can start:</p></blockquote><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;dubbo:reference</span> id=<span style=color:#2aa198>&#34;userService&#34;</span> interface=<span style=color:#2aa198>&#34;xxx.UserService&#34;</span> url=<span style=color:#2aa198>&#34;rest://api.foo.com/services/&#34;</span> timeout=<span style=color:#2aa198>&#34;2000&#34;</span> connections=<span style=color:#2aa198>&#34;10&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><h3 id=jax-rs-restrictions-in-dubbo>JAX-RS restrictions in Dubbo</h3><p>The REST development in Dubbo is fully compatible with standard JAX-RS, but the features it supports are currently a subset of full JAX-RS, in part because it is limited to the specific architecture of Dubbo and Spring. The limitations of JAX-RS used in Dubbo include but are not limited to:</p><ol><li>Service implementation can only be singleton, and it can not support per-request scope and per-lookup scope</li><li>It is not supported to inject into ServletConfig, ServletContext, HttpServletRequest, HttpServletResponse, etc. with the @Context annotation for the instance field of the service, but it can support the injection of service method parameters. However, for certain REST server implementations (see the previous section), injection of service method parameters is not supported.</li></ol><h2 id=rest-faq>REST FAQ</h2><hr><h3 id=can-dubbo-rest-services-be-integrated-with-dubbo-registry-and-monitor>Can Dubbo REST services be integrated with Dubbo Registry and Monitor?</h3><p>Yes, and it will integrate automatically. That is, all the REST services you develop in Dubbo are automatically registered to the Registry and Monitor, by which you can managed your services.
However, many of the service governance operations in the Registry can only be fully functional when the REST consumer is based on Dubbo. If the consumer side is non-Dubbo, it is naturally not managed by the Registry, so that many of the operations will not work for the consumer.</p><h3 id=how-to-implement-load-balancing-and-failover-in-dubbo-rest>How to implement load balancing and failover in Dubbo REST?</h3><p>If the consumer side of Dubbo REST is based on Dubbo, then Dubbo REST is basically the same as other Dubbo remote call protocols: Dubbo framework transparently performs load balancing, failover, etc. on the consumer side.
If the consumer side of Dubbo REST is non-Dubbo or even non-Java, it is better to configure the soft load balancing mechanism on the service provider. Currently, you can consider LVS, HAProxy, Nginx, and so on to achieve load balancing for HTTP requests.</p><h3 id=can-overloaded-method-in-jax-rs-maps-to-the-same-url-address>Can overloaded method in JAX-RS maps to the same URL address?</h3><p><a href=http://stackoverflow.com/questions/17196766/can-resteasy-choose-method-based-on-query-params>http://stackoverflow.com/questions/17196766/can-resteasy-choose-method-based-on-query-params</a></p><h3 id=can-a-post-method-in-jax-rs-receive-multiple-parameters>Can a POST method in JAX-RS receive multiple parameters?</h3><p><a href=http://stackoverflow.com/questions/5553218/jax-rs-post-multiple-objects>http://stackoverflow.com/questions/5553218/jax-rs-post-multiple-objects</a></p><h2 id=the-shortcomings-of-dubbos-current-system-related-to-rest>The shortcomings of Dubbo&rsquo;s current system (related to REST)</h2><hr><p>I think there are obviously a lot of deficiencies in Dubbo&rsquo;s current system. Here are a few REST-related issues that affect users (not including internal implementation issues) for reference and comments, which can help prepare for the refactoring later.</p><h3 id=invasiveness-of-rpccontext>Invasiveness of RpcContext</h3><p>We have already mentioned the intrusiveness of RpcContext(See above). Because it uses a singleton to access context information, which is completely inconsistent with the general style of spring applications as well as not conducive to application extension and unit testing. In the future, we may inject an interface with dependency injection, and then use it to access the context information in ThreadLocal.</p><h3 id=limitations-of-protocol-configuration>limitations of Protocol configuration</h3><p>Dubbo supports multiple remote call methods, but all call methods are configured with <a href=Dubbo:protocol/>Dubbo:protocol/</a>, for example:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;Dubbo:protocol</span> name=<span style=color:#2aa198>&#34;Dubbo&#34;</span> port=<span style=color:#2aa198>&#34;9090&#34;</span> server=<span style=color:#2aa198>&#34;netty&#34;</span> client=<span style=color:#2aa198>&#34;netty&#34;</span> codec=<span style=color:#2aa198>&#34;Dubbo&#34;</span> serialization=<span style=color:#2aa198>&#34;hessian2&#34;</span>
    charset=<span style=color:#2aa198>&#34;UTF-8&#34;</span> threadpool=<span style=color:#2aa198>&#34;fixed&#34;</span> threads=<span style=color:#2aa198>&#34;100&#34;</span> queues=<span style=color:#2aa198>&#34;0&#34;</span> iothreads=<span style=color:#2aa198>&#34;9&#34;</span> buffer=<span style=color:#2aa198>&#34;8192&#34;</span> accepts=<span style=color:#2aa198>&#34;1000&#34;</span> payload=<span style=color:#2aa198>&#34;8388608&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><p>Dubbo supports multiple remote call methods, but all call methods are configured with <a href=Dubbo:protocol/>Dubbo:protocol/</a>, for example:
In fact, many of the above properties are uniquely held by the Dubbo RPC remote call method and many other remote call methods in Dubbo do not support server, client, codec, iothreads, accepts, payload, etc. (of course, some are not supported because of limited conditions, some have no need to be supported at all). This adds a lot of confusions to users when they use Dubbo, and they actually do not know that some attributes (such as performance tuning) will not work after adding them.</p><p>On the other hand, various remote call methods often have a large number of unique configuration requirements, especially as we gradually add much richer and more advanced functions to each kind of remote call method, which cause the expands in <protocol>attributes inevitably (for example, we have added keepalive and extension two attributes in REST at the moment) and then lead to bloated <protocol>and user confusion.</p><p>Of course, there is a way to expand <protocol>in Dubbo by using <a href=Dubbo:parameter/>Dubbo:parameter/</a>, but this method is obviously very limited, the usage is complicated and the schema verification is lacking.
So that the best method is to set your own protocol elements for each remote call, such as <protocol-dubbo>, <protocol-rest>, etc. Each element specifies its own attributes using XML Schema. (Of course, it is best to use common attributes between a variety of remote call methods)
In this way, a freer way can be used when doing the extension configuration mentioned above, so that it can be much clearer and more extensible (the following is just an example, of course there may be a better way):</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;Dubbo:protocol-rest</span> port=<span style=color:#2aa198>&#34;8080&#34;</span><span style=color:#268bd2>&gt;</span>
    <span style=color:#268bd2>&lt;Dubbo:extension&gt;</span>someInterceptor<span style=color:#268bd2>&lt;/Dubbo:extension&gt;</span>
    <span style=color:#268bd2>&lt;Dubbo:extension&gt;</span>someFilter<span style=color:#268bd2>&lt;/Dubbo:extension&gt;</span>
    <span style=color:#268bd2>&lt;Dubbo:extension&gt;</span>someDynamicFeature<span style=color:#268bd2>&lt;/Dubbo:extension&gt;</span>
    <span style=color:#268bd2>&lt;Dubbo:extension&gt;</span>someEntityProvider<span style=color:#268bd2>&lt;/Dubbo:extension&gt;</span>
<span style=color:#268bd2>&lt;/Dubbo:protocol-rest&gt;</span>
</code></pre></div><h3 id=xml-naming-does-not-conform-to-the-spring-specification>XML naming does not conform to the spring specification</h3><p>A lot of naming in XML configuration of Dubbo dose not conform to the spring specification, such as:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;Dubbo:protocol</span> name=<span style=color:#2aa198>&#34;Dubbo&#34;</span> port=<span style=color:#2aa198>&#34;9090&#34;</span> server=<span style=color:#2aa198>&#34;netty&#34;</span> client=<span style=color:#2aa198>&#34;netty&#34;</span>

codec=<span style=color:#2aa198>&#34;Dubbo&#34;</span> serialization=<span style=color:#2aa198>&#34;hessian2&#34;</span>
    charset=<span style=color:#2aa198>&#34;UTF-8&#34;</span> threadpool=<span style=color:#2aa198>&#34;fixed&#34;</span> threads=<span style=color:#2aa198>&#34;100&#34;</span> queues=<span style=color:#2aa198>&#34;0&#34;</span> iothreads=<span style=color:#2aa198>&#34;9&#34;</span> buffer=<span style=color:#2aa198>&#34;8192&#34;</span> accepts=<span style=color:#2aa198>&#34;1000&#34;</span> payload=<span style=color:#2aa198>&#34;8388608&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><p>The above threadpool should be changed to thread-pool, iothreads should be changed to io-threads, and words should be separated by &ldquo;-&rdquo;. While this may seem like a minor issue, it also involves readability, especially scalability, because sometimes we will inevitably use more words to describe XML elements and attributes.</p><p>In fact, Dubbo itself also recommended to follow the naming convention of spring to XML.</p><h2 id=best-practices-of-rest>Best practices of REST</h2><hr><p>TODO</p><h2 id=performance-benchmark>Performance benchmark</h2><hr><h3 id=test-environment>Test Environment</h3><p>Roughly as follows:</p><ul><li>4-core Intel(R) Xeon(R) CPU E5-2603 0 @ 1.80GHz</li><li>8G memory</li><li>The network between servers passes through a 100 Mbps switch</li><li>CentOS 5</li><li>JDK 7</li><li>Tomcat 7</li><li>JVM parameter -server -Xms1g -Xmx1g -XX:PermSize=64M -XX:+UseConcMarkSweepGC</li></ul><h3 id=test-script>Test Script</h3><p>Similar to Dubbo&rsquo;s own benchmarks:
10 concurrent clients send requests continuously:
• Pass in nested complex objects (single data is small), do nothing and return
• Pass in a 50K string, do nothing and return (TODO: the result is not listed yet)
Excute a five-minute performance test. (Reference to Dubbo&rsquo;s own test considerations: &ldquo;Mainly consider the serialization and performance of network IO, so that the server side does not have any business logic. Take 10 to run simultaneously because of the consideration that the bottleneck can be hit first when the high CPU usage rate is reached by HTTP protocol under the high concurrency situation.")</p><h3 id=test-result>Test Result</h3><p>The following results are mainly from the comparison between to the two remote call methods, REST and Dubbo RPC which are configured differently, for example:</p><ul><li>“REST: Jetty + XML + GZIP” means: Test REST, use jetty server and XML data format, and enable GZIP compression.</li><li>“Dubbo: hessian2” means: test Dubbo RPC and use hessian2 serialization.</li></ul><p>The results for complex objects are as follows (the smaller Response Time and the larger TPS, the better results):</p><table><thead><tr><th>Remote Call Mode</th><th>Average Response Time</th><th>Average TPS（Num of transactions per second）</th></tr></thead><tbody><tr><td>REST: Jetty + JSON</td><td>7.806</td><td>1280</td></tr><tr><td>REST: Jetty + JSON + GZIP</td><td>TODO</td><td>TODO</td></tr><tr><td>REST: Jetty + XML</td><td>TODO</td><td>TODO</td></tr><tr><td>REST: Jetty + XML + GZIP</td><td>TODO</td><td>TODO</td></tr><tr><td>REST: Tomcat + JSON</td><td>2.082</td><td>4796</td></tr><tr><td>REST: Netty + JSON</td><td>2.182</td><td>4576</td></tr><tr><td>Dubbo: FST</td><td>1.211</td><td>8244</td></tr><tr><td>Dubbo: kyro</td><td>1.182</td><td>8444</td></tr><tr><td>Dubbo: Dubbo serialization</td><td>1.43</td><td>6982</td></tr><tr><td>Dubbo: hessian2</td><td>1.49</td><td>6701</td></tr><tr><td>Dubbo: fastjson</td><td>1.572</td><td>6352</td></tr></tbody></table><p>Just a brief summary of the current results:</p><ul><li>Dubbo RPC (especially when based on efficient java serialization methods such as kryo and fst) has a significant advantage response time and throughput over REST. Dubbo RPC is preferred in the intranet Dubbo systems.</li><li>When choosinf REST implementation, tomcat7 and netty are optimal (of course, the current versions of jetty and netty are lower) currently only considering performance. Tjws and sun http server performed extremely poorly in performance tests, with an average response time of more than 200ms and an average tps of only about 50 (to avoid affecting the picture effect, the results are not listed above).</li><li>Performance of JSON data format is better than XML in REST (data is not listed above).</li><li>Enabling GZIP in REST has little to do with complex objects with small data volume in the intranet, but performance has declined (data is not listed above).</li></ul><h2 id=performance-optimization-recommendations>Performance Optimization Recommendations</h2><p>If you deploy Dubbo REST to an external Tomcat and configure server=&ldquo;servlet&rdquo;, that is, enable external tomcat as the underlying implementation of rest server, it is best to add the following configuration to tomcat:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#268bd2>&lt;Connector</span> port=<span style=color:#2aa198>&#34;8080&#34;</span>

protocol=<span style=color:#2aa198>&#34;org.apache.coyote.http11.Http11NioProtocol&#34;</span>
               connectionTimeout=<span style=color:#2aa198>&#34;20000&#34;</span>
               redirectPort=<span style=color:#2aa198>&#34;8443&#34;</span>
               minSpareThreads=<span style=color:#2aa198>&#34;20&#34;</span>
               enableLookups=<span style=color:#2aa198>&#34;false&#34;</span>
               maxThreads=<span style=color:#2aa198>&#34;100&#34;</span>
               maxKeepAliveRequests=<span style=color:#2aa198>&#34;-1&#34;</span>
               keepAliveTimeout=<span style=color:#2aa198>&#34;60000&#34;</span><span style=color:#268bd2>/&gt;</span>
</code></pre></div><p>Especially the configuration maxKeepAliveRequests="-1&rdquo; ,which is mainly to ensure that tomcat always enables http long connection, in order to improve the performance of REST call. Note, however, that if the REST consumer side is not continuously call REST services, it is not always best to enable long connections all time. In addition, the way to always enable long connections is generally not suitable for ordinary webapps, but more suitable for such rpc-like scenarios. So that in order to get high performance, Dubbo REST applications and ordinary web applications are best not to be mixed deployment, but should use a separate instance in tomcat.</p><h2 id=extended-discussion>##Extended discussion</h2><h3 id=comparison-among-rest-thrift-protobuf-and-so-on>Comparison among Rest, Thrift, Protobuf and so on</h3><p>TODO</p><h3 id=comparison-between-rest-and-traditional-webservers>Comparison between REST and traditional Webservers</h3><p>TODO</p><h3 id=comparison-of-jax-rs-between-spring-mvc>Comparison of JAX-RS Between Spring MVC</h3><p>A preliminary view from <a href="http://www.infoq.com/cn/news/2014/10/Dubbox-open-source?utm_source=infoq&utm_medium=popular_links_homepage#theCommentsSection">http://www.infoq.com/cn/news/2014/10/Dubbox-open-source?utm_source=infoq&utm_medium=popular_links_homepage#theCommentsSection</a></p><blockquote><p>Thank you, in fact, for jax-rs and Spring MVC, I do not have a deep look at the rest support of Spring MVC. I would like to give you some preliminary ideas. Please correct me:</p></blockquote><blockquote><p>Spring MVC also supports configuration using annotation, which actually looks very similar to jax-rs.</p></blockquote><blockquote><p>Personally, I think Spring MVC is better suited to restful services of web applications, such as being invoked by AJAX, or possibly outputting HTML or something like page jump processes in applications. Spring MVC can handle both normal web page requests and rest requests at the same time. But in general, the restful service is implemented in the presentation layer or the web layer.</p></blockquote><blockquote><p>But Jax-rs is more suitable for pure service-oriented applications, that is, the middle-tier services in traditional Java EE, for example, it can publish traditional EJB as restful services. In a Spring application, the bean that acts as a service in the Spring is directly published as a restful service. In general, the restful service is at the business layer, application layer, or facade layer. And MVC hierarchies and concepts are often of little value in such (back-end) applications.</p></blockquote><blockquote><p>Of course, some implementations of jax-rs, such as jersey, also try to include MVC to better accommodate the web applications described above, but not as well as Spring MVC.</p></blockquote><blockquote><p>In Dubbo applications, I think a lot of people prefer to publish a local Spring service bean (or manager) as a remote service directly and transparently, so that it is more straightforward to use JAX-RS here, and there is no need to introduce the MVC concept. Of course, we do not discuss whether transparent publishing of remote services is a best practice or whether to add facade things here first.</p></blockquote><blockquote><p>Of course, I know that many people use Spring MVC restful to call Dubbo (spring) service to publish restful services under the situation that Dubbo does not support rest now. It’s a good method also in my opinion, but if you do not modify Spring MVC and integrate it deeply with Dubbo, restful services cannot enjoy many advanced services such as registering to the Dubbo Registry, monitoring the number of calls, TPS, response time through the Dubbo Monitor, controlling the size of the thread pool and the maximum number of connections through the unified configuration of Dubbo, and controlling the service flow, authority and frequency through Dubbo unified mode like other remote call protocol such as webservices, Dubbo rpc, hessian and so on in Dubbo system. In addition, Spring MVC only works in server side and Spring restTemplate are usually used on consumer side. If restTemplate is not integrated with Dubbo, the service can be downgraded by Dubbo client automatically or manually. If the server and consumer are all Dubbo system, you cannot use unified routing and other functions in Dubbo if the Spring rest is not deeply integrated into Dubbo through interaction of Spring and rest.</p></blockquote><blockquote><p>Of course, I personally think that these things are not necessarily to be one or the other. I heard that Rod Johnson, the founder of spring usually says ‘the customer is always right,’ In fact, it is better to support both ways at the same time rather than discuss which way is better, so that originally I wrote in the document that we plan to support Spring rest annotation, but the feasibility is unknown.</p></blockquote><h2 id=future>##Future</h2><p>Functions may be supported later:</p><ul><li>Rest annotation for Spring MVC</li><li>Safety System</li><li>OAuth</li><li>Asynchronous calls</li><li>Gzip</li><li>Payload maxsize</li></ul><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="feedback--answer feedback--answer-yes">Yes</button>
<button class="feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes">Glad to hear it! Please <a href=https://github.com/apache/dubbo-website/issues/new>tell us how we can improve</a>.</p><p class="feedback--response feedback--response-no">Sorry to hear that. Please <a href=https://github.com/apache/dubbo-website/issues/new>tell us how we can improve</a>.</p><script>const yesButton=document.querySelector('.feedback--answer-yes');const noButton=document.querySelector('.feedback--answer-no');const yesResponse=document.querySelector('.feedback--response-yes');const noResponse=document.querySelector('.feedback--response-no');const disableButtons=()=>{yesButton.disabled=true;noButton.disabled=true;};const sendFeedback=(value)=>{if(typeof ga!=='function')return;const args={command:'send',hitType:'event',category:'Helpful',action:'click',label:window.location.pathname,value:value};ga(args.command,args.hitType,args.category,args.action,args.label,args.value);};yesButton.addEventListener('click',()=>{yesResponse.classList.add('feedback--response__visible');disableButtons();sendFeedback(1);});noButton.addEventListener('click',()=>{noResponse.classList.add('feedback--response__visible');disableButtons();sendFeedback(0);});</script><br><div class="text-muted mt-5 pt-3 border-top">Last modified November 18, 2020: <a href=https://github.com/apache/dubbo-website/commit/c4fc8acc5d9a0fde637019592de277aee65c8f6e>Merge branch 'master' of github.com:apache/dubbo-website (c4fc8ac)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Dubbo mailing list archive" aria-label="Dubbo mailing list archive"><a class=text-white target=_blank rel="noopener noreferrer" href=https://lists.apache.org/list.html?dev@dubbo.apache.org><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel="noopener noreferrer" href=https://twitter.com/ApacheDubbo><i class="fab fa-twitter"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel="noopener noreferrer" href=https://github.com/apache/dubbo><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Subscribe to mailing list" aria-label="Subscribe to mailing list"><a class=text-white target=_blank rel="noopener noreferrer" href=mailto://dev-subscribe@dubbo.apache.org><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2020 The Apache Software Foundation. Apache and the Apache feather logo are trademarks of The Apache Software Foundation. All Rights Reserved</small></div></div></div></footer><div class="row pt-2 pb-2"><div class="container-fluid mx-sm-5"><div class=text-center id=my-footer><img style=float:left src=/imgs/apache_logo.png><ul><li><a href=http://www.apache.org>Foundation</a></li><li><a href=http://www.apache.org/licenses/>License</a></li><li><a href=https://www.apache.org/security/>Security</a></li><li><a href=http://www.apache.org/events/current-event>Events</a></li><li><a href=http://www.apache.org/foundation/sponsorship.html>Sponsorship</a></li><li><a href=http://www.apache.org/foundation/thanks.html>Thanks</a></li></ul></div></div></div></div><script src=/js/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=/js/main.min.b5fc1b29d2465835844254bd4d804738eaf24c0cec53009b4c6899989be55a47.js integrity="sha256-tfwbKdJGWDWEQlS9TYBHOOryTAzsUwCbTGiZmJvlWkc=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/docsearch.js@2.6.3/dist/cdn/docsearch.min.js></script><script>docsearch({apiKey:'38eff7758162fbf70f2b8484932e62ae',indexName:'apache_dubbo',inputSelector:'.td-search-input',debug:false,});</script></body></html>