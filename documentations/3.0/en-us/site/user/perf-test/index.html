<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Benchmark - Dubbo 2.7.8</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Benchmark";
    var mkdocs_page_input_path = "user/perf-test.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Dubbo 2.7.8</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <span class="caption-text">User's Guide</span>
    <ul class="subnav">
                <li class="">
                    
    <span class="caption-text">Preface</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../preface/background/">Bakcground</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../preface/background/">Requirements</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../preface/architecture/">Architecture</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../preface/usage/">Usage</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../quick-start/">Quick Start</a>
                </li>
                <li class="">
                    
    <a class="" href="../dependencies/">Dependencies</a>
                </li>
                <li class="">
                    
    <a class="" href="../maturity/">Maturity</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Configuration</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../configuration/xml/">XML Configuration</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../configuration/api/">API Configuration</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../configuration/annotation/">Annotation Configuration</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Demos</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../demos/preflight-check/">Check on start</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/fault-tolerent-strategy/">Fault tolerance</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/loadbalance/">Load balance</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/thread-model/">Thread model</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/explicit-target/">Connecting certain provider straightly</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/subscribe-only/">Subscribe only</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/registry-only/">Register only</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/static-service/">Static service</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/multi-protocols/">Multi-protocols</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/multi-registry/">Multi-registries</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/service-group/">Grouping</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/multi-versions/">Versions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/group-merger/">Group merger</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/parameter-validation/">Parameter validation</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/result-cache/">Result cache</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/generic-reference/">Generic call</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/generic-service/">Generic implementation</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/echo-service/">Echo service</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/context/">Context</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/attachment/">Attachment</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/async-call/">Async call</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/local-call/">Local call</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/callback-parameter/">Parameter callback</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/events-notify/">Event callback</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/local-stub/">Local stub</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/local-mock/">Local mock</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/delay-publish/">Delay publish</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/concurrency-control/">Concurrency limit</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/config-connection.md">Connection limit</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/lazy-connect/">Lazy connec</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/stickiness/">Stickness connection</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/token-authorization/">Token authorization</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/routing-rule/">Routing rule</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/config-rule/">Config rule</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/service-downgrade/">Service downgrade</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/graceful-shutdown/">Graceful shutdown</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/hostname-binding/">Host binding</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/logger-strategy/">Logger</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/accesslog/">Accesslog</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/service-container/">Container</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/distributed-transaction/">Transaction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/dump/">Thread dump</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/netty4/">Netty4</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/serialization/">Kryo&FST serialization</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/simplify-registry-data.md">Simplified registry URL</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../demos/api.md">API reference</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Schema reference</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../references/xml/dubbo-service/">dubbo:service</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/xml/dubbo-reference/">dubbo:reference</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/xml/dubbo-protocol/">dubbo:protocol</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/xml/dubbo-registry/">dubbo:registry</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/xml/dubbo-monitor/">dubbo:monitor</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/xml/dubbo-application/">dubbo:application</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/xml/dubbo-module/">dubbo:module</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/xml/dubbo-provider/">dubbo:provider</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/xml/dubbo-consumer/">dubbo:consumer</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/xml/dubbo-method/">dubbo:method</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/xml/dubbo-argument/">dubbo:argument</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/xml/dubbo-parameter/">dubbo:parameter</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/xml/dubbo-config-center/">dubbo:config-center</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Protocol reference</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../references/protocol/dubbo/">dubbo://</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/protocol/rmi/">rmi://</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/protocol/hessian/">hessian://</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/protocol/http/">http://</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/protocol/thrift/">thrift://</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/protocol/rest/">rest://</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Registry reference</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../references/registry/multicast/">Multicast</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/registry/zookeeper/">Zookeeper</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/registry/redis/">Redis</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/registry/simple/">Simple</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Metadata reference</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../references/metadata/metadata-redis.md">Redis</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../references/registry/metadata-zookeeper.md">Zookeeper</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../references/telnet/">Telnet reference</a>
                </li>
                <li class="">
                    
    <a class="" href="../references/maven/">Maven plugin reference</a>
                </li>
                <li class="">
                    
    <a class="" href="../best-practice/">Best practice</a>
                </li>
                <li class="">
                    
    <a class="" href="../recommend/">Recommendation</a>
                </li>
                <li class="">
                    
    <a class="" href="../capacity-plan/">Capacity plan</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Benchmark</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#performance-test-report">Performance test report</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#test-instructions">Test instructions</a></li>
        
            <li><a class="toctree-l4" href="#test-environment">Test environment</a></li>
        
            <li><a class="toctree-l4" href="#test-purpose">Test purpose</a></li>
        
            <li><a class="toctree-l4" href="#test-script">Test script</a></li>
        
            <li><a class="toctree-l4" href="#test-result">Test result</a></li>
        
            <li><a class="toctree-l4" href="#test-analysis">Test analysis</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../covergence.md">Code coverange</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Developer's Guide</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../dev/build/">How to Build</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/design/">Architecture</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/SPI/">How SPI Works</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/implementation/">Init, Process, Protocols</a>
                </li>
                <li class="">
                    
    <span class="caption-text">SPI Extensions</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/protocol/">Protocol</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/filter/">Filter</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/invoker-listener/">Invoker Listener</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/exporter-listener/">Exporter Listener</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/cluster/">Cluster</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/router/">Router</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/load-balance/">Load Balance</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/merger/">Merge</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/registry/">Registry</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/monitor/">Monitor</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/extension-factory/">Extension Factory</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/proxy-factory/">Proxy Factory</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/compiler/">Compiler</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/dispatcher/">Dispatcher</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/threadpool/">Threadpool</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/serialize/">Serialize</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/remoting/">Remoting</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/exchanger/">Exchanger</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/networker/">Networker</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/telnet-handler/">Telnet Handler</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/status-checker/">Status Checker</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/container/">Container</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/page/">Page</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/cache/">Cache</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/validation/">Validation</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dev/impls/logger-adapter/">Logger Adapter</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/contract/">Contract</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/coding/">Coding</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/release/">Release</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/contribution/">Contribution</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/checklist/">Checklist</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/code-smell/">Code Smell</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/TCK/">TCK</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Admin's Guide</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../dev/introduction/">Dubbo Admin Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/serviceSearch.md">Search & Details</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/serviceGovernance.md">Governance</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/serviceTest.md">Testing</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Dubbo 2.7.8</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>User's Guide &raquo;</li>
        
      
    
    <li>Benchmark</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/documentations/2.7/en-us/docs/user/perf-test.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="performance-test-report">Performance test report</h1>
<h2 id="test-instructions">Test instructions</h2>
<ol>
<li>In this performance test, the performance of all Dubbo 2.0 supported protocols in different sizes and data types is tested and compared with the Dubbo 1.0.</li>
<li>The overall performance is increased by 1.0 compared with 10%, and the average increase is 10%. The performance improvement of 10%~50% can also be achieved by using the new Dubbo serialization of Dubbo 2.0 .</li>
<li>In the stability test, because the underlying communication framework is changed from Mina to netty, the growth of objects in old area is greatly reduced, and the 50 hour operation increases less than 200m and no fullgc.</li>
<li>There is a problem: performance of 2.0 is less than 1.0 in 50K data, and it is doubted that it may be a buffer setting problem, and the next version will be further confirmed.</li>
</ol>
<h2 id="test-environment">Test environment</h2>
<h3 id="hardware-deployment-and-parameter-adjustment">Hardware deployment and parameter adjustment</h3>
<table>
<thead>
<tr>
<th>Model</th>
<th>CPU</th>
<th>Memory</th>
<th>Network</th>
<th>Disk</th>
<th>Kernel</th>
</tr>
</thead>
<tbody>
<tr>
<td>Tecal BH620</td>
<td>model name : Intel(R) Xeon(R) CPU           E5520  @ 2.27GHz cache size : 8192 KB processor_count : 16</td>
<td>Total System Memory: 6G Hardware Memory Info:  Size: 4096MB</td>
<td>eth0: Link is up at 1000 Mbps, full duplex. peth0: Link is up at 1000 Mbps, full duplex.</td>
<td>/dev/sda: 597.9 GB</td>
<td>2.6.18-128.el5xen x86_64</td>
</tr>
</tbody>
</table>
<h3 id="software-architecture">Software architecture</h3>
<table>
<thead>
<tr>
<th>Software name and version</th>
<th>key parameter</th>
</tr>
</thead>
<tbody>
<tr>
<td>java version "1.6.0_18" Java(TM) SE Runtime Environment (build 1.6.0_18-b07) Java HotSpot(TM) 64-Bit Server VM (build 16.0-b13, mixed mode)</td>
<td>-server -Xmx2g -Xms2g -Xmn256m -XX:PermSize=128m -Xss256k -XX:+DisableExplicitGC -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -XX:+UseCMSCompactAtFullCollection -XX:LargePageSizeInBytes=128m -XX:+UseFastAccessorMethods -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=70</td>
</tr>
<tr>
<td>jboss-4.0.5.GA</td>
<td></td>
</tr>
<tr>
<td>httpd-2.0.61</td>
<td>KeepAlive On MaxKeepAliveRequests 100000 KeepAliveTimeout 180 MaxRequestsPerChild 1000000 <IfModule worker.c>         StartServers 5         MaxClients 1024         MinSpareThreads 25         MaxSpareThreads 75         ThreadsPerChild 64         ThreadLimit 128         ServerLimit 16 </IfModule></td>
</tr>
</tbody>
</table>
<h2 id="test-purpose">Test purpose</h2>
<h3 id="expected-performance-indicators-quantized">Expected performance indicators (quantized)</h3>
<table>
<thead>
<tr>
<th>Scene name</th>
<th>Corresponding index name</th>
<th>Range of expected values</th>
<th>Actual value</th>
<th>Whether or not to meet expectations (yes / no)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1k data</td>
<td>Response time</td>
<td>0.9ms</td>
<td>0.79ms</td>
<td>Yes</td>
</tr>
<tr>
<td>1k data</td>
<td>TPS</td>
<td>10000</td>
<td>11994</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<h3 id="expected-operating-conditions-non-quantified-optional">Expected operating conditions (non quantified, optional)</h3>
<ul>
<li>The performance of 2.0 is not less than 1, and the performance of the intermodulation of 2.0 and 1.0 is not significantly reduced. In addition to 50K string, the rest are passed</li>
<li>JVM memory is running stable, no OOM, and there is no reasonable large object in the heap memory. Passed</li>
<li>CPU, memory, network, disk, file handle are occupied smoothly. Passed</li>
<li>There is no frequent thread lock, and the number of threads is stable. Passed</li>
<li>Business thread load balance. Passed</li>
</ul>
<h2 id="test-script">Test script</h2>
<ol>
<li>
<p>Performance test scence (10 concurrency)</p>
<ul>
<li>Pass in 1K String, do not do anything, return the original</li>
<li>Pass in 50K String, do not do anything, return the original</li>
<li>Pass in 200K String, do not do anything, return the original</li>
<li>Incoming 1K POJO (nested complex person objects) without any processing, return to the original</li>
</ul>
<p>The above scenario is tested for 10 minutes in Dubbo 1.0, Dubbo 2.0 (hessian2 serialization), Dubbo 2.0 (Dubbo serialization), RMI, Hessian 3.2.0, HTTP (JSON serialization). It mainly examines the performance of serialization and network IO, so the server has no business logic. 10 is to consider the concurrent HTTP protocol in high with the use of CPU high rate may hit the bottleneck.
1. Concurrent scene (20 concurrency)
1K String is introduced into the server segment for 1W times, and a random number is regenerated each time and then assembled. Examine whether business threads can be assigned to each CPU.</p>
</li>
<li>
<p>Stability scence (20 concurrency)
    At the same time, we call the 1 parameter String (5K) method, the 1 parameter is the person object method, the 1 parameter is map (the value is 3 person), and it runs for 50 hours continuously.</p>
</li>
<li>
<p>High pressure scene (20 concurrency)
    On the basis of the stability scenario, the providers and consumers are arranged into 2 sets (one machine and 2 instances), and the parameters of String are 20byte to 200K, and are randomly transformed every 10 minutes.</p>
</li>
</ol>
<h2 id="test-result">Test result</h2>
<h3 id="scene-name-scence-pojo">Scene name: scence POJO</h3>
<table>
<thead>
<tr>
<th></th>
<th>TPS success avg value</th>
<th>Response time avg value(ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>dubbo1 (hessian2 serialization+mina)</td>
<td>10813.5</td>
<td>0.9</td>
</tr>
<tr>
<td>dubbo2 (hessian2 serialization+netty)</td>
<td>11994</td>
<td>0.79</td>
</tr>
<tr>
<td>dubbo2 (dubbo serialization+netty)</td>
<td>13620</td>
<td>0.67</td>
</tr>
<tr>
<td>rmi</td>
<td>2461.79</td>
<td>4</td>
</tr>
<tr>
<td>hessian</td>
<td>2417.7</td>
<td>4.1</td>
</tr>
<tr>
<td>http（json serialization）</td>
<td>8179.08</td>
<td>1.15</td>
</tr>
<tr>
<td>The default percentage of 2.0 and 1.0</td>
<td>10.92</td>
<td>-12.22</td>
</tr>
<tr>
<td>Dubbo serialization compared to the percentage of hessian2 serialization</td>
<td>13.56</td>
<td>-15.19</td>
</tr>
</tbody>
</table>
<p>POJO TPS</p>
<p><img alt="pojotps.png" src="../sources/images/pojotps.png" /></p>
<p>POJO Response</p>
<p><img alt="pojores.png" src="../sources/images/pojores.png" /></p>
<h3 id="scene-name-scence-1k-string">Scene name: scence 1k string</h3>
<table>
<thead>
<tr>
<th></th>
<th>TPS success avg value</th>
<th>Response time avg value(ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>dubbo1（hessian2 serialization+mina）</td>
<td>11940</td>
<td>0.8</td>
</tr>
<tr>
<td>dubbo2 (hessian2 serialization+netty)</td>
<td>14402</td>
<td>0.64</td>
</tr>
<tr>
<td>dubbo2 (dubbo serialization+netty)</td>
<td>15096</td>
<td>0.6</td>
</tr>
<tr>
<td>rmi</td>
<td>11136.02</td>
<td>0.81</td>
</tr>
<tr>
<td>hessian</td>
<td>11426.83</td>
<td>0.79</td>
</tr>
<tr>
<td>http（json serialization）</td>
<td>8919.27</td>
<td>1.04</td>
</tr>
<tr>
<td>The default percentage of 2.0 and 1.0</td>
<td>20.62</td>
<td>-20.00</td>
</tr>
<tr>
<td>Dubbo serialization compared to the percentage of hessian2 serialization</td>
<td>4.82</td>
<td>-6.25</td>
</tr>
</tbody>
</table>
<p>1k TPS</p>
<p><img alt="1ktps.png" src="../sources/images/1ktps.png" /></p>
<p>1k Response</p>
<p><img alt="1kres.png" src="../sources/images/1kres.png" /></p>
<h3 id="scene-name-scence-50k-string">Scene name: scence 50k string</h3>
<table>
<thead>
<tr>
<th>TPS success avg value</th>
<th>Response time avg value(ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>dubbo1（hessian2 serialization+mina</td>
<td>1962.7</td>
</tr>
<tr>
<td>dubbo2 (hessian2 serialization+netty)</td>
<td>1293</td>
</tr>
<tr>
<td>dubbo2 (dubbo serialization+netty)</td>
<td>1966</td>
</tr>
<tr>
<td>rmi</td>
<td>3349.88</td>
</tr>
<tr>
<td>hessian</td>
<td>1925.33</td>
</tr>
<tr>
<td>http（json serialization）</td>
<td>3247.1</td>
</tr>
<tr>
<td>The default percentage of 2.0 and 1.0</td>
<td>-34.12</td>
</tr>
<tr>
<td>Dubbo serialization compared to the percentage of hessian2 serialization</td>
<td>52.05</td>
</tr>
</tbody>
</table>
<p>50K TPS</p>
<p><img alt="50ktps.png" src="../sources/images/50ktps.png" /></p>
<p>50K Response</p>
<p><img alt="50kres.png" src="../sources/images/50kres.png" /></p>
<h3 id="scene-name-scence-200k-string">Scene name: scence 200k string</h3>
<table>
<thead>
<tr>
<th>TPS success avg value</th>
<th>Response time avg value(ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>dubbo1（hessian2 serialization+mina）</td>
<td>324.2</td>
</tr>
<tr>
<td>dubbo2 (hessian2 serialization+netty)</td>
<td>362.92</td>
</tr>
<tr>
<td>dubbo2 (dubbo serialization+netty)</td>
<td>569.5</td>
</tr>
<tr>
<td>rmi</td>
<td>1031.28</td>
</tr>
<tr>
<td>hessian</td>
<td>628.06</td>
</tr>
<tr>
<td>http（json serialization）</td>
<td>1011.97</td>
</tr>
<tr>
<td>The default percentage of 2.0 and 1.0</td>
<td>11.94</td>
</tr>
<tr>
<td>Dubbo serialization compared to the percentage of hessian2 serialization</td>
<td>56.92</td>
</tr>
</tbody>
</table>
<p>200K TPS</p>
<p><img alt="200ktps.png" src="../sources/images/200ktps.png" /></p>
<p><strong>200K Response</strong></p>
<p><img alt="200kres.png" src="../sources/images/200kres.png" /></p>
<h2 id="test-analysis">Test analysis</h2>
<h3 id="performance-analysis-and-evaluation">Performance analysis and evaluation</h3>
<p>The performance test conclusion of Dubbo 2 has been improved and improved from performance, memory footprint and stability. Because of its memory management, the change of Mina into netty greatly reduces the 1 version of the large memory sawtooth in high concurrency and large data.</p>
<h3 id="performance-comparison-analysis-new-and-old-environment-different-data-magnitude-etc">Performance comparison analysis (new and old environment, different data magnitude, etc.)</h3>
<p>The performance of Dubbo 2 is compared with that of Dubbo 1, which is all hessian2 serialization. The performance is improved (except for 50K String). See the performance data of the fifth chapter in detail.</p>
<p>For compatibility default serialization and 1 consistent with hessian2, such as have higher requirements on the performance of Dubbo serialization can be used, which is in the process of complicated object, can be obtained in 50% large data upgrade (but it is not recommended for use Dubbo protocol).</p>
<p>The purpose of Dubbo is to meet the RPC calls with high concurrent and small data volume. The performance is not good under large data volume. It is recommended to use RMI or HTTP protocol.</p>
<h3 id="test-limitation-analysis-optional">Test limitation analysis (optional)</h3>
<p>This performance test examines the performance of the Dubbo itself, and the performance of the actual use needs to be verified.</p>
<p>Because the performance of Dubbo itself is in millisecond and the base number is small, performance improvement may not change the performance of the application as a whole.</p>
<p>All the monitoring charts are not listed because of the limit of length.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../dev/build/" class="btn btn-neutral float-right" title="How to Build">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../capacity-plan/" class="btn btn-neutral" title="Capacity plan"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/apache/dubbo-website/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../capacity-plan/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../dev/build/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
