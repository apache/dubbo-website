<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="design" />
	<meta name="description" content="design" />
	<!-- 网页标签标题 -->
	<title>design</title>
	<link rel="shortcut icon" href="/img/dubbo.ico"/>
	<link rel="stylesheet" href="/build/documentation.css" />
</head>
<body>
	<div id="root"><div class="documentation-page" data-reactroot="" data-reactid="1" data-react-checksum="1004738358"><header class="header-container header-container-normal" data-reactid="2"><div class="header-body" data-reactid="3"><a href="/en-us/index.html" data-reactid="4"><img class="logo" src="/img/dubbo_colorful.png" data-reactid="5"/></a><div class="search search-normal" data-reactid="6"><span class="icon-search" data-reactid="7"></span></div><span class="language-switch language-switch-normal" data-reactid="8">中</span><div class="header-menu" data-reactid="9"><img class="header-menu-toggle" src="/img/menu_gray.png" data-reactid="10"/><ul data-reactid="11"><li class="menu-item menu-item-normal" data-reactid="12"><a href="/en-us/index.html" data-reactid="13">HOME</a></li><li class="menu-item menu-item-normal menu-item-normal-active" data-reactid="14"><a href="/en-us/docs/user/quick-start.html" data-reactid="15">DOCS</a></li><li class="menu-item menu-item-normal" data-reactid="16"><a href="/en-us/docs/developers/developers_dev.html" data-reactid="17">DEVELOPERS</a></li><li class="menu-item menu-item-normal" data-reactid="18"><a href="/en-us/blog/index.html" data-reactid="19">BLOG</a></li><li class="menu-item menu-item-normal" data-reactid="20"><a href="/en-us/community/index.html" data-reactid="21">COMMUNITY</a></li><li class="menu-item menu-item-normal" data-reactid="22"><a href="/en-us/blog/download.html" data-reactid="23">DOWNLOAD</a></li></ul></div></div></header><div class="bar" data-reactid="24"><div class="bar-body" data-reactid="25"><img src="/img/docs.png" class="front-img" data-reactid="26"/><span data-reactid="27">Documentation</span><img src="/img/docs.png" class="back-img" data-reactid="28"/></div></div><section class="content-section" data-reactid="29"><div class="sidemenu" data-reactid="30"><div class="sidemenu-toggle" data-reactid="31"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png" data-reactid="32"/></div><ul data-reactid="33"><li class="menu-item menu-item-level-1" data-reactid="34"><span data-reactid="35">User doc</span><ul data-reactid="36"><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="37"><span data-reactid="38"><!-- react-text: 39 -->Preface<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="40"/></span><ul data-reactid="41"><li class="menu-item menu-item-level-3" data-reactid="42"><a href="/en-us/docs/user/preface/background.html" target="_self" data-reactid="43">Background</a></li><li class="menu-item menu-item-level-3" data-reactid="44"><a href="/en-us/docs/user/preface/requirements.html" target="_self" data-reactid="45">Requirements</a></li><li class="menu-item menu-item-level-3" data-reactid="46"><a href="/en-us/docs/user/preface/architecture.html" target="_self" data-reactid="47">Architecture</a></li><li class="menu-item menu-item-level-3" data-reactid="48"><a href="/en-us/docs/user/preface/usage.html" target="_self" data-reactid="49">Usage</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="50"><a href="/en-us/docs/user/quick-start.html" target="_self" data-reactid="51">Quick start</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="52"><a href="/en-us/docs/user/dependencies.html" target="_self" data-reactid="53">Dependencies</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="54"><a href="/en-us/docs/user/maturity.html" target="_self" data-reactid="55">Maturality</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="56"><span data-reactid="57"><!-- react-text: 58 -->Configuration<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="59"/></span><ul data-reactid="60"><li class="menu-item menu-item-level-3" data-reactid="61"><a href="/en-us/docs/user/configuration/xml.html" target="_self" data-reactid="62">XML configuration</a></li><li class="menu-item menu-item-level-3" data-reactid="63"><a href="/en-us/docs/user/configuration/properties.html" target="_self" data-reactid="64">Properties configuration</a></li><li class="menu-item menu-item-level-3" data-reactid="65"><a href="/en-us/docs/user/configuration/api.html" target="_self" data-reactid="66">API configuration</a></li><li class="menu-item menu-item-level-3" data-reactid="67"><a href="/en-us/docs/user/configuration/annotation.html" target="_self" data-reactid="68">Annotation configuration</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="69"><span data-reactid="70"><!-- react-text: 71 -->Demos<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="72"/></span><ul data-reactid="73"><li class="menu-item menu-item-level-3" data-reactid="74"><a href="/en-us/docs/user/demos/preflight-check.html" target="_self" data-reactid="75">Start check</a></li><li class="menu-item menu-item-level-3" data-reactid="76"><a href="/en-us/docs/user/demos/fault-tolerent-strategy.html" target="_self" data-reactid="77">Fault-tolerent strategy</a></li><li class="menu-item menu-item-level-3" data-reactid="78"><a href="/en-us/docs/user/demos/loadbalance.html" target="_self" data-reactid="79">Load balance</a></li><li class="menu-item menu-item-level-3" data-reactid="80"><a href="/en-us/docs/user/demos/thread-model.html" target="_self" data-reactid="81">Thread model</a></li><li class="menu-item menu-item-level-3" data-reactid="82"><a href="/en-us/docs/user/demos/explicit-target.html" target="_self" data-reactid="83">Connecting certain provider straightly</a></li><li class="menu-item menu-item-level-3" data-reactid="84"><a href="/en-us/docs/user/demos/subscribe-only.html" target="_self" data-reactid="85">Subscribe only</a></li><li class="menu-item menu-item-level-3" data-reactid="86"><a href="/en-us/docs/user/demos/registry-only.html" target="_self" data-reactid="87">Registry only</a></li><li class="menu-item menu-item-level-3" data-reactid="88"><a href="/en-us/docs/user/demos/static-service.html" target="_self" data-reactid="89">Static service</a></li><li class="menu-item menu-item-level-3" data-reactid="90"><a href="/en-us/docs/user/demos/multi-protocols.html" target="_self" data-reactid="91">Multi-protocols</a></li><li class="menu-item menu-item-level-3" data-reactid="92"><a href="/en-us/docs/user/demos/multi-registry.html" target="_self" data-reactid="93">Multi-registries</a></li><li class="menu-item menu-item-level-3" data-reactid="94"><a href="/en-us/docs/user/demos/service-group.html" target="_self" data-reactid="95">Service group</a></li><li class="menu-item menu-item-level-3" data-reactid="96"><a href="/en-us/docs/user/demos/multi-versions.html" target="_self" data-reactid="97">Multi-versions</a></li><li class="menu-item menu-item-level-3" data-reactid="98"><a href="/en-us/docs/user/demos/group-merger.html" target="_self" data-reactid="99">Group merger</a></li><li class="menu-item menu-item-level-3" data-reactid="100"><a href="/en-us/docs/user/demos/parameter-validation.html" target="_self" data-reactid="101">Parameter validation</a></li><li class="menu-item menu-item-level-3" data-reactid="102"><a href="/en-us/docs/user/demos/result-cache.html" target="_self" data-reactid="103">Result cache</a></li><li class="menu-item menu-item-level-3" data-reactid="104"><a href="/en-us/docs/user/demos/generic-reference.html" target="_self" data-reactid="105">Generic reference</a></li><li class="menu-item menu-item-level-3" data-reactid="106"><a href="/en-us/docs/user/demos/generic-service.html" target="_self" data-reactid="107">Generic service</a></li><li class="menu-item menu-item-level-3" data-reactid="108"><a href="/en-us/docs/user/demos/echo-service.html" target="_self" data-reactid="109">Echo service</a></li><li class="menu-item menu-item-level-3" data-reactid="110"><a href="/en-us/docs/user/demos/context.html" target="_self" data-reactid="111">Context</a></li><li class="menu-item menu-item-level-3" data-reactid="112"><a href="/en-us/docs/user/demos/attachment.html" target="_self" data-reactid="113">Attachment</a></li><li class="menu-item menu-item-level-3" data-reactid="114"><a href="/en-us/docs/user/demos/async-call.html" target="_self" data-reactid="115">Asynchronous call</a></li><li class="menu-item menu-item-level-3" data-reactid="116"><a href="/en-us/docs/user/demos/local-call.html" target="_self" data-reactid="117">Local call</a></li><li class="menu-item menu-item-level-3" data-reactid="118"><a href="/en-us/docs/user/demos/callback-parameter.html" target="_self" data-reactid="119">Callback parameter</a></li><li class="menu-item menu-item-level-3" data-reactid="120"><a href="/en-us/docs/user/demos/events-notify.html" target="_self" data-reactid="121">Events notify</a></li><li class="menu-item menu-item-level-3" data-reactid="122"><a href="/en-us/docs/user/demos/local-stub.html" target="_self" data-reactid="123">Local stub</a></li><li class="menu-item menu-item-level-3" data-reactid="124"><a href="/en-us/docs/user/demos/local-mock.html" target="_self" data-reactid="125">Local mock</a></li><li class="menu-item menu-item-level-3" data-reactid="126"><a href="/en-us/docs/user/demos/delay-publish.html" target="_self" data-reactid="127">Delay publish</a></li><li class="menu-item menu-item-level-3" data-reactid="128"><a href="/en-us/docs/user/demos/concurrency-control.html" target="_self" data-reactid="129">Concurrency control</a></li><li class="menu-item menu-item-level-3" data-reactid="130"><a href="/en-us/docs/user/demos/config-connections.html" target="_self" data-reactid="131">Connections limitation</a></li><li class="menu-item menu-item-level-3" data-reactid="132"><a href="/en-us/docs/user/demos/lazy-connect.html" target="_self" data-reactid="133">Lazy connect</a></li><li class="menu-item menu-item-level-3" data-reactid="134"><a href="/en-us/docs/user/demos/stickiness.html" target="_self" data-reactid="135">Stickness connections</a></li><li class="menu-item menu-item-level-3" data-reactid="136"><a href="/en-us/docs/user/demos/token-authorization.html" target="_self" data-reactid="137">Token authorization</a></li><li class="menu-item menu-item-level-3" data-reactid="138"><a href="/en-us/docs/user/demos/routing-rule.html" target="_self" data-reactid="139">Routing rule</a></li><li class="menu-item menu-item-level-3" data-reactid="140"><a href="/en-us/docs/user/demos/config-rule.html" target="_self" data-reactid="141">Configuration rule</a></li><li class="menu-item menu-item-level-3" data-reactid="142"><a href="/en-us/docs/user/demos/service-downgrade.html" target="_self" data-reactid="143">Service downgrade</a></li><li class="menu-item menu-item-level-3" data-reactid="144"><a href="/en-us/docs/user/demos/graceful-shutdown.html" target="_self" data-reactid="145">Graceful shutdown</a></li><li class="menu-item menu-item-level-3" data-reactid="146"><a href="/en-us/docs/user/demos/hostname-binding.html" target="_self" data-reactid="147">Hostname binding</a></li><li class="menu-item menu-item-level-3" data-reactid="148"><a href="/en-us/docs/user/demos/logger-strategy.html" target="_self" data-reactid="149">Logger strategy</a></li><li class="menu-item menu-item-level-3" data-reactid="150"><a href="/en-us/docs/user/demos/accesslog.html" target="_self" data-reactid="151">Accesslog</a></li><li class="menu-item menu-item-level-3" data-reactid="152"><a href="/en-us/docs/user/demos/service-container.html" target="_self" data-reactid="153">Service container</a></li><li class="menu-item menu-item-level-3" data-reactid="154"><a href="/en-us/docs/user/demos/reference-config-cache.html" target="_self" data-reactid="155">Reference config cache</a></li><li class="menu-item menu-item-level-3" data-reactid="156"><a href="/en-us/docs/user/demos/distributed-transaction.html" target="_self" data-reactid="157">Distributed transaction</a></li><li class="menu-item menu-item-level-3" data-reactid="158"><a href="/en-us/docs/user/demos/dump.html" target="_self" data-reactid="159">Automatic thread dump</a></li><li class="menu-item menu-item-level-3" data-reactid="160"><a href="/en-us/docs/user/demos/netty4.html" target="_self" data-reactid="161">Netty4</a></li><li class="menu-item menu-item-level-3" data-reactid="162"><a href="/en-us/docs/user/demos/serialization.html" target="_self" data-reactid="163">Serialization with FST and Kyro</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="164"><a href="/en-us/docs/user/references/api.html" target="_self" data-reactid="165">API configuration reference</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="166"><span data-reactid="167"><!-- react-text: 168 -->Schema configuration reference<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="169"/></span><ul data-reactid="170"><li class="menu-item menu-item-level-3" data-reactid="171"><a href="/en-us/docs/user/references/xml/introduction.html" target="_self" data-reactid="172">Introduction</a></li><li class="menu-item menu-item-level-3" data-reactid="173"><a href="/en-us/docs/user/references/xml/dubbo-service.html" target="_self" data-reactid="174">dubbo:service</a></li><li class="menu-item menu-item-level-3" data-reactid="175"><a href="/en-us/docs/user/references/xml/dubbo-reference.html" target="_self" data-reactid="176">dubbo:reference</a></li><li class="menu-item menu-item-level-3" data-reactid="177"><a href="/en-us/docs/user/references/xml/dubbo-protocol.html" target="_self" data-reactid="178">dubbo:protocol</a></li><li class="menu-item menu-item-level-3" data-reactid="179"><a href="/en-us/docs/user/references/xml/dubbo-registry.html" target="_self" data-reactid="180">dubbo:registry</a></li><li class="menu-item menu-item-level-3" data-reactid="181"><a href="/en-us/docs/user/references/xml/dubbo-monitor.html" target="_self" data-reactid="182">dubbo:monitor</a></li><li class="menu-item menu-item-level-3" data-reactid="183"><a href="/en-us/docs/user/references/xml/dubbo-application.html" target="_self" data-reactid="184">dubbo:application</a></li><li class="menu-item menu-item-level-3" data-reactid="185"><a href="/en-us/docs/user/references/xml/dubbo-module.html" target="_self" data-reactid="186">dubbo:module</a></li><li class="menu-item menu-item-level-3" data-reactid="187"><a href="/en-us/docs/user/references/xml/dubbo-provider.html" target="_self" data-reactid="188">dubbo:provider</a></li><li class="menu-item menu-item-level-3" data-reactid="189"><a href="/en-us/docs/user/references/xml/dubbo-consumer.html" target="_self" data-reactid="190">dubbo:consumer</a></li><li class="menu-item menu-item-level-3" data-reactid="191"><a href="/en-us/docs/user/references/xml/dubbo-method.html" target="_self" data-reactid="192">dubbo:method</a></li><li class="menu-item menu-item-level-3" data-reactid="193"><a href="/en-us/docs/user/references/xml/dubbo-argument.html" target="_self" data-reactid="194">dubbo:argument</a></li><li class="menu-item menu-item-level-3" data-reactid="195"><a href="/en-us/docs/user/references/xml/dubbo-parameter.html" target="_self" data-reactid="196">dubbo:parameter</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="197"><span data-reactid="198"><!-- react-text: 199 -->Protocol configuration reference<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="200"/></span><ul data-reactid="201"><li class="menu-item menu-item-level-3" data-reactid="202"><a href="/en-us/docs/user/references/protocol/introduction.html" target="_self" data-reactid="203">Introduction</a></li><li class="menu-item menu-item-level-3" data-reactid="204"><a href="/en-us/docs/user/references/protocol/dubbo.html" target="_self" data-reactid="205">dubbo://</a></li><li class="menu-item menu-item-level-3" data-reactid="206"><a href="/en-us/docs/user/references/protocol/rmi.html" target="_self" data-reactid="207">rmi://</a></li><li class="menu-item menu-item-level-3" data-reactid="208"><a href="/en-us/docs/user/references/protocol/hessian.html" target="_self" data-reactid="209">hessian://</a></li><li class="menu-item menu-item-level-3" data-reactid="210"><a href="/en-us/docs/user/references/protocol/http.html" target="_self" data-reactid="211">http://</a></li><li class="menu-item menu-item-level-3" data-reactid="212"><a href="/en-us/docs/user/references/protocol/webservice.html" target="_self" data-reactid="213">webservice://</a></li><li class="menu-item menu-item-level-3" data-reactid="214"><a href="/en-us/docs/user/references/protocol/thrift.html" target="_self" data-reactid="215">thrift://</a></li><li class="menu-item menu-item-level-3" data-reactid="216"><a href="/en-us/docs/user/references/protocol/memcached.html" target="_self" data-reactid="217">memcached://</a></li><li class="menu-item menu-item-level-3" data-reactid="218"><a href="/en-us/docs/user/references/protocol/redis.html" target="_self" data-reactid="219">redis://</a></li><li class="menu-item menu-item-level-3" data-reactid="220"><a href="/en-us/docs/user/references/protocol/rest.html" target="_self" data-reactid="221">rest://</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="222"><span data-reactid="223"><!-- react-text: 224 -->Registry configuration reference<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="225"/></span><ul data-reactid="226"><li class="menu-item menu-item-level-3" data-reactid="227"><a href="/en-us/docs/user/references/registry/introduction.html" target="_self" data-reactid="228">Introduction</a></li><li class="menu-item menu-item-level-3" data-reactid="229"><a href="/en-us/docs/user/references/registry/multicast.html" target="_self" data-reactid="230">Multicast registry</a></li><li class="menu-item menu-item-level-3" data-reactid="231"><a href="/en-us/docs/user/references/registry/zookeeper.html" target="_self" data-reactid="232">Zookeeper registry</a></li><li class="menu-item menu-item-level-3" data-reactid="233"><a href="/en-us/docs/user/references/registry/redis.html" target="_self" data-reactid="234">Redis registry</a></li><li class="menu-item menu-item-level-3" data-reactid="235"><a href="/en-us/docs/user/references/registry/simple.html" target="_self" data-reactid="236">Simple registry</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="237"><a href="/en-us/docs/user/references/telnet.html" target="_self" data-reactid="238">Telnet command</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="239"><a href="/en-us/docs/user/references/maven.html" target="_self" data-reactid="240">Maven plugin</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="241"><a href="/en-us/docs/user/best-practice.html" target="_self" data-reactid="242">Best practice</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="243"><a href="/en-us/docs/user/recommend.html" target="_self" data-reactid="244">Recommended usage</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="245"><a href="/en-us/docs/user/capacity-plan.html" target="_self" data-reactid="246">Capacity plan</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="247"><a href="/en-us/docs/user/perf-test.html" target="_self" data-reactid="248">Performance testing reports</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="249"><a href="/en-us/docs/user/coveragence.html" target="_self" data-reactid="250">Test coverage report</a></li></ul></li><li class="menu-item menu-item-level-1" data-reactid="251"><span data-reactid="252">Developer guide</span><ul data-reactid="253"><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="254"><a href="/en-us/docs/dev/build.html" target="_self" data-reactid="255">How To Build</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="256"><a href="/en-us/docs/dev/design.html" target="_self" data-reactid="257">Architecture</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="258"><a href="/en-us/docs/dev/SPI.html" target="_self" data-reactid="259">How SPI Works</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="260"><a href="/en-us/docs/dev/implementation.html" target="_self" data-reactid="261">Init, Process, Protocols</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="262"><span data-reactid="263"><!-- react-text: 264 -->SPI Extensions<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="265"/></span><ul data-reactid="266"><li class="menu-item menu-item-level-3" data-reactid="267"><a href="/en-us/docs/dev/impls/protocol.html" target="_self" data-reactid="268">Protocol</a></li><li class="menu-item menu-item-level-3" data-reactid="269"><a href="/en-us/docs/dev/impls/filter.html" target="_self" data-reactid="270">Filter</a></li><li class="menu-item menu-item-level-3" data-reactid="271"><a href="/en-us/docs/dev/impls/invoker-listener.html" target="_self" data-reactid="272">InvokerListener</a></li><li class="menu-item menu-item-level-3" data-reactid="273"><a href="/en-us/docs/dev/impls/exporter-listener.html" target="_self" data-reactid="274">ExporterListener</a></li><li class="menu-item menu-item-level-3" data-reactid="275"><a href="/en-us/docs/dev/impls/cluster.html" target="_self" data-reactid="276">Cluster</a></li><li class="menu-item menu-item-level-3" data-reactid="277"><a href="/en-us/docs/dev/impls/router.html" target="_self" data-reactid="278">Router</a></li><li class="menu-item menu-item-level-3" data-reactid="279"><a href="/en-us/docs/dev/impls/load-balance.html" target="_self" data-reactid="280">LoadBalance</a></li><li class="menu-item menu-item-level-3" data-reactid="281"><a href="/en-us/docs/dev/impls/merger.html" target="_self" data-reactid="282">Merger</a></li><li class="menu-item menu-item-level-3" data-reactid="283"><a href="/en-us/docs/dev/impls/registry.html" target="_self" data-reactid="284">Registry</a></li><li class="menu-item menu-item-level-3" data-reactid="285"><a href="/en-us/docs/dev/impls/monitor.html" target="_self" data-reactid="286">Monitor</a></li><li class="menu-item menu-item-level-3" data-reactid="287"><a href="/en-us/docs/dev/impls/extension-factory.html" target="_self" data-reactid="288">ExtensionFactory</a></li><li class="menu-item menu-item-level-3" data-reactid="289"><a href="/en-us/docs/dev/impls/proxy-factory.html" target="_self" data-reactid="290">ProxyFactory</a></li><li class="menu-item menu-item-level-3" data-reactid="291"><a href="/en-us/docs/dev/impls/compiler.html" target="_self" data-reactid="292">Compiler</a></li><li class="menu-item menu-item-level-3" data-reactid="293"><a href="/en-us/docs/dev/impls/dispatcher.html" target="_self" data-reactid="294">Dispatcher</a></li><li class="menu-item menu-item-level-3" data-reactid="295"><a href="/en-us/docs/dev/impls/threadpool.html" target="_self" data-reactid="296">Threadpool</a></li><li class="menu-item menu-item-level-3" data-reactid="297"><a href="/en-us/docs/dev/impls/serialize.html" target="_self" data-reactid="298">Serialization</a></li><li class="menu-item menu-item-level-3" data-reactid="299"><a href="/en-us/docs/dev/impls/remoting.html" target="_self" data-reactid="300">Remoting</a></li><li class="menu-item menu-item-level-3" data-reactid="301"><a href="/en-us/docs/dev/impls/exchanger.html" target="_self" data-reactid="302">Exchanger</a></li><li class="menu-item menu-item-level-3" data-reactid="303"><a href="/en-us/docs/dev/impls/networker.html" target="_self" data-reactid="304">Networker</a></li><li class="menu-item menu-item-level-3" data-reactid="305"><a href="/en-us/docs/dev/impls/telnet-handler.html" target="_self" data-reactid="306">TelnetHandler</a></li><li class="menu-item menu-item-level-3" data-reactid="307"><a href="/en-us/docs/dev/impls/status-checker.html" target="_self" data-reactid="308">StatusChecker</a></li><li class="menu-item menu-item-level-3" data-reactid="309"><a href="/en-us/docs/dev/impls/container.html" target="_self" data-reactid="310">Container</a></li><li class="menu-item menu-item-level-3" data-reactid="311"><a href="/en-us/docs/dev/impls/page.html" target="_self" data-reactid="312">PageHandler</a></li><li class="menu-item menu-item-level-3" data-reactid="313"><a href="/en-us/docs/dev/impls/cache.html" target="_self" data-reactid="314">Cache</a></li><li class="menu-item menu-item-level-3" data-reactid="315"><a href="/en-us/docs/dev/impls/validation.html" target="_self" data-reactid="316">Validation</a></li><li class="menu-item menu-item-level-3" data-reactid="317"><a href="/en-us/docs/dev/impls/logger-adapter.html" target="_self" data-reactid="318">LoggerAdapter</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="319"><a href="/en-us/docs/dev/contract.html" target="_self" data-reactid="320">Contract</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="321"><a href="/en-us/docs/dev/coding.html" target="_self" data-reactid="322">Code Style</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="323"><a href="/en-us/docs/dev/release.html" target="_self" data-reactid="324">Versions</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="325"><a href="/en-us/docs/dev/contribution.html" target="_self" data-reactid="326">Contribution</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="327"><a href="/en-us/docs/dev/checklist.html" target="_self" data-reactid="328">Checklist</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="329"><a href="/en-us/docs/dev/code-smell.html" target="_self" data-reactid="330">Code Smell</a></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="331"><a href="/en-us/docs/dev/TCK.html" target="_self" data-reactid="332">TCK</a></li></ul></li><li class="menu-item menu-item-level-1" data-reactid="333"><span data-reactid="334">Admin guide</span><ul data-reactid="335"><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="336"><span data-reactid="337"><!-- react-text: 338 -->Installation<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="339"/></span><ul data-reactid="340"><li class="menu-item menu-item-level-3" data-reactid="341"><a href="/en-us/docs/admin/install/provider-demo.html" target="_self" data-reactid="342">Install provider demo</a></li><li class="menu-item menu-item-level-3" data-reactid="343"><a href="/en-us/docs/admin/install/consumer-demo.html" target="_self" data-reactid="344">Install consumer demo</a></li><li class="menu-item menu-item-level-3" data-reactid="345"><a href="/en-us/docs/admin/install/zookeeper.html" target="_self" data-reactid="346">Install Zookeeper configuration center</a></li><li class="menu-item menu-item-level-3" data-reactid="347"><a href="/en-us/docs/admin/install/redis.html" target="_self" data-reactid="348">Install Redis configuration center</a></li><li class="menu-item menu-item-level-3" data-reactid="349"><a href="/en-us/docs/admin/install/simple-registry-center.html" target="_self" data-reactid="350">Install Simple configuration center</a></li><li class="menu-item menu-item-level-3" data-reactid="351"><a href="/en-us/docs/admin/install/simple-monitor-center.html" target="_self" data-reactid="352">Install Simple monitor center</a></li><li class="menu-item menu-item-level-3" data-reactid="353"><a href="/en-us/docs/admin/install/admin-console.html" target="_self" data-reactid="354">Install admin console</a></li></ul></li><li style="height:36px;overflow:hidden;" class="menu-item menu-item-level-2" data-reactid="355"><span data-reactid="356"><!-- react-text: 357 -->Operation manual<!-- /react-text --><img style="transform:rotate(-90deg);" class="menu-toggle" src="/img/arrow_down.png" data-reactid="358"/></span><ul data-reactid="359"><li class="menu-item menu-item-level-3" data-reactid="360"><a href="/en-us/docs/admin/ops/dubbo-ops.html" target="_self" data-reactid="361">Admin console operation guide</a></li><li class="menu-item menu-item-level-3" data-reactid="362"><a href="/en-us/docs/admin/ops/pinpoint.html" target="_self" data-reactid="363">Tracking with Pinpoint</a></li><li class="menu-item menu-item-level-3" data-reactid="364"><a href="/en-us/docs/admin/ops/skywalking.html" target="_self" data-reactid="365">Tracking with Skywalking</a></li></ul></li></ul></li></ul></div><div class="doc-content markdown-body" data-reactid="366"><h1>Framework Design</h1>
<h2>Overall design</h2>
<p><img src="sources/images/dubbo-framework.jpg" alt="/dev-guide/images/dubbo-framework.jpg"></p>
<p>Image description:</p>
<ul>
<li>Left area with light blue background shows service consumer interfaces, Right area with light green background shows service provider interfaces, center area shows both side interfaces.</li>
<li>The image is divided into 10 layers from the bottom to the top, and the layers are one-way dependence. The black arrow on the right represents the dependency between layers, and each layer can be stripped from the upper layer to be reused, the Service and Config layers are API, and the other layers are SPI.</li>
<li>Green boxes are extension interfaces, blue boxes are implementation classes, image only shows implementation class of associated layers.</li>
<li>The blue dashed line is the initialization process, which is assembly chain when starting, red line for the method call process, which is calling chain when running, purple triangle arrow is inherited, can treat subclass as the same node of parent class, text of lines are the method invocation.</li>
</ul>
<h2>Layer description</h2>
<ul>
<li><strong>config layer</strong>: external config interface, <code>ServiceConfig</code> and <code>ReferenceConfig</code> is the center of the layer, you can directly initialize config class, also can generate config class by spring.</li>
<li><strong>proxy layer</strong>: transparent proxy of service interface, generate client Stub of service and server Skeletion of service, <code>ServiceProxy</code> is the center, extension interface is <code>ProxyFactory</code>.</li>
<li><strong>registry layer</strong>: encapsulation of service registry and discovery, service URL is the center, extension interfaces are <code>RegistryFactory</code>, <code>Registry</code> and <code>RegistryService</code>.</li>
<li><strong>cluster layer</strong>: encapsulation of cluster of muliple providers and load balance, and bridging registration center, <code>Invoker</code> is the center, extension interfaces are <code>Cluster</code>, <code>Directory</code>, <code>Router</code>, <code>LoadBalance</code>.</li>
<li><strong>monitor layer</strong>: monitor of RPC call times and call execute time, <code>Statistics</code> is the center, extension interface are <code>MonitorFactory</code>, <code>Monitor</code>, <code>MonitorService</code></li>
<li><strong>protocol layer</strong>: encapsulation of RPC, <code>Invocation</code> and <code>Result</code> are the center, extension interfaces are <code>Protocol</code>, <code>Invoker</code>, <code>Exporter</code></li>
<li><strong>exchange layer</strong>: encapsulation of request and response, synchronous transfer asynchronous, <code>Request</code> and <code>Response</code> are the center, extension interfaces are <code>Exchanger</code>, <code>ExchangeChannel</code>, <code>ExchangeClient</code>, <code>ExchangeServer</code></li>
<li><strong>transport layer</strong>: abstraction of mina and netty, <code>Message</code> is the center, extension interfaces are <code>Channel</code>, <code>Transporter</code>, <code>Client</code>, <code>Server</code>, <code>Codec</code></li>
<li><strong>serialize layer</strong>: reusable tools, extension interfaces are <code>Serialization</code>, <code>ObjectInput</code>, <code>ObjectOutput</code>, <code>ThreadPool</code></li>
</ul>
<h2>Relationship description</h2>
<ul>
<li>In RPC, Protocol is the core layer, it means that you can complete RPC calling by Protocol + Invoker + Exporter, then filter at the main process of Invoker.</li>
<li>Consumer and Provider are abstraction concepts, just want you have a more intuitive understanding of which classes belong to the client and server side, the reason not use Client and Server is that Dubbo uses Provider, Consumer, Registry, Monitor divide logical topology node in many scenes, keep the concept of unity.</li>
<li>Cluster is external concept, the purpose of Cluster is that make various Invoker disguise to one Invoker, so that we just pay attention to the Invoker in Protocol layer, adding Cluster or removing Cluster will not affect other layers, because we don't need Cluster when only have one provider.</li>
<li>The Proxy layer encapsulates the transparent proxy for all interfaces, and in other layers with Invoker as the center, turn Invoker into interface, or turn interface implementation into Invoker by Proxy only when exposuring to user. RPC still work even removing Proxy layer, but not so transparent, making remote service calling don't look like local service calling.</li>
<li>Remoting is the implemetation of Dubbo protocols, you can remove Remoting if choosing RMI. The Remoting is divided into Transport layer and Exchange layer, Transport layer is responsible for one-way message transmission, it's abstraction of Mina, Netty, Grizzly, it also can extend UDP transmission. The Exchange layer encapsulates the Request-Response semantics over the transport layer.</li>
<li>Actually Registry and Monitor are not at the same layer, they are independent nodes, draw them together by layer just for global view.</li>
</ul>
<h2>Modules packaging</h2>
<p><img src="sources/images/dubbo-modules.jpg" alt="/dev-guide/images/dubbo-modules.jpg"></p>
<p>Modules description:</p>
<ul>
<li><strong>dubbo-common module</strong>: includes Util classes and common modules.</li>
<li><strong>dubbo-remoting module</strong>: is Dubbo protocol implementation, no need to use this module if using RMI for RPC.</li>
<li><strong>dubbo-rpc module</strong>: abstraction of various protocols, and dynamic proxy, only one to one call, not concerned with the management of cluster.</li>
<li><strong>dubbo-cluster module</strong>: disguise many service providers as one provider, including load balancing, fault tolerance, routing, etc. the address list of clusters can be either static or send by registry.</li>
<li><strong>dubbo-registry module</strong>: Based on the cluster of registry send address and the abstraction of various registry centers.</li>
<li><strong>dubbo-monitor module</strong>: statistics of service call times, call time, call chain tracked services.</li>
<li><strong>dubbo-config module</strong>: is Dubbo external API, users use Dubbo by Config, hide Dubbo details.</li>
<li><strong>dubbo-container module</strong>: is a Standlone container, just use Main method to load Spring, because usually service no need Tomcat/JBoss features.</li>
</ul>
<p>Package dividing according to the layer structure, and the difference with layer dividing:</p>
<ul>
<li>container is service container, for service running deployment, not showed in the image.</li>
<li>protocol layer and proxy layer are placed in RPC module, they are the core of RPC module, you can use these 2 layers complete RPC call when only have 1 provider.</li>
<li>transport layer and exchange layer are placed in remoting module, for RPC call base comminucation.</li>
<li>serialize layer is placed in common module, for reuse.</li>
</ul>
<h2>Dependence relationship</h2>
<p><img src="sources/images/dubbo-relation.jpg" alt="/dev-guide/images/dubbo-relation.jpg"></p>
<p>Image description:</p>
<ul>
<li>The boxes in image, Protocol, Cluster, Proxy, Service, Container, Registry, Monitor represent layer or module, the blues mean interactive with business, the greens mean only internal interactive with Dubbo.</li>
<li>The backgroud boxes in image, Consumer, Provider, Registry, Monitor represent deployment logical topology node.</li>
<li>The blue dashed line in the image is called for initialization, the red dashed line is called asynchronously for runtime, and the red line is called synchronously for runtime.</li>
<li>The image only includes RPC layer, don't includes Remoting layer, the whole Remoting hides in Protocol layer.</li>
</ul>
<h2>Call chain</h2>
<p>Expand the red call chain of the overall design map:</p>
<p><img src="sources/images/dubbo-extension.jpg" alt="/dev-guide/images/dubbo-extension.jpg"></p>
<h2>Expose service sequence</h2>
<p>Expand the initialization chain of service provider exposes service which at the left of the overall design map, the sequence diagram shows below:</p>
<p><img src="sources/images/dubbo-export.jpg" alt="/dev-guide/images/dubbo-export.jpg"></p>
<h2>Reference service sequence</h2>
<p>Expand the initialization chain of service consumer references service which at the right of the overall design map, the sequence diagram shows below:</p>
<p><img src="sources/images/dubbo-refer.jpg" alt="/dev-guide/images/dubbo-refer.jpg"></p>
<h2>Domain model</h2>
<p>The core domain models of Dubbo:</p>
<ul>
<li>Protocol is service domain, it is the main function entrance of Invoker exposure and reference, it is responsible for the life cycle management of Invoker.</li>
<li>Invoker is entity domain, it is the core model of Dubbo, all the other models are disturbed, or converted to it, it represents an executable, you can call it by calling invoke, it can be a local implementation, a remote implementation, or a cluster implementation.</li>
<li>Invocation is session domain, it holds variables in the calling process, such as the method name, the parameters, and so on.</li>
</ul>
<h2>Base design principle</h2>
<ul>
<li>Use Microkernel + Plugin design pattern，Microkernel only responsible for assembly Plugin, the functions of Dubbo are implemented by extension points, it means that all functions of Dubbo can be replaced by self defined extension by user.</li>
<li>Use URL to be the startdard format of config information, all extension points transfer config information by URL.</li>
</ul>
<p>More design principles refer to: <a href="./principals/introduction.md">Framework design principle</a></p>
</div></section><footer class="footer-container" data-reactid="367"><div class="footer-body" data-reactid="368"><img src="/img/dubbo_gray.png" data-reactid="369"/><img class="apache" src="/img/apache_logo.png" data-reactid="370"/><div class="cols-container" data-reactid="371"><div class="col col-12" data-reactid="372"><h3 data-reactid="373">Disclaimer</h3><p data-reactid="374">Apache Dubbo is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</p></div><div class="col col-4" data-reactid="375"><dl data-reactid="376"><dt data-reactid="377">ASF</dt><dd data-reactid="378"><a href="http://www.apache.org" target="_self" data-reactid="379">Foundation</a></dd><dd data-reactid="380"><a href="http://www.apache.org/licenses/" target="_self" data-reactid="381">License</a></dd><dd data-reactid="382"><a href="http://www.apache.org/events/current-event" target="_self" data-reactid="383">Events</a></dd><dd data-reactid="384"><a href="http://www.apache.org/foundation/sponsorship.html" target="_self" data-reactid="385">Sponsorship</a></dd><dd data-reactid="386"><a href="http://www.apache.org/foundation/thanks.html" target="_self" data-reactid="387">Thanks</a></dd></dl></div><div class="col col-4" data-reactid="388"><dl data-reactid="389"><dt data-reactid="390">Documentation</dt><dd data-reactid="391"><a href="/en-us/docs/user/quick-start.html" target="_self" data-reactid="392">Quick start</a></dd><dd data-reactid="393"><a href="/en-us/docs/dev/build.html" target="_self" data-reactid="394">Developer guide</a></dd><dd data-reactid="395"><a href="/en-us/docs/admin/ops/dubbo-ops.html" target="_self" data-reactid="396">Admin manual</a></dd></dl></div><div class="col col-4" data-reactid="397"><dl data-reactid="398"><dt data-reactid="399">Resources</dt><dd data-reactid="400"><a href="/en-us/blog/index.html" target="_self" data-reactid="401">Blog</a></dd><dd data-reactid="402"><a href="/en-us/community/index.html" target="_self" data-reactid="403">Community</a></dd><dd data-reactid="404"><a href="https://www.apache.org/security/" target="_self" data-reactid="405">Security</a></dd></dl></div></div><div class="copyright" data-reactid="406"><span data-reactid="407">Copyright © 2018 The Apache Software Foundation. Apache and the Apache feather logo are trademarks of The Apache Software Foundation.</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
  </script>
  <script src="/build/documentation.js"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-112489517-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-112489517-1');
	</script>
</body>
</html>