<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="code-detail" />
	<meta name="description" content="code-detail" />
	<!-- 网页标签标题 -->
	<title>code-detail</title>
	<link rel="shortcut icon" href="/img/dubbo.ico"/>
	<link rel="stylesheet" href="/build/documentation.css" />
</head>
<body>
	<div id="root"><div class="documentation-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><a href="/en-us/index.html"><img class="logo" src="/img/dubbo_colorful.png"/></a><div class="search search-normal"><span class="icon-search"></span></div><span class="language-switch language-switch-normal">中</span><div class="header-menu"><img class="header-menu-toggle" src="/img/menu_gray.png"/><ul><li class="menu-item menu-item-normal"><a href="/en-us/index.html">HOME</a></li><li class="menu-item menu-item-normal menu-item-normal-active"><a href="/en-us/docs/user/quick-start.html">DOCS</a></li><li class="menu-item menu-item-normal"><a href="/en-us/docs/developers/developers_dev.html">DEVELOPERS</a></li><li class="menu-item menu-item-normal"><a href="/en-us/blog/index.html">BLOG</a></li><li class="menu-item menu-item-normal"><a href="/en-us/community/index.html">COMMUNITY</a></li><li class="menu-item menu-item-normal"><a href="/en-us/blog/download.html">DOWNLOAD</a></li></ul></div></div></header><div class="bar"><div class="bar-body"><img src="/img/docs.png" class="front-img"/><span>Documentation</span><img src="/img/docs.png" class="back-img"/></div></div><section class="content-section"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span>User doc</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Preface<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/preface/background.html" target="_self">Background</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/preface/requirements.html" target="_self">Requirements</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/preface/architecture.html" target="_self">Architecture</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/preface/usage.html" target="_self">Usage</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/user/quick-start.html" target="_self">Quick start</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/user/dependencies.html" target="_self">Dependencies</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/user/maturity.html" target="_self">Maturality</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Configuration<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/configuration/xml.html" target="_self">XML configuration</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/configuration/properties.html" target="_self">Properties configuration</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/configuration/api.html" target="_self">API configuration</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/configuration/annotation.html" target="_self">Annotation configuration</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Demos<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/preflight-check.html" target="_self">Start check</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/fault-tolerent-strategy.html" target="_self">Fault-tolerent strategy</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/loadbalance.html" target="_self">Load balance</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/thread-model.html" target="_self">Thread model</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/explicit-target.html" target="_self">Connecting certain provider straightly</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/subscribe-only.html" target="_self">Subscribe only</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/registry-only.html" target="_self">Registry only</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/static-service.html" target="_self">Static service</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/multi-protocols.html" target="_self">Multi-protocols</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/multi-registry.html" target="_self">Multi-registries</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/service-group.html" target="_self">Service group</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/multi-versions.html" target="_self">Multi-versions</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/group-merger.html" target="_self">Group merger</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/parameter-validation.html" target="_self">Parameter validation</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/result-cache.html" target="_self">Result cache</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/generic-reference.html" target="_self">Generic reference</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/generic-service.html" target="_self">Generic service</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/echo-service.html" target="_self">Echo service</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/context.html" target="_self">Context</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/attachment.html" target="_self">Attachment</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/async-call.html" target="_self">Asynchronous call</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/local-call.html" target="_self">Local call</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/callback-parameter.html" target="_self">Callback parameter</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/events-notify.html" target="_self">Events notify</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/local-stub.html" target="_self">Local stub</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/local-mock.html" target="_self">Local mock</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/delay-publish.html" target="_self">Delay publish</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/concurrency-control.html" target="_self">Concurrency control</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/config-connections.html" target="_self">Connections limitation</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/lazy-connect.html" target="_self">Lazy connect</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/stickiness.html" target="_self">Stickness connections</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/token-authorization.html" target="_self">Token authorization</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/routing-rule.html" target="_self">Routing rule</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/config-rule.html" target="_self">Configuration rule</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/service-downgrade.html" target="_self">Service downgrade</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/graceful-shutdown.html" target="_self">Graceful shutdown</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/hostname-binding.html" target="_self">Hostname binding</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/logger-strategy.html" target="_self">Logger strategy</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/accesslog.html" target="_self">Accesslog</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/service-container.html" target="_self">Service container</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/reference-config-cache.html" target="_self">Reference config cache</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/distributed-transaction.html" target="_self">Distributed transaction</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/dump.html" target="_self">Automatic thread dump</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/netty4.html" target="_self">Netty4</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/demos/serialization.html" target="_self">Serialization with FST and Kyro</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/user/references/api.html" target="_self">API configuration reference</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Schema configuration reference<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/xml/introduction.html" target="_self">Introduction</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/xml/dubbo-service.html" target="_self">dubbo:service</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/xml/dubbo-reference.html" target="_self">dubbo:reference</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/xml/dubbo-protocol.html" target="_self">dubbo:protocol</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/xml/dubbo-registry.html" target="_self">dubbo:registry</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/xml/dubbo-monitor.html" target="_self">dubbo:monitor</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/xml/dubbo-application.html" target="_self">dubbo:application</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/xml/dubbo-module.html" target="_self">dubbo:module</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/xml/dubbo-provider.html" target="_self">dubbo:provider</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/xml/dubbo-consumer.html" target="_self">dubbo:consumer</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/xml/dubbo-method.html" target="_self">dubbo:method</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/xml/dubbo-argument.html" target="_self">dubbo:argument</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/xml/dubbo-parameter.html" target="_self">dubbo:parameter</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Protocol configuration reference<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/protocol/introduction.html" target="_self">Introduction</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/protocol/dubbo.html" target="_self">dubbo://</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/protocol/rmi.html" target="_self">rmi://</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/protocol/hessian.html" target="_self">hessian://</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/protocol/http.html" target="_self">http://</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/protocol/webservice.html" target="_self">webservice://</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/protocol/thrift.html" target="_self">thrift://</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/protocol/memcached.html" target="_self">memcached://</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/protocol/redis.html" target="_self">redis://</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/protocol/rest.html" target="_self">rest://</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>Registry configuration reference<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/registry/introduction.html" target="_self">Introduction</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/registry/multicast.html" target="_self">Multicast registry</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/registry/zookeeper.html" target="_self">Zookeeper registry</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/registry/redis.html" target="_self">Redis registry</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/user/references/registry/simple.html" target="_self">Simple registry</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/user/references/telnet.html" target="_self">Telnet command</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/user/references/maven.html" target="_self">Maven plugin</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/user/best-practice.html" target="_self">Best practice</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/user/recommend.html" target="_self">Recommended usage</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/user/capacity-plan.html" target="_self">Capacity plan</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/user/perf-test.html" target="_self">Performance testing reports</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/user/coveragence.html" target="_self">Test coverage report</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Developer guide</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/build.html" target="_self">How To Build</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/design.html" target="_self">Architecture</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/SPI.html" target="_self">How SPI Works</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/implementation.html" target="_self">Init, Process, Protocols</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>SPI Extensions<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/protocol.html" target="_self">Protocol</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/filter.html" target="_self">Filter</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/invoker-listener.html" target="_self">InvokerListener</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/exporter-listener.html" target="_self">ExporterListener</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/cluster.html" target="_self">Cluster</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/router.html" target="_self">Router</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/load-balance.html" target="_self">LoadBalance</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/merger.html" target="_self">Merger</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/registry.html" target="_self">Registry</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/monitor.html" target="_self">Monitor</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/extension-factory.html" target="_self">ExtensionFactory</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/proxy-factory.html" target="_self">ProxyFactory</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/compiler.html" target="_self">Compiler</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/dispatcher.html" target="_self">Dispatcher</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/threadpool.html" target="_self">Threadpool</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/serialize.html" target="_self">Serialization</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/remoting.html" target="_self">Remoting</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/exchanger.html" target="_self">Exchanger</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/networker.html" target="_self">Networker</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/telnet-handler.html" target="_self">TelnetHandler</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/status-checker.html" target="_self">StatusChecker</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/container.html" target="_self">Container</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/page.html" target="_self">PageHandler</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/cache.html" target="_self">Cache</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/validation.html" target="_self">Validation</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/dev/impls/logger-adapter.html" target="_self">LoggerAdapter</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/contract.html" target="_self">Contract</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/coding.html" target="_self">Code Style</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/release.html" target="_self">Versions</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/contribution.html" target="_self">Contribution</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/checklist.html" target="_self">Checklist</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/code-smell.html" target="_self">Code Smell</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/dev/TCK.html" target="_self">TCK</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Admin guide</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/admin/introduction.html" target="_self">introduction of dubbo ops</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/admin/serviceSearch.html" target="_self">service search</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/admin/serviceGovernance.html" target="_self">service governance</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/admin/serviceTest.html" target="_self">service test</a></li></ul></li></ul></div><div class="doc-content markdown-body"><h1>The devil is in the details</h1>
<blockquote>
<p><a href="http://javatar.iteye.com/blog/1056664">http://javatar.iteye.com/blog/1056664</a></p>
</blockquote>
<p>Recently, I have been worried about the quality of the Dubbo distributed service framework. If there are more maintenance personnel or changes, there will be a decline in quality. I am thinking, is there any need for everyone to abide by it, according to a habit when writing code, I have summarized it. The code process, especially the framework code, should always keep in mind the details. Maybe the following will be said, everyone will feel very simple, very basic, but always keep in mind. Considering these factors in every line of code requires a lot of patience. It is often said that the devil is in the details.</p>
<h2>Prevent null pointer dereference and index out of bounds</h2>
<p>This is the exception I least like to see, especially in the core framework, in contrast I would like to see a parameter not legal exception with detail information. This is also a robust program developer who should be prevented in the subconscious by writing every line of code. Basically, you must be able to ensure that the code that is written once will not appear in the case of no test.</p>
<h2>Ensure thread safety and visibility</h2>
<p>For framework developers, a deep understanding of thread safety and visibility is the most basic requirement. Developers are required to ensure that they are correct in the subconscious when writing each line of code. Because of this kind of code, it will look normal when doing functional tests under small concurrency. However, under high concurrency, there will be inexplicable problems, and the scene is difficult to reproduce, and it is extremely difficult to check.</p>
<h2>Fail fast and precondition</h2>
<p>Fail fast should also become a subconscious mind, assert at the entrance when there are incoming parameters and state changes. An illegal value and state should be reported at the first time, rather than waiting until the time is needed. Because when it is time to use, other related states may have been modified before, and few people in the program handle the rollback logic. After this error, the internal state may be confusing, and it is easy to cause the program to be unrecoverable on a hidden branch.</p>
<h2>Separate reliable operation and unreliable operation</h2>
<p>The reliability here is narrowly defined whether it will throw an exception or cause a state inconsistency. For example, writing a thread-safe Map can be considered reliable, but writing to a database can be considered unreliable. Developers must pay attention to its reliability when writing each line of code, divide it as much as possible in the code, and handle exceptions for failures, and provide clear logic for fault-tolerant, self-protection, automatic recovery or switching. The entry point ensures that the code that is subsequently added is not misplaced, and the original fault-tolerant processing is confusing.</p>
<h2>Safeguard against exceptions, but does not ignore exceptions</h2>
<p>The exception defense mentioned here refers to the maximum tolerance of the code on the non-crucial path, including the bug on the program. For example, the version number of program is retrieved by scanning the Manifest and jar package names. This logic is auxiliary, but the code is quite a bit. Although the initial test works well but you should add a try-catch block to cover the whole getVersion() function, if something goes wrong then print error message and return the basic version. Because getVersion() may encounter exception for specific unknown scene, or other developers mistakenly modify the logic (usually they won't remove try-catch). Otherwise if it throws an exception, the main process will be interrupted which we don't want to see. It should be controlled properly, do not abuse try-catch, and do not eat the exception silently.</p>
<h2>Reduce scope of variable and use final liberally</h2>
<p>If a class can be an Immutable Class, it is preferred to design it as an Immutable Class. The immutable class has natural concurrency advantages, reduce synchronization and replication, it can efficiently help analyze the scope of thread safety. Even if a mutable class, for references passed in from constructor then held internally, it is better to make this field final, so as not to be mistakenly modified. Don't assume that the field won't be reassigned if this field is private or this class is written by myself. One factor to consider is that this code may be modified by others. He may not aware your weak convention， and the Final is a invariant contract.</p>
<h2>Reduce misunderstanding when modifying, do not bury mine</h2>
<p>It is repeatedly mentioned that the code being modified by the others, and this is something developers should keep in mind. This other person includes the future of yourself, you always have to think about this code, someone may change it. I should give the modified person a hint, let him know my current design intent, instead of adding hidden rules in the program, or bury some easily overlooked mines, such as: use null to indicate that it is not available, the size is equal to 0 means black list, this is a mine. The next modifier, including yourself, will not remember to have such an agreement, may later change some of the other bugs, accidentally changed to here, directly detonated the fault. For this example, one principle is to never distinguish between null references and null values.</p>
<h2>Improve code testability</h2>
<p>The testability here mainly refers to the ease of Mock and the isolation of the test cases. As for the automation, repeatability, stability, disorder, completeness (full coverage), lightweight (fast execution) of the test, the general developer, plus the assist of tools such as JUnit can do it. Can also understand its benefits, just the matter of workload. Primary emphasis on unicity(only test the target class itself) and isolation(do not propagate failure). Nowadays there is too much emphasis on completeness, a lot of crossed and repeated test cases. It seems fine, but the more test code, the higher maintenance cost. A common problem is that modifying a line of code or adding an assertion causes more than 100 test cases to fail. It will cost a lot of time to fix these variance test cases. Over time, this test cases can't really reflect the current state of the code, and it will often be compromised to bypass. In the best case, modify a line of code, and only one line of test code does not pass. If the code is modified and the test case can still pass, that doesn't work, indicating that the scenario is not covered. In addition, Mockability is the basis of isolation, it hide the logic of indirect dependencies. One of the biggest killers of Mockability is the static method, which should be avoid as possible.</p>
</div></section><footer class="footer-container"><div class="footer-body"><img src="/img/dubbo_gray.png"/><img class="apache" src="/img/apache_logo.png"/><div class="cols-container"><div class="col col-12"><h3></h3><p></p></div><div class="col col-4"><dl><dt>ASF</dt><dd><a href="http://www.apache.org" target="_self">Foundation</a></dd><dd><a href="http://www.apache.org/licenses/" target="_self">License</a></dd><dd><a href="http://www.apache.org/events/current-event" target="_self">Events</a></dd><dd><a href="http://www.apache.org/foundation/sponsorship.html" target="_self">Sponsorship</a></dd><dd><a href="http://www.apache.org/foundation/thanks.html" target="_self">Thanks</a></dd></dl></div><div class="col col-4"><dl><dt>Documentation</dt><dd><a href="/en-us/docs/user/quick-start.html" target="_self">Quick start</a></dd><dd><a href="/en-us/docs/dev/build.html" target="_self">Developer guide</a></dd><dd><a href="/en-us/docs/admin/ops/dubbo-ops.html" target="_self">Admin manual</a></dd><dd><a href="https://github.com/apache/dubbo-website/issues/new" target="_self">Report a Doc Issue</a></dd><dd><a href="https://github.com/apache/dubbo-website" target="_self">Edit This Page on GitHub</a></dd></dl></div><div class="col col-4"><dl><dt>Resources</dt><dd><a href="/en-us/blog/index.html" target="_self">Blog</a></dd><dd><a href="/en-us/community/index.html" target="_self">Community</a></dd><dd><a href="https://www.apache.org/security/" target="_self">Security</a></dd></dl></div></div><div class="copyright"><span>Copyright © 2018-2019 The Apache Software Foundation. Apache and the Apache feather logo are trademarks of The Apache Software Foundation.</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
  </script>
  <script src="/build/documentation.js"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-112489517-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-112489517-1');
	</script>
</body>
</html>
