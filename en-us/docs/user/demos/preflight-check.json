{
  "filename": "preflight-check.md",
  "__html": "<h1>Check on start up</h1>\n<p>By default dubbo will check if the dependent service is available at startup . It will throw an exception to prevent Spring complete initialization when it is not available, so that you can find the problems early before publishing you application, the default setting: <code>check=true</code>.</p>\n<p>You can turn off checking by <code>check=false</code>. For example, some services do not care it when you run testing, or you must have one started firstly because of circular dependency.</p>\n<p>In addition, if your Spring bean is lazy-loaded or you delay reference service with API programming, turn off the check,\notherwise the service will throw an exception when the service is temporarily unavailable ,then get a null reference.  If you configure <code>check=false</code> ,you can get a reference . When the service is restored, the service can automatically reconnect.</p>\n<h2>Example</h2>\n<h3>Use the spring configuration file</h3>\n<p>Disable the startup check of a service (throw some exception/error when no provider is provided):</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:reference</span> <span class=\"hljs-attr\">interface</span> = <span class=\"hljs-string\">\"com.foo.BarService\"</span> <span class=\"hljs-attr\">check</span> = <span class=\"hljs-string\">\"false\"</span> /&gt;</span>\n</code></pre>\n<p>Disable startup checking for all services (throw some exception/error when not provided):</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:consumer</span> <span class=\"hljs-attr\">check</span> = <span class=\"hljs-string\">\"false\"</span> /&gt;</span>\n</code></pre>\n<p>Disable the registration center startup check (registration subscription failed error):</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:registry</span> <span class=\"hljs-attr\">check</span>=<span class=\"hljs-string\">\"false\"</span> /&gt;</span>\n</code></pre>\n<h3>Use dubbo.properties</h3>\n<pre><code class=\"language-properties\">dubbo.reference.com.foo.BarService.check = false\ndubbo.reference.check = false\ndubbo.consumer.check = false\ndubbo.registry.check = false\n</code></pre>\n<h3>Use the -D parameter</h3>\n<pre><code class=\"language-sh\">java -Ddubbo.reference.com.foo.BarService.check = <span class=\"hljs-literal\">false</span>\njava -Ddubbo.reference.check = <span class=\"hljs-literal\">false</span>\njava -Ddubbo.consumer.check = <span class=\"hljs-literal\">false</span>\njava -Ddubbo.registry.check = <span class=\"hljs-literal\">false</span>\n</code></pre>\n<h2>Configuration Meaning</h2>\n<p><code>dubbo.reference.check=false</code>,  Change the check value of all references forcibly, even if the configuration has a declaration, it also will be overwritten.</p>\n<p><code>dubbo.consumer.check=false</code>  The default value of <code>check</code>.  It will not be affected if there is an explicit declaration in the configuration such as<code></code>&lt;dubbo: reference check =&quot; true &quot;/&gt;`.</p>\n<p><code>dubbo.registry.check=false</code>, The two configuration above is to express success of the subscription. If the subscription is also allowed to start when the registration fails for the provider list is empty, you need to use this configuration. The system will try again in the background regularly.</p>\n"
}