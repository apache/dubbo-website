{
  "filename": "memcached.md",
  "__html": "<h1>memcached://</h1>\n<p>RPC protocol based on memcached implementation.</p>\n<h2>Register memcached service address</h2>\n<pre><code class=\"language-java\">RegistryFactory registryFactory = ExtensionLoader.getExtensionLoader(RegistryFactory.class).getAdaptiveExtension();\nRegistry registry = registryFactory.getRegistry(URL.valueOf(<span class=\"hljs-string\">\"zookeeper://10.20.153.10:2181\"</span>));\nregistry.register(URL.valueOf(<span class=\"hljs-string\">\"memcached://10.20.153.11/com.foo.BarService?category=providers&amp;dynamic=false&amp;application=foo&amp;group=member&amp;loadbalance=consistenthash\"</span>));\n</code></pre>\n<h2>Use in client</h2>\n<p>get service reference:</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:reference</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"cache\"</span> <span class=\"hljs-attr\">interface</span>=<span class=\"hljs-string\">\"java.util.Map\"</span> <span class=\"hljs-attr\">group</span>=<span class=\"hljs-string\">\"member\"</span> /&gt;</span>\n</code></pre>\n<p>or direct access by IP:</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:reference</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"cache\"</span> <span class=\"hljs-attr\">interface</span>=<span class=\"hljs-string\">\"java.util.Map\"</span> <span class=\"hljs-attr\">url</span>=<span class=\"hljs-string\">\"memcached://10.20.153.10:11211\"</span> /&gt;</span>\n</code></pre>\n<p>you can also use a custom interface：</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:reference</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"cache\"</span> <span class=\"hljs-attr\">interface</span>=<span class=\"hljs-string\">\"com.foo.CacheService\"</span> <span class=\"hljs-attr\">url</span>=<span class=\"hljs-string\">\"memcached://10.20.153.10:11211\"</span> /&gt;</span>\n</code></pre>\n<p>The method name is the same as the standard method name of memcached, just like get(key), set(key, value), delete(key)。</p>\n<p>If the method name and the memcached standard method name are not the same, you need to configure the mapping</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:reference</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"cache\"</span> <span class=\"hljs-attr\">interface</span>=<span class=\"hljs-string\">\"com.foo.CacheService\"</span> <span class=\"hljs-attr\">url</span>=<span class=\"hljs-string\">\"memcached://10.20.153.10:11211\"</span> <span class=\"hljs-attr\">p:set</span>=<span class=\"hljs-string\">\"putFoo\"</span> <span class=\"hljs-attr\">p:get</span>=<span class=\"hljs-string\">\"getFoo\"</span> <span class=\"hljs-attr\">p:delete</span>=<span class=\"hljs-string\">\"removeFoo\"</span> /&gt;</span>\n</code></pre>\n"
}