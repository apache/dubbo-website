{
  "filename": "qos.md",
  "__html": "<h1>Telnet (new version) Command Usage</h1>\n<p>dubbo 2.5.8 version refactor the telnet module, providing new telnet command support.</p>\n<h3>Port</h3>\n<p>the port of new version telnet is different from the port of dubbo protocol. The default port is <code>22222</code>, which can be changed by modifying configuration file <code>dubbo.properties</code></p>\n<pre><code>dubbo.application.qos.port=33333\n</code></pre>\n<p>or by modifying the JVM parameter</p>\n<pre><code>-Ddubbo.application.qos.port=33333\n</code></pre>\n<h3>Safety</h3>\n<p>By default, dubbo can receive any command sent from the host, which can be changed by modifying the configuration file <code>dubbo.properties</code></p>\n<pre><code>dubbo.application.qos.accept.foreign.ip=false\n</code></pre>\n<p>or by configuring the JVM parameter</p>\n<pre><code>-Ddubbo.application.qos.accept.foreign.ip=false\n</code></pre>\n<p>to reject command sent from the remote host, allowing only the local server to run the command</p>\n<h3>Telnet and http protocol</h3>\n<p>The telnet module supports both http and telnet protocol, in order to facilitate the use of various situations</p>\n<p>For example,</p>\n<pre><code>➜  ~ telnet localhost 22222\nTrying ::1...\ntelnet: connect to address ::1: Connection refused\nTrying 127.0.0.1...\nConnected to localhost.\nEscape character is '^]'.\n  ████████▄  ███    █▄  ▀█████████▄  ▀█████████▄   ▄██████▄\n  ███   ▀███ ███    ███   ███    ███   ███    ███ ███    ███\n  ███    ███ ███    ███   ███    ███   ███    ███ ███    ███\n  ███    ███ ███    ███  ▄███▄▄▄██▀   ▄███▄▄▄██▀  ███    ███\n  ███    ███ ███    ███ ▀▀███▀▀▀██▄  ▀▀███▀▀▀██▄  ███    ███\n  ███    ███ ███    ███   ███    ██▄   ███    ██▄ ███    ███\n  ███   ▄███ ███    ███   ███    ███   ███    ███ ███    ███\n  ████████▀  ████████▀  ▄█████████▀  ▄█████████▀   ▀██████▀\n\n\ndubbo&gt;ls\nAs Provider side:\n+----------------------------------+---+\n|       Provider Service Name      |PUB|\n+----------------------------------+---+\n|com.alibaba.dubbo.demo.DemoService| N |\n+----------------------------------+---+\nAs Consumer side:\n+---------------------+---+\n|Consumer Service Name|NUM|\n+---------------------+---+\n\ndubbo&gt;\n</code></pre>\n<pre><code>➜  ~ curl &quot;localhost:22222/ls?arg1=xxx&amp;arg2=xxxx&quot;\nAs Provider side:\n+----------------------------------+---+\n|       Provider Service Name      |PUB|\n+----------------------------------+---+\n|com.alibaba.dubbo.demo.DemoService| N |\n+----------------------------------+---+\nAs Consumer side:\n+---------------------+---+\n|Consumer Service Name|NUM|\n+---------------------+---+\n</code></pre>\n<h3>ls List consumers and providers</h3>\n<pre><code>dubbo&gt;ls\nAs Provider side:\n+----------------------------------+---+\n|       Provider Service Name      |PUB|\n+----------------------------------+---+\n|com.alibaba.dubbo.demo.DemoService| Y |\n+----------------------------------+---+\nAs Consumer side:\n+---------------------+---+\n|Consumer Service Name|NUM|\n+---------------------+---+\n</code></pre>\n<p>List the services of the provides and the consumers that dubbo provide</p>\n<h3>Online service command</h3>\n<p>When using delay publishing function(com.alibaba.dubbo.config.AbstractServiceConfig#register set as false), you can use “online” command to online the service</p>\n<pre><code>//online all services\ndubbo&gt;online\nOK\n\n//online part of servies according to regularity.\ndubbo&gt;online com.*\nOK\n</code></pre>\n<p>Common usage situations:</p>\n<ul>\n<li>Because there is no JIT or the related resources warm-up, when the machine is restarted and the online QPS is relatively high , a large amount of timeout situations may occur. At this time,the problem can be solved by distributing the batch service and increasing the traffic gradually.</li>\n<li>A machine needs to be back online after going offline due to some reasons.</li>\n</ul>\n<h3>Offline service Command</h3>\n<p>Offline command can be used if temporary offline service is needed when fault occurs.</p>\n<pre><code>//offline all service \ndubbo&gt;offline\nOK\n\n//offline some services according to regular rules\ndubbo&gt;offline com.*\nOK\n</code></pre>\n<h3>help command</h3>\n<pre><code>//list all commands\ndubbo&gt;help\n\n//list the specific use case of a command \ndubbo&gt;help online\n+--------------+----------------------------------------------------------------------------------+\n| COMMAND NAME | online                                                                           |\n+--------------+----------------------------------------------------------------------------------+\n|      EXAMPLE | online dubbo                                                                     |\n|              | online xx.xx.xxx.service                                                         |\n+--------------+----------------------------------------------------------------------------------+\ndubbo&gt;\n</code></pre>\n",
  "link": "/en-us/docs/user/references/qos.html",
  "meta": {}
}