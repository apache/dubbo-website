<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>4 - Protocol Layer on Apache Dubbo</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/</link><description>Recent content in 4 - Protocol Layer on Apache Dubbo</description><generator>Hugo</generator><language>en</language><atom:link href="https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/index.xml" rel="self" type="application/rss+xml"/><item><title>4-1 - Unsupported Protocol</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/1/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/1/</guid><description>&lt;h3 id="possible-causes">Possible Causes&lt;/h3>
&lt;p>This situation may occur in scenarios with a custom Protocol. Dubbo&amp;rsquo;s SPI mechanism cannot find the Protocol specified in the URL.&lt;/p>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;ol>
&lt;li>Ensure that the Consumer has the dependencies for the Protocol used by the server.&lt;/li>
&lt;li>Confirm that the name of the SPI configuration file for the Protocol&amp;rsquo;s dependency package is correct.&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>See also&lt;br>
&lt;a href="https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/spi/overview/">Overview of Dubbo SPI&lt;/a>&lt;br>
&lt;a href="https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/spi/description/protocol/">Protocol Extension Description&lt;/a>&lt;/p>
&lt;/blockquote></description></item><item><title>4-2 - An Initial Error Occurred for the Serialization Optimizer</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/2/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/2/</guid><description>&lt;h3 id="possible-reasons">Possible Reasons&lt;/h3>
&lt;p>The current serialization configuration uses Kryo and FST.&lt;/p>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;p>&lt;a href="https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/advanced-features-and-usage/performance/serialization/">Kryo and FST Serialization&lt;/a>&lt;/p></description></item><item><title>4-3 - Interface reference call failed</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/3/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/3/</guid><description>&lt;h3 id="possible-reasons">Possible Reasons&lt;/h3>
&lt;p>The exposed service interface or method was not found based on the specified protocol parameters.&lt;/p>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;p>You can confirm whether the server exists based on the interface URL and method name.&lt;/p></description></item><item><title>4-4 - Unsafe Serialization Method</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/4/</guid><description>&lt;h3 id="possible-causes">Possible Causes&lt;/h3>
&lt;p>Currently using an unsafe serializer, which is not recommended. The specific configuration is: &lt;code>serialization=&amp;quot;java&amp;quot;&lt;/code>&lt;/p>
&lt;blockquote>
&lt;p>Java serialization is unsafe. The Dubbo team does not recommend anyone to use it. If you still want to use it, please follow &lt;a href="https://openjdk.java.net/jeps/290">JEP 290&lt;/a> to set up a serialization filter to prevent deserialization leaks.&lt;/p>
&lt;/blockquote>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;p>Modify the &lt;code>serialization&lt;/code> parameter value. Change the serialization parameter value within the protocol to something else, such as hessian2, fastjson2, etc.&lt;/p></description></item><item><title>4-5 - Stream Closure Exception</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/5/</guid><description>&lt;h3 id="possible-causes">Possible Causes&lt;/h3>
&lt;p>Prompt information that does not affect the execution result of the program.&lt;/p>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;p>You can use some third-party tools or &lt;code>jstack [PID] &amp;gt; jstack.log&lt;/code> to analyze stack information for diagnosis.&lt;/p></description></item><item><title>4-6 - Deserialization Failure</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/6/</guid><description>&lt;h3 id="possible-causes">Possible Causes&lt;/h3>
&lt;p>This occurs when using a custom serialization method, and an error happens during the use of the custom SPI &lt;code>org.apache.dubbo.common.serialize.Serialization&lt;/code> serialization method.&lt;/p>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;p>Stack trace information can be analyzed using some third-party tools or by using &lt;code>jstack [PID] &amp;gt; jstack.log&lt;/code> to obtain the content of the object that caused the error, and then modify it in conjunction with the custom implementation.&lt;/p>
&lt;blockquote>
&lt;p>Refer to &lt;a href="https://cn.dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/spi/description/serialize/">Serialization Extension&lt;/a>&lt;/p>
&lt;/blockquote></description></item><item><title>4-7 - Error Occurred When Closing Client</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/7/</guid><description>&lt;h3 id="possible-causes">Possible Causes&lt;/h3>
&lt;p>An error occurs during the &lt;code>close&lt;/code> or &lt;code>destroy&lt;/code> of various &lt;code>Connect Clients&lt;/code>, which does not affect the final outcome.&lt;/p>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;p>Stack trace information can be analyzed using some third-party tools or by using &lt;code>jstack [PID] &amp;gt; jstack.log&lt;/code> for diagnosis.&lt;/p></description></item><item><title>4-8 - Error occurred when shutting down the server</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/8/</guid><description>&lt;h3 id="possible-causes">Possible Causes&lt;/h3>
&lt;p>Similar to 4-7, this occurs during shutdown.&lt;/p>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;p>You can analyze the stack trace information using some third-party tools or &lt;code>jstack [PID] &amp;gt; jstack.log&lt;/code> for locating the issue.&lt;/p></description></item><item><title>4-9 - Parsing Failed</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/9/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/9/</guid><description>&lt;h3 id="possible-causes">Possible Causes&lt;/h3>
&lt;p>Generally, it is due to parameter values not conforming to the rules, resulting in errors during conversion.
For example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>String timeoutString &lt;span style="color:#719e07">=&lt;/span> httpMetadata.headers().getFirst(TripleHeaderEnum.SERVICE_TIMEOUT.getHeader());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Long timeout &lt;span style="color:#719e07">=&lt;/span> Long.parseLong(timeoutString);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Long timeout &lt;span style="color:#719e07">=&lt;/span> GrpcUtils.parseTimeoutToMills(timeoutString);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>invocation.put(CommonConstants.TIMEOUT_KEY, timeout);
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;p>Modify the corresponding configuration according to the key name indicated in the stack information to meet the conversion rules.&lt;/p></description></item><item><title>4-10 - Triple serialization result failure</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/10/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/10/</guid><description>&lt;h3 id="possible-causes">Possible Causes&lt;/h3>
&lt;p>Generally an internal error.
Seen in three types of log formats:&lt;/p>
&lt;ol>
&lt;li>An exception occurs during serialization and sending data, log format: &lt;code>Serialize triple request failed, service=%s method=%s&lt;/code>&lt;/li>
&lt;li>Triggered when receiving the response&amp;rsquo;s reset code, log format: &lt;code>Triple Client received remote reset errorCode=xxx&lt;/code>&lt;/li>
&lt;li>Triggered when an exception occurs while processing the response, log format: &lt;code>Meet Exception on ClientResponseHandler, status code is:xxx&lt;/code>&lt;/li>
&lt;/ol>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;p>For the first type of error, it occurs during the call to {service}#{method}, specifically correlating to sendMessage, and this log appears simultaneously with &lt;code>java.util.concurrent.ExecutionException: org.apache.dubbo.rpc.StatusRpcException: INTERNAL : Serialize request failed&lt;/code>. Check if the custom classes in the parameters of the {method} are implementing the serialization interface, which may lead to serialization failure.&lt;/p></description></item><item><title>4-11 - Request initiation failed</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/11/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/11/</guid><description>&lt;h3 id="possible-reasons">Possible Reasons&lt;/h3>
&lt;ol>
&lt;li>The service provider has been shut down.&lt;/li>
&lt;li>The caller&amp;rsquo;s IP is not in the service provider&amp;rsquo;s whitelist.&lt;/li>
&lt;li>The specific service address requested does not exist.&lt;/li>
&lt;/ol>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;ol>
&lt;li>Check the startup status of the service provider.&lt;/li>
&lt;li>Check or use third-party tools to test if the network environment is properly connected.&lt;/li>
&lt;li>Based on the stack&amp;rsquo;s serviceName, check or simulate the call in the management platform to see if it works properly.&lt;/li>
&lt;/ol></description></item><item><title>4-12 - Failed to create Triple stream</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/12/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/12/</guid><description>&lt;h3 id="possible-causes">Possible Causes&lt;/h3>
&lt;p>Generally, it is an internal error.&lt;/p>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;p>You can analyze the stack information using some third-party tools or by executing &lt;code>jstack [PID] &amp;gt; jstack.log&lt;/code> for diagnosis.&lt;/p>
&lt;blockquote>
&lt;p>Please also submit an issue in the community.&lt;/p>
&lt;/blockquote></description></item><item><title>4-13 - Server Timeout</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/13/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/13/</guid><description>&lt;h3 id="possible-causes">Possible Causes&lt;/h3>
&lt;ol>
&lt;li>The server&amp;rsquo;s logic processing takes a relatively long time.&lt;/li>
&lt;li>The server is under heavy load and cannot respond.&lt;/li>
&lt;li>The current timeout parameter settings differ significantly from the actual situation.&lt;/li>
&lt;/ol>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;ol>
&lt;li>Check for long processing times based on the interface name.&lt;/li>
&lt;li>Monitor server status and the service invocation situation on the server side.&lt;/li>
&lt;li>Try increasing the timeout parameters somewhat.&lt;/li>
&lt;/ol></description></item><item><title>4-14 - Response Result Failure</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/14/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/14/</guid><description>&lt;h3 id="possible-causes">Possible Causes&lt;/h3>
&lt;ol>
&lt;li>The server pipeline may be temporarily disconnected due to network reasons.&lt;/li>
&lt;li>The currently used version is low or check the current parameter configuration to see if &lt;code>send.reconnect=true&lt;/code> is enabled, which defaults to true in higher versions.&lt;/li>
&lt;/ol>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;ol>
&lt;li>Check if the direct connection network is smooth and whether there are packet loss issues.&lt;/li>
&lt;li>Check the above parameter values or try using a higher version.&lt;/li>
&lt;/ol></description></item><item><title>4-15 - Client Stream Listener</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/15/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/15/</guid><description>&lt;h3 id="possible-reasons">Possible Reasons&lt;/h3>
&lt;p>After receiving a response from the server, the client stream listener outputs this information as a notification.&lt;/p>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3></description></item><item><title>4-16 - Service is closed</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/16/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/16/</guid><description>&lt;h3 id="possible-causes">Possible Causes&lt;/h3>
&lt;p>Continuing to call &lt;code>org.apache.dubbo.rpc.protocol.tri.service.TriHealthImpl#enterTerminalState&lt;/code> or &lt;code>org.apache.dubbo.rpc.protocol.ReferenceCountInvokerWrapper#invoke&lt;/code> in an erroneous state, while the call is already in terminal or destroy state.&lt;/p>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;p>Multiple calls to the above methods will trigger reminders. Generally used only for unit testing.&lt;/p></description></item><item><title>4-17 - Errors occur when shutting down all callers</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/17/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/17/</guid><description>&lt;h3 id="possible-causes">Possible Causes&lt;/h3>
&lt;p>Generally, it is an internal error.&lt;/p>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;p>You can analyze the stack information using some third-party tools or &lt;code>jstack [PID] &amp;gt; jstack.log&lt;/code> for diagnosis.&lt;/p>
&lt;blockquote>
&lt;p>Also, please submit an issue in the community.&lt;/p>
&lt;/blockquote></description></item><item><title>4-18 - Unable to obtain service model from the call</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/18/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/18/</guid><description>&lt;h3 id="possible-reasons">Possible Reasons&lt;/h3>
&lt;p>Currently initialized by default only for unit test scenarios.&lt;/p>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3></description></item><item><title>4-19 - Possible errors in parameter values</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/19/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/19/</guid><description>&lt;h3 id="possible-causes">Possible Causes&lt;/h3>
&lt;p>This error code indicates that the parameter values may no longer be correct.&lt;/p>
&lt;p>Currently, this occurs when multiple ports are being listened to simultaneously under the same protocol. Due to design limitations, a single protocol can only listen on one port; otherwise, the port configuration will be overwritten.&lt;/p>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;p>Adjust the listening relationship between the protocol and ports.&lt;/p>
&lt;blockquote>
&lt;p>The meaning of this error code has been adjusted. For the errors related to this error code in Dubbo versions 3.1.4, 3.2.0-beta.3, and earlier, please refer to the error code &lt;a href="https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/faq/0/2/">0-2&lt;/a> .&lt;/p></description></item><item><title>4-20 - Data Decoding Failure</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/20/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/20/</guid><description>&lt;h3 id="possible-causes">Possible Causes&lt;/h3>
&lt;p>Occurs only during the decoding phase, possibly due to a mismatch between the Dubbo versions of the service provider and the caller.&lt;/p>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;p>Check the current Dubbo version in use, and try to keep it consistent or compatible with a higher version.&lt;/p></description></item><item><title>4-21 - Unsafe serialization data detected</title><link>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/21/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/reference-manual/faq/4/21/</guid><description>&lt;h3 id="possible-causes">Possible Causes&lt;/h3>
&lt;p>The current server may be under attack, or the built-in class checking logic of Dubbo has not scanned the classes you defined.&lt;/p>
&lt;h3 id="troubleshooting-and-resolution-steps">Troubleshooting and Resolution Steps&lt;/h3>
&lt;ol>
&lt;li>If the request source is an attack source, please promptly reinforce security.&lt;/li>
&lt;li>If the request source is expected, declare the class names you are using in the &lt;code>security/serialize.allowlist&lt;/code> resource file, and Dubbo will automatically load them into the allowlist. Please refer to the &lt;a href="https://cn.dubbo.apache.org/en/overview/mannual/java-sdk/advanced-features-and-usage/security/class-check/">Class Checking Mechanism&lt;/a> article.&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>Currently, Dubbo can operate in monitoring mode and restriction mode. Monitoring mode only logs, without interception; restriction mode will perform interception.&lt;/p></description></item></channel></rss>