{
  "filename": "serialize.md",
  "__html": "<h1>序列化扩展</h1>\n<h2>扩展说明</h2>\n<p>将对象转成字节流，用于网络传输，以及将字节流转为对象，用于在收到字节流数据后还原成对象。</p>\n<h2>扩展接口</h2>\n<ul>\n<li><code>com.alibaba.dubbo.common.serialize.Serialization</code></li>\n<li><code>com.alibaba.dubbo.common.serialize.ObjectInput</code></li>\n<li><code>com.alibaba.dubbo.common.serialize.ObjectOutput</code></li>\n</ul>\n<h2>扩展配置</h2>\n<pre><code class=\"language-xml\"><span class=\"hljs-comment\">&lt;!-- 协议的序列化方式 --&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:protocol</span> <span class=\"hljs-attr\">serialization</span>=<span class=\"hljs-string\">\"xxx\"</span> /&gt;</span>\n<span class=\"hljs-comment\">&lt;!-- 缺省值设置，当&lt;dubbo:protocol&gt;没有配置serialization时，使用此配置 --&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:provider</span> <span class=\"hljs-attr\">serialization</span>=<span class=\"hljs-string\">\"xxx\"</span> /&gt;</span>\n</code></pre>\n<h2>已知扩展</h2>\n<ul>\n<li><code>com.alibaba.dubbo.common.serialize.dubbo.DubboSerialization</code></li>\n<li><code>com.alibaba.dubbo.common.serialize.hessian.Hessian2Serialization</code></li>\n<li><code>com.alibaba.dubbo.common.serialize.java.JavaSerialization</code></li>\n<li><code>com.alibaba.dubbo.common.serialize.java.CompactedJavaSerialization</code></li>\n</ul>\n<h2>扩展示例</h2>\n<p>Maven 项目结构：</p>\n<pre><code>src\n |-main\n    |-java\n        |-com\n            |-xxx\n                |-XxxSerialization.java (实现Serialization接口)\n                |-XxxObjectInput.java (实现ObjectInput接口)\n                |-XxxObjectOutput.java (实现ObjectOutput接口)\n    |-resources\n        |-META-INF\n            |-dubbo\n                |-com.alibaba.dubbo.common.serialize.Serialization (纯文本文件，内容为：xxx=com.xxx.XxxSerialization)\n</code></pre>\n<p>XxxSerialization.java：</p>\n<pre><code class=\"language-java\"><span class=\"hljs-keyword\">package</span> com.xxx;\n \n<span class=\"hljs-keyword\">import</span> com.alibaba.dubbo.common.serialize.Serialization;\n<span class=\"hljs-keyword\">import</span> com.alibaba.dubbo.common.serialize.ObjectInput;\n<span class=\"hljs-keyword\">import</span> com.alibaba.dubbo.common.serialize.ObjectOutput;\n \n \n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">XxxSerialization</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title\">Serialization</span> </span>{\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> ObjectOutput <span class=\"hljs-title\">serialize</span><span class=\"hljs-params\">(Parameters parameters, OutputStream output)</span> <span class=\"hljs-keyword\">throws</span> IOException </span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> XxxObjectOutput(output);\n    }\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> ObjectInput <span class=\"hljs-title\">deserialize</span><span class=\"hljs-params\">(Parameters parameters, InputStream input)</span> <span class=\"hljs-keyword\">throws</span> IOException </span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> XxxObjectInput(input);\n    }\n}\n</code></pre>\n<p>META-INF/dubbo/com.alibaba.dubbo.common.serialize.Serialization：</p>\n<pre><code class=\"language-properties\">xxx=com.xxx.XxxSerialization\n</code></pre>\n"
}