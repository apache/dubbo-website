{
  "filename": "explicit-target.md",
  "__html": "<h1>直连提供者</h1>\n<p>在开发及测试环境下，经常需要绕过注册中心，只测试指定服务提供者，这时候可能需要点对点直连，点对点直联方式，将以服务接口为单位，忽略注册中心的提供者列表，A 接口配置点对点，不影响 B 接口从注册中心获取列表。</p>\n<p><img src=\"../sources/images/dubbo-directly.jpg\" alt=\"/user-guide/images/dubbo-directly.jpg\"></p>\n<h2>通过 XML 配置</h2>\n<p>如果是线上需求需要点对点，可在 <code>&lt;dubbo:reference&gt;</code> 中配置 url 指向提供者，将绕过注册中心，多个地址用分号隔开，配置如下  <sup class=\"footnote-ref\"><a href=\"#fn1\" id=\"fnref1\">[1]</a></sup>：</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:reference</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"xxxService\"</span> <span class=\"hljs-attr\">interface</span>=<span class=\"hljs-string\">\"com.alibaba.xxx.XxxService\"</span> <span class=\"hljs-attr\">url</span>=<span class=\"hljs-string\">\"dubbo://localhost:20890\"</span> /&gt;</span>\n</code></pre>\n<h2>通过 -D 参数指定</h2>\n<p>在 JVM 启动参数中加入-D参数映射服务地址 <sup class=\"footnote-ref\"><a href=\"#fn2\" id=\"fnref2\">[2]</a></sup>，如：</p>\n<pre><code class=\"language-sh\">java -Dcom.alibaba.xxx.XxxService=dubbo://localhost:20890\n</code></pre>\n<h2>通过文件映射</h2>\n<p>如果服务比较多，也可以用文件映射，用 <code>-Ddubbo.resolve.file</code> 指定映射文件路径，此配置优先级高于 <code>&lt;dubbo:reference&gt;</code> 中的配置 <sup class=\"footnote-ref\"><a href=\"#fn3\" id=\"fnref3\">[3]</a></sup>，如：</p>\n<pre><code class=\"language-sh\">java -Ddubbo.resolve.file=xxx.properties\n</code></pre>\n<p>然后在映射文件 <code>xxx.properties</code> 中加入配置，其中 key 为服务名，value 为服务提供者 URL：</p>\n<pre><code class=\"language-properties\">com.alibaba.xxx.XxxService=dubbo://localhost:20890\n</code></pre>\n<p><strong>注意</strong>  为了避免复杂化线上环境，不要在线上使用这个功能，只应在测试阶段使用。</p>\n<hr class=\"footnotes-sep\">\n<section class=\"footnotes\">\n<ol class=\"footnotes-list\">\n<li id=\"fn1\" class=\"footnote-item\"><p><code>1.0.6</code> 及以上版本支持 <a href=\"#fnref1\" class=\"footnote-backref\">↩︎</a></p>\n</li>\n<li id=\"fn2\" class=\"footnote-item\"><p>key 为服务名，value 为服务提供者 url，此配置优先级最高，<code>1.0.15</code> 及以上版本支持 <a href=\"#fnref2\" class=\"footnote-backref\">↩︎</a></p>\n</li>\n<li id=\"fn3\" class=\"footnote-item\"><p><code>1.0.15</code> 及以上版本支持，<code>2.0</code> 以上版本自动加载 ${user.home}/dubbo-resolve.properties文件，不需要配置 <a href=\"#fnref3\" class=\"footnote-backref\">↩︎</a></p>\n</li>\n</ol>\n</section>\n"
}