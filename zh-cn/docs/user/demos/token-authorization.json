{
  "filename": "token-authorization.md",
  "__html": "<h1>令牌验证</h1>\n<p>通过令牌验证在注册中心控制权限，以决定要不要下发令牌给消费者，可以防止消费者绕过注册中心访问提供者，另外通过注册中心可灵活改变授权方式，而不需修改或升级提供者</p>\n<p><img src=\"../sources/images/dubbo-token.jpg\" alt=\"/user-guide/images/dubbo-token.jpg\"></p>\n<p>可以全局设置开启令牌验证：</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-comment\">&lt;!--随机token令牌，使用UUID生成--&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:provider</span> <span class=\"hljs-attr\">interface</span>=<span class=\"hljs-string\">\"com.foo.BarService\"</span> <span class=\"hljs-attr\">token</span>=<span class=\"hljs-string\">\"true\"</span> /&gt;</span>\n</code></pre>\n<p>或</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-comment\">&lt;!--固定token令牌，相当于密码--&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:provider</span> <span class=\"hljs-attr\">interface</span>=<span class=\"hljs-string\">\"com.foo.BarService\"</span> <span class=\"hljs-attr\">token</span>=<span class=\"hljs-string\">\"123456\"</span> /&gt;</span>\n</code></pre>\n<p>也可在服务级别设置：</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-comment\">&lt;!--随机token令牌，使用UUID生成--&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:service</span> <span class=\"hljs-attr\">interface</span>=<span class=\"hljs-string\">\"com.foo.BarService\"</span> <span class=\"hljs-attr\">token</span>=<span class=\"hljs-string\">\"true\"</span> /&gt;</span>\n</code></pre>\n<p>或</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-comment\">&lt;!--固定token令牌，相当于密码--&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:service</span> <span class=\"hljs-attr\">interface</span>=<span class=\"hljs-string\">\"com.foo.BarService\"</span> <span class=\"hljs-attr\">token</span>=<span class=\"hljs-string\">\"123456\"</span> /&gt;</span>\n</code></pre>\n<p>还可在协议级别设置：</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-comment\">&lt;!--随机token令牌，使用UUID生成--&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:protocol</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"dubbo\"</span> <span class=\"hljs-attr\">token</span>=<span class=\"hljs-string\">\"true\"</span> /&gt;</span>\n</code></pre>\n<p>或</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-comment\">&lt;!--固定token令牌，相当于密码--&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:protocol</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"dubbo\"</span> <span class=\"hljs-attr\">token</span>=<span class=\"hljs-string\">\"123456\"</span> /&gt;</span>\n</code></pre>\n"
}