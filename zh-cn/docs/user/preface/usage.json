{
  "filename": "usage.md",
  "__html": "<h1>用法</h1>\n<h2>本地服务 Spring 配置</h2>\n<p>local.xml:</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">bean</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">“xxxService”</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">“com.xxx.XxxServiceImpl”</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">bean</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">“xxxAction”</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">“com.xxx.XxxAction”</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">property</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">“xxxService”</span> <span class=\"hljs-attr\">ref</span>=<span class=\"hljs-string\">“xxxService”</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">bean</span>&gt;</span>\n</code></pre>\n<h2>远程服务 Spring 配置</h2>\n<p>在本地服务的基础上，只需做简单配置，即可完成远程化：</p>\n<ul>\n<li>将上面的 <code>local.xml</code> 配置拆分成两份，将服务定义部分放在服务提供方 <code>remote-provider.xml</code>，将服务引用部分放在服务消费方 <code>remote-consumer.xml</code>。</li>\n<li>并在提供方增加暴露服务配置 <code>&lt;dubbo:service&gt;</code>，在消费方增加引用服务配置 <code>&lt;dubbo:reference&gt;</code>。</li>\n</ul>\n<p>remote-provider.xml:</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-comment\">&lt;!-- 和本地服务一样实现远程服务 --&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">bean</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">“xxxService”</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">“com.xxx.XxxServiceImpl”</span> /&gt;</span> \n<span class=\"hljs-comment\">&lt;!-- 增加暴露远程服务配置 --&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:service</span> <span class=\"hljs-attr\">interface</span>=<span class=\"hljs-string\">“com.xxx.XxxService”</span> <span class=\"hljs-attr\">ref</span>=<span class=\"hljs-string\">“xxxService”</span> /&gt;</span> \n</code></pre>\n<p>remote-consumer.xml:</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-comment\">&lt;!-- 增加引用远程服务配置 --&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:reference</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">“xxxService”</span> <span class=\"hljs-attr\">interface</span>=<span class=\"hljs-string\">“com.xxx.XxxService”</span> /&gt;</span>\n<span class=\"hljs-comment\">&lt;!-- 和本地服务一样使用远程服务 --&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">bean</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">“xxxAction”</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">“com.xxx.XxxAction”</span>&gt;</span> \n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">property</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">“xxxService”</span> <span class=\"hljs-attr\">ref</span>=<span class=\"hljs-string\">“xxxService”</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">bean</span>&gt;</span>\n</code></pre>\n"
}