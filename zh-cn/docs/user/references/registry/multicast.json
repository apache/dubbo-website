{
  "filename": "multicast.md",
  "__html": "<h1>Multicast 注册中心</h1>\n<p>Multicast 注册中心不需要启动任何中心节点，只要广播地址一样，就可以互相发现。</p>\n<p><img src=\"../../sources/images/multicast.jpg\" alt=\"/user-guide/images/multicast.jpg\"></p>\n<ol start=\"0\">\n<li>提供方启动时广播自己的地址</li>\n<li>消费方启动时广播订阅请求</li>\n<li>提供方收到订阅请求时，单播自己的地址给订阅者，如果设置了 <code>unicast=false</code>，则广播给订阅者</li>\n<li>消费方收到提供方地址时，连接该地址进行 RPC 调用。</li>\n</ol>\n<p>组播受网络结构限制，只适合小规模应用或开发阶段使用。组播地址段: 224.0.0.0 - 239.255.255.255</p>\n<h2>配置</h2>\n<pre><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:registry</span> <span class=\"hljs-attr\">address</span>=<span class=\"hljs-string\">\"multicast://224.5.6.7:1234\"</span> /&gt;</span>\n</code></pre>\n<p>或</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:registry</span> <span class=\"hljs-attr\">protocol</span>=<span class=\"hljs-string\">\"multicast\"</span> <span class=\"hljs-attr\">address</span>=<span class=\"hljs-string\">\"224.5.6.7:1234\"</span> /&gt;</span>\n</code></pre>\n<p>为了减少广播量，Dubbo 缺省使用单播发送提供者地址信息给消费者，如果一个机器上同时启了多个消费者进程，消费者需声明 <code>unicast=false</code>，否则只会有一个消费者能收到消息：</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:registry</span> <span class=\"hljs-attr\">address</span>=<span class=\"hljs-string\">\"multicast://224.5.6.7:1234?unicast=false\"</span> /&gt;</span>\n</code></pre>\n<p>或</p>\n<pre><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:registry</span> <span class=\"hljs-attr\">protocol</span>=<span class=\"hljs-string\">\"multicast\"</span> <span class=\"hljs-attr\">address</span>=<span class=\"hljs-string\">\"224.5.6.7:1234\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dubbo:parameter</span> <span class=\"hljs-attr\">key</span>=<span class=\"hljs-string\">\"unicast\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"false\"</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dubbo:registry</span>&gt;</span>\n</code></pre>\n"
}