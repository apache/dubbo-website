<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>RPC 协议 on Apache Dubbo</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/protocol/</link><description>Recent content in RPC 协议 on Apache Dubbo</description><generator>Hugo</generator><language>zh-cn</language><atom:link href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/protocol/index.xml" rel="self" type="application/rss+xml"/><item><title>协议概述</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/protocol/overview/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/protocol/overview/</guid><description>&lt;p&gt;Dubbo 作为一款 RPC 框架内置了高效的 RPC 通信协议，帮助解决服务间的编码与通信问题，目前支持的协议包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;triple，基于 HTTP/1、HTTP/2 的高性能通信协议，100% 兼容 gRPC，支持 Unary、Streming 等通信模式；支持发布 REST 风格的 HTTP 服务。&lt;/li&gt;
&lt;li&gt;dubbo，基于 TCP 的高性能私有通信协议，缺点是通用性较差，更适合在 Dubbo SDK 间使用；&lt;/li&gt;
&lt;li&gt;任意协议扩展，通过扩展 protocol 可以支持任意 RPC 协议，官方生态库提供 JsonRPC、thrift 等支持。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="协议选型"&gt;协议选型&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;开发者该如何确定使用哪一种协议那？&lt;/strong&gt; 以下是我们从使用场景、性能、编程易用性、多语言互通等方面对多个主流协议的对比分析：&lt;/p&gt;
&lt;table&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th&gt;&lt;span style="display:inline-block;width:50px"&gt;协议&lt;/span&gt;&lt;/th&gt;
 &lt;th&gt;性能&lt;/th&gt;
 &lt;th&gt;网关友好&lt;/th&gt;
 &lt;th&gt;流式通信&lt;/th&gt;
 &lt;th&gt;多语言支持&lt;/th&gt;
 &lt;th&gt;编程API&lt;/th&gt;
 &lt;th&gt;说明&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td&gt;triple&lt;/td&gt;
 &lt;td&gt;高&lt;/td&gt;
 &lt;td&gt;高&lt;/td&gt;
 &lt;td&gt;支持，客户端流、服务端流、双向流&lt;/td&gt;
 &lt;td&gt;支持（Java、Go、Node.js、JavaScript、Rust）&lt;/td&gt;
 &lt;td&gt;Java Interface、Protobuf(IDL)&lt;/td&gt;
 &lt;td&gt;在多语言兼容、性能、网关、Streaming、gRPC 等方面最均衡的协议实现，官方推荐。&lt;br/&gt; 支持 &lt;code&gt;application/json&lt;/code&gt; 格式 payload http 直接访问。&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;dubbo&lt;/td&gt;
 &lt;td&gt;高&lt;/td&gt;
 &lt;td&gt;低&lt;/td&gt;
 &lt;td&gt;不支持&lt;/td&gt;
 &lt;td&gt;支持（Java、Go）&lt;/td&gt;
 &lt;td&gt;Java Interface&lt;/td&gt;
 &lt;td&gt;性能最高的私有协议，但前端流量接入、多语言支持等成本较高&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;以下是 triple、dubbo 两个主要协议的具体开发、配置、运行态信息：&lt;/p&gt;
&lt;table&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th&gt;协议名称&lt;/th&gt;
 &lt;th&gt;&lt;span style="display:inline-block;width:50px"&gt;配置值&lt;/span&gt;&lt;/th&gt;
 &lt;th&gt;&lt;span style="display:inline-block;width:250px"&gt;服务定义方式&lt;/span&gt;&lt;/th&gt;
 &lt;th&gt;默认端口&lt;/th&gt;
 &lt;th&gt;传输层协议&lt;/th&gt;
 &lt;th&gt;序列化协议&lt;/th&gt;
 &lt;th&gt;是否默认&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td&gt;&lt;strong&gt;triple&lt;/strong&gt;&lt;/td&gt;
 &lt;td&gt;tri&lt;/td&gt;
 &lt;td&gt;- Java Interface &lt;br/&gt; - Java Interface+SpringWeb注解 &lt;br/&gt; - Java Interface+JaxRS注解 &lt;br/&gt; - Protobuf(IDL)&lt;/td&gt;
 &lt;td&gt;50051&lt;/td&gt;
 &lt;td&gt;HTTP/1、HTTP/2&lt;/td&gt;
 &lt;td&gt;Protobuf Binary、Protobuf-json&lt;/td&gt;
 &lt;td&gt;否&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;&lt;strong&gt;dubbo&lt;/strong&gt;&lt;/td&gt;
 &lt;td&gt;dubbo&lt;/td&gt;
 &lt;td&gt;- Java Interface&lt;/td&gt;
 &lt;td&gt;20880&lt;/td&gt;
 &lt;td&gt;TCP&lt;/td&gt;
 &lt;td&gt;Hessian、Fastjson2、JSON、JDK、Avro、Kryo 等&lt;/td&gt;
 &lt;td&gt;&lt;strong&gt;是&lt;/strong&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;


&lt;div class="alert alert-warning" role="alert"&gt;
&lt;h4 class="alert-heading"&gt;注意&lt;/h4&gt;

 &lt;ul&gt;
&lt;li&gt;自 3.3 版本开始，triple 协议支持以 rest 风格发布标准的 http 服务，因此框架中实际已不存在独立的 rest protocol 扩展实现，&lt;/li&gt;
&lt;li&gt;考虑到对过往版本的兼容性，当前 Dubbo 各个发行版本均默认使用 &lt;code&gt;dubbo&lt;/code&gt; 通信协议。&lt;strong&gt;对于新用户而言，我们强烈建议在一开始就明确配置使用 &lt;code&gt;triple&lt;/code&gt; 协议&lt;/strong&gt;，老用户也尽快参考文档 &lt;a href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/protocol/triple/migration"&gt;实现协议的平滑迁移&lt;/a&gt;。&lt;/li&gt;
&lt;/ul&gt;


&lt;/div&gt;

&lt;h2 id="多协议扩展"&gt;多协议扩展&lt;/h2&gt;
&lt;p&gt;以下是当前 Dubbo 官方生态库提供的拓展协议实现。如果要扩展更多自定义协议，请参考 &lt;a href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/spi/"&gt;SPI 扩展手册&lt;/a&gt; 或 &lt;a href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/tasks/extensibility/protocol/"&gt;使用教程 - 协议扩展&lt;/a&gt;。&lt;/p&gt;</description></item><item><title>协议概述</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/protocol/triple/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/protocol/triple/</guid><description>&lt;p&gt;请参考文档其他部分了解 &lt;a href="https://dubbo.apache.org/zh-cn/overview/reference/protocols/triple-spec/"&gt;triple 协议规范规范&lt;/a&gt; 和 &lt;a href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/tasks/protocols/triple/"&gt;基本使用方式&lt;/a&gt;。本文只展开 triple 协议 Java 实现中的一些具体细节内容。&lt;/p&gt;
&lt;h2 id="编程模式"&gt;编程模式&lt;/h2&gt;
&lt;p&gt;使用 triple 协议时，开发者可以使用 &lt;code&gt;Java Interface&lt;/code&gt;、&lt;code&gt;Protobuf(IDL)&lt;/code&gt; 两种方式定义 RPC 服务，两种服务定义方式的协议能力是对等的，仅影响开发者的编程体验、序列化方式，具体选用那种开发模式，取决于使用者的业务背景。&lt;/p&gt;
&lt;h3 id="java接口"&gt;Java接口&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;适合于 Dubbo 老用户、没有跨语言诉求的开发团队，具备学习成本低的优势，&lt;a href=""&gt;Dubbo2 老用户可以零成本切换到该协议&lt;/a&gt;&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;服务定义范例：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-java" data-lang="java"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#268bd2"&gt;public&lt;/span&gt; &lt;span style="color:#268bd2"&gt;interface&lt;/span&gt; &lt;span style="color:#268bd2"&gt;DemoService&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; String &lt;span style="color:#268bd2"&gt;sayHello&lt;/span&gt;(String name);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这种模式下，序列化方式可以选用 Hessian、JSON、Kryo、JDK、自定义扩展等任意编码协议。在使用体验上，可以说与老版本 dubbo 协议没有任何区别，只需要改一个 protocol 配置项即可，因此对于 dubbo 协议迁移到 triple 也会更平滑。&lt;/p&gt;
&lt;p&gt;请通过【进阶学习 - 通信协议】查看 &lt;a href=""&gt;java Interface + Triple 协议的具体使用示例&lt;/a&gt;。&lt;/p&gt;
&lt;h3 id="protobuf"&gt;Protobuf&lt;/h3&gt;
&lt;p&gt;使用 Protobuf(IDL) 的方式定义服务，&lt;strong&gt;适合于当前或未来有跨语言诉求的开发团队，同一份 IDL 服务可同时用于 Java/Go/Node.js 等多语言微服务开发，劣势是学习成本较高&lt;/strong&gt;。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-Protobuf" data-lang="Protobuf"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;syntax &lt;span style="color:#719e07"&gt;=&lt;/span&gt; &lt;span style="color:#2aa198"&gt;&amp;#34;proto3&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#719e07"&gt;option&lt;/span&gt; java_multiple_files &lt;span style="color:#719e07"&gt;=&lt;/span&gt; &lt;span style="color:#cb4b16"&gt;true&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#719e07"&gt;package&lt;/span&gt; org&lt;span style="color:#719e07"&gt;.&lt;/span&gt;apache.dubbo.springboot.demo.idl;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#268bd2"&gt;message&lt;/span&gt; &lt;span style="color:#268bd2"&gt;GreeterRequest&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#dc322f"&gt;string&lt;/span&gt; name &lt;span style="color:#719e07"&gt;=&lt;/span&gt; &lt;span style="color:#2aa198"&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#268bd2"&gt;message&lt;/span&gt; &lt;span style="color:#268bd2"&gt;GreeterReply&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#dc322f"&gt;string&lt;/span&gt; &lt;span style="color:#268bd2"&gt;message&lt;/span&gt; &lt;span style="color:#719e07"&gt;=&lt;/span&gt; &lt;span style="color:#2aa198"&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#268bd2"&gt;service&lt;/span&gt; Greeter{
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#719e07"&gt;rpc&lt;/span&gt; greet(GreeterRequest) &lt;span style="color:#719e07"&gt;returns&lt;/span&gt; (GreeterReply);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;通过 &lt;a href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/tasks/protocols/triple/idl/#%E7%94%9F%E6%88%90%E7%9A%84%E4%BB%A3%E7%A0%81%E6%97%A0%E6%B3%95%E7%BC%96%E8%AF%91"&gt;Dubbo 提供的 protoc 编译插件&lt;/a&gt;，将以上 IDL 服务定义预编译为相关 stub 代码，其中就包含 Dubbo 需要的 Interface 接口定义，因此在后续编码上区别并不大，只不过相比于前面的用户自定义 Java Interface 模式，这里由插件自动帮我们生成 Interface 定义。&lt;/p&gt;</description></item><item><title>Dubbo协议</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/protocol/dubbo/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/protocol/dubbo/</guid><description>&lt;p&gt;Dubbo 缺省协议采用单一长连接和 NIO 异步通讯，适合于小数据量大并发的服务调用，以及服务消费者机器数远大于服务提供者机器数的情况。dubbo RPC是dubbo体系中最核心的一种高性能、高吞吐量的远程调用方式，我喜欢称之为多路复用的TCP长连接调用。&lt;/p&gt;
&lt;p&gt;主要用于两个dubbo系统之间作远程调用，特别适合高并发、小数据的互联网场景。反之，Dubbo 缺省协议不适合传送大数据量的服务，比如传文件，传视频等，除非请求量很低。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;长连接：避免了每次调用新建TCP连接，提高了调用的响应速度。&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;多路复用：单个TCP连接可交替传输多个请求和响应的消息，降低了连接的等待闲置时间，从而减少了同样并发数下的网络连接数，提高了系统吞吐量。&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://dubbo.apache.org/imgs/user/dubbo-protocol.jpg" alt="dubbo-protocol.jpg"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Transporter: mina, netty, grizzy&lt;/li&gt;
&lt;li&gt;Serialization: dubbo, hessian2, java, json&lt;/li&gt;
&lt;li&gt;Dispatcher: all, direct, message, execution, connection&lt;/li&gt;
&lt;li&gt;ThreadPool: fixed, cached&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;缺省协议，使用基于 netty &lt;code&gt;3.2.5.Final&lt;/code&gt; 和 hessian2 &lt;code&gt;3.2.1-fixed-2(Alibaba embed version)&lt;/code&gt; 的 tbremoting 交互。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;连接个数：单连接&lt;/li&gt;
&lt;li&gt;连接方式：长连接&lt;/li&gt;
&lt;li&gt;传输协议：TCP&lt;/li&gt;
&lt;li&gt;传输方式：NIO 异步传输&lt;/li&gt;
&lt;li&gt;序列化：Hessian 二进制序列化&lt;/li&gt;
&lt;li&gt;适用范围：传入传出参数数据包较小（建议小于100K），消费者比提供者个数多，单一消费者无法压满提供者，尽量不要用 dubbo 协议传输大文件或超大字符串。&lt;/li&gt;
&lt;li&gt;适用场景：常规远程服务方法调用&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;约束&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;参数及返回值需实现 &lt;code&gt;Serializable&lt;/code&gt; 接口&lt;/li&gt;
&lt;li&gt;参数及返回值不能自定义实现 &lt;code&gt;List&lt;/code&gt;, &lt;code&gt;Map&lt;/code&gt;, &lt;code&gt;Number&lt;/code&gt;, &lt;code&gt;Date&lt;/code&gt;, &lt;code&gt;Calendar&lt;/code&gt; 等接口，只能用 JDK 自带的实现，因为 hessian 会做特殊处理，自定义实现类中的属性值都会丢失。&lt;/li&gt;
&lt;li&gt;Hessian 序列化，只传成员属性值和值的类型，不传方法或静态变量，兼容情况由&lt;strong&gt;吴亚军提供&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th&gt;数据通讯&lt;/th&gt;
 &lt;th&gt;情况&lt;/th&gt;
 &lt;th&gt;结果&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td&gt;A-&amp;gt;B&lt;/td&gt;
 &lt;td&gt;类A多一种 属性（或者说类B少一种 属性）&lt;/td&gt;
 &lt;td&gt;不抛异常，A多的那 个属性的值，B没有，其他正常&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;A-&amp;gt;B&lt;/td&gt;
 &lt;td&gt;枚举A多一种 枚举（或者说B少一种 枚举）&lt;/td&gt;
 &lt;td&gt;A使用多 出来的枚举进行传输&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;A-&amp;gt;B&lt;/td&gt;
 &lt;td&gt;枚举A多一种 枚举（或者说B少一种 枚举）&lt;/td&gt;
 &lt;td&gt;A不使用 多出来的枚举进行传输&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;A-&amp;gt;B&lt;/td&gt;
 &lt;td&gt;A和B的属性 名相同，但类型不相同&lt;/td&gt;
 &lt;td&gt;抛异常&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;A-&amp;gt;B&lt;/td&gt;
 &lt;td&gt;serialId 不相同&lt;/td&gt;
 &lt;td&gt;正常传输&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;接口增加方法，对客户端无影响，如果该方法不是客户端需要的，客户端不需要重新部署。输入参数和结果集中增加属性，对客户端无影响，如果客户端并不需要新属性，不用重新部署。&lt;/p&gt;</description></item><item><title>多协议</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/protocol/multi-protocols/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/protocol/multi-protocols/</guid><description>&lt;p&gt;区别于普通的 RPC 框架，Dubbo 作为一款微服务框架提供了非常灵活的协议支持，它不绑定一个单一通信协议。因此你&lt;strong&gt;可以发布在一个进程中同时发布多个 RPC 协议、调用不同的 RPC 协议&lt;/strong&gt;。接下来我们就详细介绍多协议的具体使用场景与使用方式。&lt;/p&gt;
&lt;h2 id="使用场景"&gt;使用场景&lt;/h2&gt;
&lt;p&gt;有很多场景可能会用到不同的协议，包括安全性、性能、与第三方系统互调等业务诉求。本文我们不分析具体的业务需求，而是从 Dubbo 框架提供的多协议能力出发分析框架能提供的多协议能力：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;作为服务提供者（provider），同一个服务发布为多个协议，供不同消费端调用&lt;/li&gt;
&lt;li&gt;作为服务提供者（provider），多个服务分别发布为不同协议，供不同消费端调用&lt;/li&gt;
&lt;li&gt;作为服务消费者（consumer），指定以某个特定协议调用某一个服务&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="使用方式"&gt;使用方式&lt;/h2&gt;
&lt;h3 id="同一个服务发布为多个协议"&gt;同一个服务发布为多个协议&lt;/h3&gt;
&lt;p&gt;如果使用 Spring Boot，可以修改 application.yml 或 application.properties 如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#268bd2"&gt;dubbo&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#268bd2"&gt;protocols&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#268bd2"&gt;dubbo-id&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#268bd2"&gt;name&lt;/span&gt;: dubbo
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#268bd2"&gt;port&lt;/span&gt;: &lt;span style="color:#2aa198"&gt;20880&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#268bd2"&gt;tri-id&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#268bd2"&gt;name&lt;/span&gt;: tri
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#268bd2"&gt;port&lt;/span&gt;: &lt;span style="color:#2aa198"&gt;50051&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;对于 Spring XML：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-xml" data-lang="xml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#268bd2"&gt;&amp;lt;dubbo:protocol&lt;/span&gt; id=&lt;span style="color:#2aa198"&gt;&amp;#34;dubbo-id&amp;#34;&lt;/span&gt; name=&lt;span style="color:#2aa198"&gt;&amp;#34;dubbo&amp;#34;&lt;/span&gt; port=&lt;span style="color:#2aa198"&gt;&amp;#34;20880&amp;#34;&lt;/span&gt;&lt;span style="color:#268bd2"&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#268bd2"&gt;&amp;lt;dubbo:protocol&lt;/span&gt; id=&lt;span style="color:#2aa198"&gt;&amp;#34;triple-id&amp;#34;&lt;/span&gt; name=&lt;span style="color:#2aa198"&gt;&amp;#34;tri&amp;#34;&lt;/span&gt; port=&lt;span style="color:#2aa198"&gt;&amp;#34;50051&amp;#34;&lt;/span&gt;&lt;span style="color:#268bd2"&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;接下来为服务配置（默认不配置的情况下，服务会发布到以上所有协议配置）：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-java" data-lang="java"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#268bd2"&gt;@DubboService&lt;/span&gt;(protocol&lt;span style="color:#719e07"&gt;=&lt;/span&gt;&lt;span style="color:#2aa198"&gt;&amp;#34;dubbo-id,triple-id&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#268bd2"&gt;private&lt;/span&gt; DemoServiceImpl &lt;span style="color:#268bd2"&gt;implements&lt;/span&gt; DemoService {}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="多个服务分别发布为不同协议"&gt;多个服务分别发布为不同协议&lt;/h3&gt;
&lt;p&gt;如果使用 Spring Boot，可以修改 application.yml 或 application.properties 如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#268bd2"&gt;dubbo&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#268bd2"&gt;protocols&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#268bd2"&gt;dubbo-id&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#268bd2"&gt;name&lt;/span&gt;: dubbo
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#268bd2"&gt;port&lt;/span&gt;: &lt;span style="color:#2aa198"&gt;20880&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#268bd2"&gt;tri-id&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#268bd2"&gt;name&lt;/span&gt;: tri
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#268bd2"&gt;port&lt;/span&gt;: &lt;span style="color:#2aa198"&gt;50051&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;接下来为不同的服务分别配置不同的协议引用：&lt;/p&gt;</description></item><item><title>Tripe 3.3 新特性</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/protocol/triple-3.3/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/protocol/triple-3.3/</guid><description>&lt;p&gt;&lt;a name="lipv5"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="全新的-rest-支持"&gt;全新的 Rest 支持&lt;/h2&gt;
&lt;p&gt;&lt;a name="BrKuK"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="特性"&gt;特性&lt;/h3&gt;
&lt;p&gt;在3.3版本中，基于现有 HTTP 协议栈，triple实现了全面的 REST 风格服务导出能力，无需使用泛化或网关层协议转换，无需配置，用户即可通过 HTTP 协议去中心化直接访问后端的 Triple 协议服务。同时，针对高级
REST 用法，如路径定制、输出格式定制和异常处理，提供了丰富的注解和
SPI 扩展支持。其主要特性包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Triple协议融合&lt;/strong&gt;&lt;br&gt;
重用Triple原有HTTP协议栈， 无需额外配置或新增端口，即可同时支持 HTTP/1、HTTP/2 和 HTTP/3 协议的访问。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;去中心化&lt;/strong&gt;&lt;br&gt;
可直接对外暴露 Rest API，不再依赖网关应用进行流量转发，从而提升性能，并降低因网关引发的稳定性风险。安全问题可通过应用内部扩展解决，这一实践已在淘宝内部的 MTOP 中得到验证。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;支持已有servlet设施&lt;/strong&gt;&lt;br&gt;
支持 Servlet API 和 Filter，用户可以重用现有基于 Servlet API 的安全组件。通过实现一个 Servlet Filter，即可集成 OAuth 和 Spring Security 等安全框架。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;多种方言&lt;/strong&gt;&lt;br&gt;
考虑到大部分用户习惯使用 SpringMVC 或 JAX-RS 进行 REST API 开发，Triple Rest 允许继续沿用这些方式定义服务，并支持大部分扩展和异常处理机制（具备原框架 80% 以上的功能）。对于追求轻量级的用户，可使用
Basic 方言，Triple 的开箱即用
REST 访问能力即基于此方言导出服务。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;扩展能力强&lt;/strong&gt;&lt;br&gt;
提供超过 20 个 扩展点，用户不仅可以轻松实现自定义方言，还能灵活定制参数获取、类型转换、错误处理等逻辑。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;开箱即用&lt;/strong&gt;&lt;br&gt;
REST 能力开箱即用，只需启用 Triple 协议，即具备 REST 直接访问服务能力。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;高性能路由&lt;/strong&gt;&lt;br&gt;
路由部分采用优化的 &lt;a href="https://github.com/apache/dubbo/blob/3.3/dubbo-rpc/dubbo-rpc-triple/src/main/java/org/apache/dubbo/rpc/protocol/tri/rest/mapping/RadixTree.java"&gt;Radix Tree&lt;/a&gt; 和
Zero Copy 技术，提升路由性能。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;OpenAPI无缝集成(TBD)&lt;/strong&gt;&lt;br&gt;
即将完成 OpenAPI 集成，开箱即用支持导出 OpenAPI Schema， 引入 Swagger 依赖可直接使用 Web UI 来进行服务测试。有了 OpenAPI Schema
可使用 &lt;a href="https://www.postman.com/"&gt;Postman&lt;/a&gt;、&lt;a href="https://apifox.com/"&gt;Apifox&lt;/a&gt; 等API工具来管理和测试
API，利用 OpenAPI 生态可轻松实现跨语言调用。未来会进一步支持 Schema First 的方式，先和前端团队一起定义 OpenAPI, 前端基于 OpenAPI 来生成调用代码和 Mock，后端基于 OpenAPI 来生成 Stub
来开发服务，极大提升协同效率。
&lt;a name="eyypL"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="示例"&gt;示例&lt;/h3&gt;
&lt;p&gt;&lt;a name="tiFyi"&gt;&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Triple Rest 用户手册</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/protocol/tripe-rest-manual/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/protocol/tripe-rest-manual/</guid><description>&lt;div class="alert alert-warning" role="alert"&gt;
&lt;h4 class="alert-heading"&gt;注意&lt;/h4&gt;

 从 Dubbo 3.3 版本开始，原 Rest 协议已移至 Extensions 库，由 Triple 协议来对 Rest 提供更全面的支持，如需继续使用原 Rest 协议，
可引入对应 &lt;a href="https://github.com/apache/dubbo-spi-extensions/tree/master/dubbo-rpc-extensions/dubbo-rpc-rest"&gt;dubbo-spi-extensions&lt;/a&gt; 库依赖

&lt;/div&gt;

&lt;h2 id="前言"&gt;前言&lt;/h2&gt;
&lt;p&gt;从 Dubbo 3.3 版本开始，Triple 协议重用已有的 HTTP 协议栈，实现了全面的 REST 风格服务导出能力。无需使用泛化或网关层协议转换，无需配置，用户即可通过 HTTP 协议去中心化直接访问后端的 Triple
协议服务。同时，针对高级 REST 用法，如路径定制、输出格式定制和异常处理，提供了丰富的注解和
SPI 扩展支持。其主要特性包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Triple协议融合&lt;/strong&gt;&lt;br&gt;
重用Triple原有HTTP协议栈， 无需额外配置或新增端口，即可同时支持 HTTP/1、HTTP/2 和 HTTP/3 协议的访问。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;去中心化&lt;/strong&gt;&lt;br&gt;
可直接对外暴露 Rest API，不再依赖网关应用进行流量转发，从而提升性能，并降低因网关引发的稳定性风险。安全问题可通过应用内部扩展解决，这一实践已在淘宝内部的 MTOP 中得到验证。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;支持已有servlet设施&lt;/strong&gt;&lt;br&gt;
支持 Servlet API 和 Filter，用户可以重用现有基于 Servlet API 的安全组件。通过实现一个 Servlet Filter，即可集成 OAuth 和 Spring Security 等安全框架。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;多种方言&lt;/strong&gt;&lt;br&gt;
考虑到大部分用户习惯使用 SpringMVC 或 JAX-RS 进行 REST API 开发，Triple Rest 允许继续沿用这些方式定义服务，并支持大部分扩展和异常处理机制（具备原框架 80% 以上的功能）。对于追求轻量级的用户，可使用
Basic 方言，Triple 的开箱即用
REST 访问能力即基于此方言导出服务。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;扩展能力强&lt;/strong&gt;&lt;br&gt;
提供超过 20 个 扩展点，用户不仅可以轻松实现自定义方言，还能灵活定制参数获取、类型转换、错误处理等逻辑。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;开箱即用&lt;/strong&gt;&lt;br&gt;
REST 能力开箱即用，只需启用 Triple 协议，即具备 REST 直接访问服务能力。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;高性能路由&lt;/strong&gt;&lt;br&gt;
路由部分采用优化的 &lt;a href="https://github.com/apache/dubbo/blob/3.3/dubbo-rpc/dubbo-rpc-triple/src/main/java/org/apache/dubbo/rpc/protocol/tri/rest/mapping/RadixTree.java"&gt;Radix Tree&lt;/a&gt; 和
Zero Copy 技术，提升路由性能。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;OpenAPI无缝集成(TBD)&lt;/strong&gt;&lt;br&gt;
即将完成 OpenAPI 集成，开箱即用支持导出 OpenAPI Schema， 引入 Swagger 依赖可直接使用 Web UI 来进行服务测试。有了 OpenAPI Schema
可使用 &lt;a href="https://www.postman.com/"&gt;Postman&lt;/a&gt;、&lt;a href="https://apifox.com/"&gt;Apifox&lt;/a&gt; 等API工具来管理和测试
API，利用 OpenAPI 生态可轻松实现跨语言调用。未来会进一步支持 Schema First 的方式，先和前端团队一起定义 OpenAPI, 前端基于 OpenAPI 来生成调用代码和 Mock，后端基于 OpenAPI 来生成 Stub
来开发服务，极大提升协同效率。
&lt;a name="eyypL"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="快速开始"&gt;快速开始&lt;/h2&gt;
&lt;p&gt;让我们从一个简单的例子开始了解 Triple Rest。您可以直接下载已有的示例项目以快速上手，假设您已经安装好 Java、Maven 和 Git
&lt;a name="uXTNI"&gt;&lt;/a&gt;&lt;/p&gt;</description></item></channel></rss>