<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>包含对每个命令的使用方法、效果的详细说明 on Apache Dubbo</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/</link><description>Recent content in 包含对每个命令的使用方法、效果的详细说明 on Apache Dubbo</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><atom:link href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/index.xml" rel="self" type="application/rss+xml"/><item><title>基础命令手册</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/command/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/command/</guid><description>基础命令功能提供了一系列的基础命令。
help 命令 显示更多命令
//列出所有命令 dubbo&amp;gt;help //列出单个命令的具体使用情况 dubbo&amp;gt;help online +--------------+----------------------------------------------------------------------------------+ | COMMAND NAME | online | +--------------+----------------------------------------------------------------------------------+ | EXAMPLE | online dubbo | | | online xx.xx.xxx.service | +--------------+----------------------------------------------------------------------------------+ dubbo&amp;gt; version 命令 显示当前运行的 Dubbo 的版本号
dubbo&amp;gt;version dubbo version &amp;#34;3.0.10-SNAPSHOT&amp;#34; dubbo&amp;gt; quit 命令 退出命令状态
dubbo&amp;gt;quit BYE! Connection closed by foreign host.</description></item><item><title>服务管理命令</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/service-management/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/service-management/</guid><description>服务管理功能提供了一系列的命令对 Dubbo 服务进行管理。
服务管理 ls 命令 列出消费者和提供者
dubbo&amp;gt;ls As Provider side: +------------------------------------------------------------------------+---------------------+ | Provider Service Name | PUB | +------------------------------------------------------------------------+---------------------+ |DubboInternal - UserRead/org.apache.dubbo.metadata.MetadataService:1.0.0| | +------------------------------------------------------------------------+---------------------+ | com.dubbo.dubbointegration.UserReadService |nacos-A(Y)/nacos-I(Y)| +------------------------------------------------------------------------+---------------------+ As Consumer side: +-----------------------------------------+-----------------+ | Consumer Service Name | NUM | +-----------------------------------------+-----------------+ |com.dubbo.dubbointegration.BackendService|nacos-AF(I-2,A-2)| +-----------------------------------------+-----------------+ 列出 dubbo 的所提供的服务和消费的服务，以及消费的服务地址数。
注意 带有 DubboInternal 前缀的服务是 Dubbo 内置的服务，默认不向注册中心中注册。 服务发布状态中的 nacos-A(Y) 第一部分是对应的注册中心名，第二部分是注册的模式（A 代表应用级地址注册，I 代表接口级地址注册），第三部分代表对应模式是否已经注册 服务订阅状态中的 nacos-AF(I-2,A-2) 第一部分是对应的注册中心名，第二部分是订阅的模式（AF 代表双订阅模式，FA 代表仅应用级订阅，FI 代表仅接口级订阅），第三部分中前半部分代表地址模式来源（A 代表应用级地址，I 代表接口级地址）后半部分代表对应的地址数量 上线 online 命令 Online 上线服务命令</description></item><item><title>框架状态命令</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/probe/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/probe/</guid><description> 参考文档：Kubernetes 生命周期探针
startup 命令 检测当前框架是否已经启动完毕
dubbo&amp;gt;startup true dubbo&amp;gt; ready 命令 检测当前框架是否能正常提供服务（可能是临时下线）
dubbo&amp;gt;ready true dubbo&amp;gt; live 命令 检测当前框架是否正常运行（可能是永久异常）
dubbo&amp;gt;live true dubbo&amp;gt;</description></item><item><title>日志框架运行时管理</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/logger-management/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/logger-management/</guid><description>注意 自 3.0.10 开始，dubbo-qos 运行时管控支持查询日志配置以及动态修改使用的日志框架和日志级别。
通过 dubbo-qos 修改的日志配置不进行持久化存储，在应用重启后将会失效。
查询日志配置 命令：loggerInfo
示例：
&amp;gt; telnet 127.0.0.1 22222 &amp;gt; loggerInfo 输出：
Trying 127.0.0.1... Connected to localhost. Escape character is &amp;#39;^]&amp;#39;. ___ __ __ ___ ___ ____ / _ \ / / / // _ ) / _ ) / __ \ / // // /_/ // _ |/ _ |/ /_/ / /____/ \____//____//____/ \____/ dubbo&amp;gt;loggerInfo Available logger adapters: [jcl, jdk, log4j, slf4j].</description></item><item><title>性能采样命令</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/profiler/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/profiler/</guid><description>性能采样功能可以对 Dubbo 处理链路上的各处耗时进行检测，在出现超时的时候 ( usageTime / timeout &amp;gt; profilerWarnPercent * 100 ) 通过日志记录调用的耗时。
此功能分为 simple profiler 和 detail profiler 两个模式，其中 simple profiler 模式默认开启，detail profiler 模式默认关闭。 detail profiler 相较 simple profiler 模式多采集了每个 filter 的处理耗时、协议上的具体耗时等。 在 simple profiler 模式下如果发现 Dubbo 框架内部存在耗时长的情况，可以开启 detail profiler 模式，以便更好地排查问题。
请求耗时采样
enableSimpleProfiler 命令 开启 simple profiler 模式，默认开启
dubbo&amp;gt;enableSimpleProfiler OK dubbo&amp;gt; disableSimpleProfiler 命令 关闭 simple profiler 模式，关闭后 detail profiler 也将不启用
dubbo&amp;gt;disableSimpleProfiler OK dubbo&amp;gt; enableDetailProfiler 命令 开启 detail profiler 模式，默认关闭，需要开启 simple profiler 模式才会真实开启</description></item><item><title>路由状态命令</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/router-snapshot/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/router-snapshot/</guid><description>Dubbo 的很多流量治理能力是基于 Router 进行实现的，在生产环境中，如果出现流量结果不符合预期的情况，可以通过路由状态命令来查看路由的状态，以此来定位可能存在的问题。
路由状态采集
getRouterSnapshot 命令 获取当前的每层路由的分组状态。（仅支持 StateRouter）
命令：getRouterSnapshot {serviceName}
serviceName 为需要采集的服务名，支持匹配
dubbo&amp;gt;getRouterSnapshot com.dubbo.dubbointegration.BackendService com.dubbo.dubbointegration.BackendService@2c2e824a [ All Invokers:2 ] [ Valid Invokers: 2 ] MockInvokersSelector Total: 2 [ Mocked -&amp;gt; Empty (Total: 0) ] [ Normal -&amp;gt; 172.18.111.187:20880,172.18.111.183:20880 (Total: 2) ] ↓ StandardMeshRuleRouter not support ↓ TagStateRouter not support ↓ ServiceStateRouter not support ↓ AppStateRouter not support ↓ TailStateRouter End dubbo&amp;gt; enableRouterSnapshot 命令 开启路由结果采集模式
命令：enableRouterSnapshot {serviceName}
serviceName 为需要采集的服务名，支持匹配
dubbo&amp;gt;enableRouterSnapshot com.</description></item><item><title>序列化安全审计</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/security/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/security/</guid><description>Dubbo 支持通过 QoS 命令实时查看当前的配置信息以及可信/不可信类列表。目前共支持两个命令：serializeCheckStatus 查看当前配置信息，serializeWarnedClasses 查看实时的告警列表。
serializeCheckStatus 命令 通过控制台直接访问：
&amp;gt; telnet 127.0.0.1 22222 Trying 127.0.0.1... Connected to localhost. Escape character is &amp;#39;^]&amp;#39;. ___ __ __ ___ ___ ____ / _ \ / / / // _ ) / _ ) / __ \ / // // /_/ // _ |/ _ |/ /_/ / /____/ \____//____//____/ \____/ dubbo&amp;gt;serializeCheckStatus CheckStatus: WARN CheckSerializable: true AllowedPrefix: ... DisAllowedPrefix: ... dubbo&amp;gt; 通过 http 请求 json 格式结果：</description></item><item><title>默认监控指标命令</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/default_metrics/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/qos/introduction/default_metrics/</guid><description>查询所有监控指标 命令：metrics_default
示例：
&amp;gt; telnet 127.0.0.1 22222 &amp;gt; metrics_default 输出：
Trying 127.0.0.1... Connected to localhost. Escape character is &amp;#39;^]&amp;#39;. ___ __ __ ___ ___ ____ / _ \ / / / // _ ) / _ ) / __ \ / // // /_/ // _ |/ _ |/ /_/ / /____/ \____//____//____/ \____/ dubbo&amp;gt;metrics_default dubbo.registry.directory.num.disable.total{application.module.id=1.1,application.name=dubbo-springboot-demo-provider,application.version=,git.commit.id=,hostname=hujundeMacBook-Pro.local,interface=dubbo-springboot-demo-provider/org.apache.dubbo.metrics.service.MetricsService:1.0.0,ip=10.224.214.80,} 0.0 dubbo.register.rt.milliseconds.max{application.module.id=1.1,application.name=dubbo-springboot-demo-provider,application.version=,git.commit.id=,hostname=hujundeMacBook-Pro.local,ip=10.224.214.80,} 153.0 根据关键词查询监控指标 命令：metrics_default {applicationName} {keyword}
applicationName: 应用名称
keyword: 关键词
示例：
&amp;gt; telnet 127.</description></item></channel></rss>