<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Apache Dubbo â€“ å¿«é€Ÿåˆ›å»ºåº”ç”¨</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/tasks/develop/</link><description>Recent content in å¿«é€Ÿåˆ›å»ºåº”ç”¨ on Apache Dubbo</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><atom:link href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/tasks/develop/index.xml" rel="self" type="application/rss+xml"/><item><title>Overview: Spring Boot</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/tasks/develop/springboot/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/tasks/develop/springboot/</guid><description>
&lt;p>Dubbo æä¾›äº†å¯¹ Spring æ¡†æ¶çš„å®Œæ•´æ”¯æŒï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨å®˜æ–¹æä¾›çš„ &lt;code>dubbo-spring-boot-starter&lt;/code> é«˜æ•ˆå¼€å‘ Dubbo å¾®æœåŠ¡åº”ç”¨ã€‚&lt;/p>
&lt;h2 id="åˆ›å»ºé¡¹ç›®">åˆ›å»ºé¡¹ç›®&lt;/h2>
&lt;p>åˆ›å»º Dubbo åº”ç”¨æœ€å¿«æ·çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨å®˜æ–¹é¡¹ç›®è„šæ‰‹æ¶å·¥å…· - &lt;a href="https://start.dubbo.apache.org" target="_blank">start.dubbo.apache.org&lt;/a> åœ¨çº¿æœåŠ¡ã€‚å®ƒå¯ä»¥å¸®åŠ©å¼€å‘è€…åˆ›å»º Spring Boot ç»“æ„åº”ç”¨ï¼Œè‡ªåŠ¨ç®¡ç† &lt;code>dubbo-spring-boot-starter&lt;/code> ç­‰ä¾èµ–å’Œå¿…è¦é…ç½®ã€‚&lt;/p>
&lt;p>å¦å¤–ï¼ŒJetbrain å®˜æ–¹ä¹Ÿæä¾›äº† Apache Dubbo é¡¹ç›®æ’ä»¶ï¼Œå¯ç”¨äºå¿«é€Ÿåˆ›å»º Dubbo Spring Boot é¡¹ç›®ï¼Œèƒ½åŠ›ä¸ start.dubbo.apache.org å¯¹ç­‰ï¼Œå…·ä½“å®‰è£…ä½¿ç”¨è¯·æŸ¥çœ‹ &lt;a href="zh-cn/blog/2023/10/23/intellij-idea%EF%B8%8Fapache-dubboidea%E5%AE%98%E6%96%B9%E6%8F%92%E4%BB%B6%E6%AD%A3%E5%BC%8F%E5%8F%91%E5%B8%83/">åšå®¢æ–‡ç« &lt;/a>&lt;/p>
&lt;h2 id="dubbo-spring-boot-starter">dubbo-spring-boot-starter&lt;/h2>
&lt;p>åœ¨ &lt;a href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/quick-start/">å¿«é€Ÿå¼€å§‹&lt;/a> ä¸­ï¼Œæˆ‘ä»¬å·²ç»è¯¦ç»†ä»‹ç»äº†å…¸å‹çš„ Dubbo Spring Boot å·¥ç¨‹æºç åŠå…¶é¡¹ç›®ç»“æ„ï¼Œä¸ç†Ÿæ‚‰çš„å¼€å‘è€…å¯ä»¥å‰å¾€æŸ¥çœ‹ã€‚&lt;/p>
&lt;p>&lt;code>dubbo-spring-boot-starter&lt;/code> å¯ä¸ºé¡¹ç›®å¼•å…¥ dubbo æ ¸å¿ƒä¾èµ–ï¼Œè‡ªåŠ¨æ‰«æ dubbo ç›¸å…³é…ç½®ä¸æ³¨è§£ã€‚&lt;/p>
&lt;h3 id="maven-ä¾èµ–">Maven ä¾èµ–&lt;/h3>
&lt;p>ä½¿ç”¨ Dubbo Spring Boot Starterï¼Œé¦–å…ˆå¼•å…¥ä»¥ä¸‹ Maven ä¾èµ–&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-xml" data-lang="xml">&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;dependencyManagement&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;groupId&amp;gt;&lt;/span>org.apache.dubbo&lt;span style="color:#268bd2">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;artifactId&amp;gt;&lt;/span>dubbo-bom&lt;span style="color:#268bd2">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;version&amp;gt;&lt;/span>3.3.0-beta.1&lt;span style="color:#268bd2">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;type&amp;gt;&lt;/span>pom&lt;span style="color:#268bd2">&amp;lt;/type&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;scope&amp;gt;&lt;/span>import&lt;span style="color:#268bd2">&amp;lt;/scope&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;/dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;/dependencyManagement&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç„¶åï¼Œåœ¨ç›¸åº”æ¨¡å—çš„ pom ä¸­å¢åŠ å¿…è¦çš„ starter ä¾èµ–ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-xml" data-lang="xml">&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;groupId&amp;gt;&lt;/span>org.apache.dubbo&lt;span style="color:#268bd2">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;artifactId&amp;gt;&lt;/span>dubbo-spring-boot-starter&lt;span style="color:#268bd2">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;groupId&amp;gt;&lt;/span>org.apache.dubbo&lt;span style="color:#268bd2">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;artifactId&amp;gt;&lt;/span>dubbo-zookeeper-spring-boot-starter&lt;span style="color:#268bd2">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;/dependencies&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>dubbo-spring-boot-starter&lt;/code> å’Œ &lt;code>dubbo-zookeeper-spring-boot-starter&lt;/code> æ˜¯å®˜æ–¹æä¾›çš„ starterï¼Œæä¾›äº† Spring Boot çš„é›†æˆé€‚é…ï¼Œå®ƒä»¬çš„ç‰ˆæœ¬å·ä¸ Dubbbo ä¸»æ¡†æ¶ç‰ˆæœ¬å·å®Œå…¨ä¸€è‡´ã€‚&lt;/p>
&lt;h3 id="applicationyml-é…ç½®æ–‡ä»¶">application.yml é…ç½®æ–‡ä»¶&lt;/h3>
&lt;p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹æ–‡ä»¶é…ç½®&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">dubbo&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">application&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">name&lt;/span>: dubbo-springboot-demo-provider
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">logger&lt;/span>: slf4j
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">protocol&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">name&lt;/span>: triple
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">port&lt;/span>: -&lt;span style="color:#2aa198">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">registry&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">address&lt;/span>: zookeeper://127.0.0.1:2181
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é™¤ serviceã€reference ä¹‹å¤–çš„ç»„ä»¶éƒ½å¯ä»¥åœ¨ application.yml æ–‡ä»¶ä¸­è®¾ç½®ï¼Œå…·ä½“å¯å‚è€ƒ &lt;a href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/config/spring/spring-boot/#applicationyaml">é…ç½®åˆ—è¡¨&lt;/a>ã€‚&lt;/p>
&lt;p>serviceã€reference ç»„ä»¶ä¹Ÿå¯ä»¥é€šè¿‡ &lt;code>id&lt;/code> ä¸ application ä¸­çš„å…¨å±€ç»„ä»¶åšå…³è”ï¼Œä»¥ä¸‹é¢é…ç½®ä¸ºä¾‹ã€‚å¦‚æœè¦æ‰©å±• service æˆ– reference çš„æ³¨è§£é…ç½®ï¼Œåˆ™éœ€è¦å¢åŠ  &lt;code>dubbo.properties&lt;/code> é…ç½®æ–‡ä»¶æˆ–ä½¿ç”¨å…¶ä»–éæ³¨è§£å¦‚ Java Config æ–¹å¼ï¼Œå…·ä½“è¯·çœ‹ä¸‹æ–‡ &lt;a href="#%E6%89%A9%E5%B1%95%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AE">æ‰©å±•æ³¨è§£çš„é…ç½®&lt;/a>ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">dubbo&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">application&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">name&lt;/span>: dubbo-springboot-demo-provider
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">protocol&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">name&lt;/span>: triple
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">port&lt;/span>: -&lt;span style="color:#2aa198">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">registry&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">id&lt;/span>: zk-registry
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">address&lt;/span>: zookeeper://127.0.0.1:2181
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é€šè¿‡æ³¨è§£å°† service å…³è”åˆ°ä¸Šæ–‡å®šä¹‰çš„ç‰¹å®šæ³¨å†Œä¸­å¿ƒï¼ˆé€šè¿‡idå…³è”ï¼‰&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">@DubboService&lt;/span>(registry&lt;span style="color:#719e07">=&lt;/span>&lt;span style="color:#2aa198">&amp;#34;zk-registry&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">class&lt;/span> &lt;span style="color:#268bd2">DemoServiceImpl&lt;/span> &lt;span style="color:#268bd2">implements&lt;/span> DemoService {}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é€šè¿‡ Java Config é…ç½®è¿›è¡Œå…³è”ä¹Ÿæ˜¯åŒæ ·é“ç†&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">@Configuration&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">class&lt;/span> &lt;span style="color:#268bd2">ProviderConfiguration&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">@Bean&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">public&lt;/span> ServiceConfig &lt;span style="color:#268bd2">demoService&lt;/span>() {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ServiceConfig service &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#719e07">new&lt;/span> ServiceConfig();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> service.setRegistry(&lt;span style="color:#2aa198">&amp;#34;zk-registry&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">return&lt;/span> service;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="dubbo-æ³¨è§£">Dubbo æ³¨è§£&lt;/h3>
&lt;ul>
&lt;li>&lt;code>application.properties&lt;/code> æˆ– &lt;code>application.yml&lt;/code> é…ç½®æ–‡ä»¶ã€‚&lt;/li>
&lt;li>&lt;code>@DubboService&lt;/code>ã€&lt;code>@DubboReference&lt;/code> ä¸ &lt;code>EnableDubbo&lt;/code> æ³¨è§£ã€‚å…¶ä¸­ &lt;code>@DubboService&lt;/code> ä¸ &lt;code>@DubboReference&lt;/code> ç”¨äºæ ‡è®° Dubbo æœåŠ¡ï¼Œ&lt;code>EnableDubbo&lt;/code> å¯åŠ¨ Dubbo ç›¸å…³é…ç½®å¹¶æŒ‡å®š Spring Boot æ‰«æåŒ…è·¯å¾„ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="dubboservice-æ³¨è§£">@DubboService æ³¨è§£&lt;/h4>
&lt;blockquote>
&lt;p>&lt;code>@Service&lt;/code> æ³¨è§£ä» 3.0 ç‰ˆæœ¬å¼€å§‹å°±å·²ç»åºŸå¼ƒï¼Œæ”¹ç”¨ &lt;code>@DubboService&lt;/code>ï¼Œä»¥åŒºåˆ«äº Spring çš„ &lt;code>@Service&lt;/code> æ³¨è§£&lt;/p>
&lt;/blockquote>
&lt;p>å®šä¹‰å¥½ Dubbo æœåŠ¡æ¥å£åï¼Œæä¾›æœåŠ¡æ¥å£çš„å®ç°é€»è¾‘ï¼Œå¹¶ç”¨ &lt;code>@DubboService&lt;/code> æ³¨è§£æ ‡è®°ï¼Œå°±å¯ä»¥å®ç° Dubbo çš„æœåŠ¡æš´éœ²&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">@DubboService&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">class&lt;/span> &lt;span style="color:#268bd2">DemoServiceImpl&lt;/span> &lt;span style="color:#268bd2">implements&lt;/span> DemoService {}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¦‚æœè¦è®¾ç½®æœåŠ¡å‚æ•°ï¼Œ&lt;code>@DubboService&lt;/code> ä¹Ÿæä¾›äº†å¸¸ç”¨å‚æ•°çš„è®¾ç½®æ–¹å¼ã€‚å¦‚æœæœ‰æ›´å¤æ‚çš„å‚æ•°è®¾ç½®éœ€æ±‚ï¼Œåˆ™å¯ä»¥è€ƒè™‘ä½¿ç”¨å…¶ä»–è®¾ç½®æ–¹å¼&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">@DubboService&lt;/span>(version &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#2aa198">&amp;#34;1.0.0&amp;#34;&lt;/span>, group &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#2aa198">&amp;#34;dev&amp;#34;&lt;/span>, timeout &lt;span style="color:#719e07">=&lt;/span> 5000)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">class&lt;/span> &lt;span style="color:#268bd2">DemoServiceImpl&lt;/span> &lt;span style="color:#268bd2">implements&lt;/span> DemoService {}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="dubboreference-æ³¨è§£">@DubboReference æ³¨è§£&lt;/h4>
&lt;blockquote>
&lt;p>&lt;code>@Reference&lt;/code> æ³¨è§£ä» 3.0 ç‰ˆæœ¬å¼€å§‹å°±å·²ç»åºŸå¼ƒï¼Œæ”¹ç”¨ &lt;code>@DubboReference&lt;/code>ï¼Œä»¥åŒºåˆ«äº Spring çš„ &lt;code>@Reference&lt;/code> æ³¨è§£&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">@Component&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">class&lt;/span> &lt;span style="color:#268bd2">DemoClient&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">@DubboReference&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">private&lt;/span> DemoService demoService;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>@DubboReference&lt;/code> æ³¨è§£å°†è‡ªåŠ¨æ³¨å…¥ä¸º Dubbo æœåŠ¡ä»£ç†å®ä¾‹ï¼Œä½¿ç”¨ demoService å³å¯å‘èµ·è¿œç¨‹æœåŠ¡è°ƒç”¨&lt;/p>
&lt;h4 id="enabledubbo-æ³¨è§£">@EnableDubbo æ³¨è§£&lt;/h4>
&lt;p>&lt;code>@EnableDubbo&lt;/code> æ³¨è§£å¿…é¡»é…ç½®ï¼Œå¦åˆ™å°†æ— æ³•åŠ è½½ Dubbo æ³¨è§£å®šä¹‰çš„æœåŠ¡ï¼Œ&lt;code>@EnableDubbo&lt;/code> å¯ä»¥å®šä¹‰åœ¨ä¸»ç±»ä¸Š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">@SpringBootApplication&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">@EnableDubbo&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">class&lt;/span> &lt;span style="color:#268bd2">ProviderApplication&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">static&lt;/span> &lt;span style="color:#dc322f">void&lt;/span> &lt;span style="color:#268bd2">main&lt;/span>(String&lt;span style="color:#719e07">[]&lt;/span> args) &lt;span style="color:#268bd2">throws&lt;/span> Exception {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> SpringApplication.run(ProviderApplication.class, args);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Spring Boot æ³¨è§£é»˜è®¤åªä¼šæ‰«æ main ç±»æ‰€åœ¨çš„ packageï¼Œå¦‚æœæœåŠ¡å®šä¹‰åœ¨å…¶å®ƒ package ä¸­ï¼Œéœ€è¦å¢åŠ é…ç½® &lt;code>EnableDubbo(scanBasePackages = {&amp;quot;org.apache.dubbo.springboot.demo.provider&amp;quot;})&lt;/code>&lt;/p>
&lt;h4 id="æ‰©å±•æ³¨è§£é…ç½®">æ‰©å±•æ³¨è§£é…ç½®&lt;/h4>
&lt;p>è™½ç„¶å¯ä»¥é€šè¿‡ &lt;code>@DubboService&lt;/code> å’Œ &lt;code>DubboReference&lt;/code> è°ƒæ•´é…ç½®å‚æ•°ï¼ˆå¦‚ä¸‹ä»£ç ç‰‡æ®µæ‰€ç¤ºï¼‰ï¼Œä½†æ€»ä½“æ¥è¯´æ³¨è§£æ˜¯ä¸ºæ˜“ç”¨æ€§è®¾è®¡çš„ï¼Œå…¶æä¾›çš„ä»…ä»…æ˜¯ 80% åœºæ™¯ä¸‹å¸¸ç”¨çš„é…ç½®é¡¹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæœ‰æ›´å¤æ‚çš„å‚æ•°è®¾ç½®éœ€æ±‚ï¼Œå¯ä»¥ä½¿ç”¨ &lt;code>Java Config&lt;/code> æˆ– &lt;code>dubbo.properties&lt;/code> ä¸¤ç§æ–¹å¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">@DubboService&lt;/span>(version &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#2aa198">&amp;#34;1.0.0&amp;#34;&lt;/span>, group &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#2aa198">&amp;#34;dev&amp;#34;&lt;/span>, timeout &lt;span style="color:#719e07">=&lt;/span> 5000)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">@DubboReference&lt;/span>(version &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#2aa198">&amp;#34;1.0.0&amp;#34;&lt;/span>, group &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#2aa198">&amp;#34;dev&amp;#34;&lt;/span>, timeout &lt;span style="color:#719e07">=&lt;/span> 5000)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="ä½¿ç”¨-java-config-ä»£æ›¿æ³¨è§£">ä½¿ç”¨ Java Config ä»£æ›¿æ³¨è§£&lt;/h4>
&lt;p>æ³¨æ„ï¼ŒJava Config æ˜¯ &lt;code>DubboService&lt;/code> æˆ– &lt;code>DubboReference&lt;/code> çš„æ›¿ä»£æ–¹å¼ï¼Œå¯¹äºæœ‰å¤æ‚é…ç½®éœ€æ±‚çš„æœåŠ¡å»ºè®®ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">@Configuration&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">class&lt;/span> &lt;span style="color:#268bd2">ProviderConfiguration&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">@Bean&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">public&lt;/span> ServiceBean &lt;span style="color:#268bd2">demoService&lt;/span>() {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ServiceBean service &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#719e07">new&lt;/span> ServiceBean();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> service.setInterface(DemoService.class);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> service.setRef(&lt;span style="color:#719e07">new&lt;/span> DemoServiceImpl());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> service.setGroup(&lt;span style="color:#2aa198">&amp;#34;dev&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> service.setVersion(&lt;span style="color:#2aa198">&amp;#34;1.0.0&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Map&lt;span style="color:#719e07">&amp;lt;&lt;/span>String, String&lt;span style="color:#719e07">&amp;gt;&lt;/span> parameters &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#719e07">new&lt;/span> HashMap&lt;span style="color:#719e07">&amp;lt;&amp;gt;&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> service.setParameters(parameters);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">return&lt;/span> service;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="é€šè¿‡-dubboproperties-è¡¥å……é…ç½®">é€šè¿‡ dubbo.properties è¡¥å……é…ç½®&lt;/h4>
&lt;p>å¯¹äºä½¿ç”¨ &lt;code>DubboService&lt;/code> æˆ– &lt;code>DubboReference&lt;/code> çš„åœºæ™¯ï¼Œå¯ä»¥é€šè¿‡åœ¨é¡¹ç›® resources ç›®å½•ä¸‹å¢åŠ  dubbo.properties æ–‡ä»¶ä½œä¸ºé…ç½®è¡¥å……ï¼Œ&lt;a href="../principle/#1-%E9%85%8D%E7%BD%AE%E6%A0%BC%E5%BC%8F">å…·ä½“æ ¼å¼&lt;/a>è¿™é‡Œæœ‰æ›´è¯¦ç»†è§£é‡Šã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-properties" data-lang="properties">&lt;span style="display:flex;">&lt;span>dubbo.service.org.apache.dubbo.springboot.demo.DemoService.timeout&lt;span style="color:#719e07">=&lt;/span>&lt;span style="color:#2aa198">5000&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dubbo.service.org.apache.dubbo.springboot.demo.DemoService.parameters&lt;span style="color:#719e07">=&lt;/span>&lt;span style="color:#2aa198">[{myKey:myValue},{anotherKey:anotherValue}]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dubbo.reference.org.apache.dubbo.springboot.demo.DemoService.timeout&lt;span style="color:#719e07">=&lt;/span>&lt;span style="color:#2aa198">6000&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>properties æ ¼å¼é…ç½®ç›®å‰ç»“æ„æ€§ä¸å¤ªå¼ºï¼Œæ¯”å¦‚ä½“ç°åœ¨ key å­—æ®µå†—ä½™è¾ƒå¤šï¼Œåç»­ä¼šè€ƒè™‘æä¾›å¯¹äº yaml æ ¼å¼çš„æ”¯æŒã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="æ›´å¤šå¾®æœåŠ¡å¼€å‘æ¨¡å¼">æ›´å¤šå¾®æœåŠ¡å¼€å‘æ¨¡å¼&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="../api/">çº¯ API å¼€å‘æ¨¡å¼&lt;/a>&lt;/li>
&lt;li>å…¶ä»– Spring å¼€å‘æ¨¡å¼
&lt;ul>
&lt;li>&lt;a href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/config/spring/xml/">Spring XML&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="dubbo-ä¸-spring-cloud-çš„å…³ç³»">Dubbo ä¸ Spring Cloud çš„å…³ç³»&lt;/h2>
&lt;p>Dubbo ä¸ Spring Cloud æ˜¯ä¸¤å¥—å¹³è¡Œçš„å¾®æœåŠ¡å¼€å‘ä¸è§£å†³æ–¹æ¡ˆï¼Œä¸¤è€…éƒ½æä¾›äº†å¾®æœåŠ¡å®šä¹‰ã€å‘å¸ƒã€æ²»ç†çš„ç›¸å…³èƒ½åŠ›ï¼Œå¯¹äºå¾®æœåŠ¡å¼€å‘è€…æ¥è¯´ï¼Œæˆ‘ä»¬å»ºè®®åœ¨å¼€å‘ä¹‹åˆå°±ç¡®å®šå¥½ Apache Dubbo ä¸ Spring Cloud ä¹‹é—´çš„é€‰å‹ï¼Œå°½é‡é¿å…ä¸¤ä¸ªä¸åŒä½“ç³»åœ¨åŒä¸€é›†ç¾¤ä¸­å‡ºç°ï¼Œä»¥é™ä½é›†ç¾¤ç»´æŠ¤å¤æ‚åº¦ã€‚è€Œå¯¹äºä¸€äº›ç¡®éœ€ä¸¤å¥—ä½“ç³»å…±å­˜çš„åœºæ™¯ï¼Œä¸ºäº†è§£å†³ç›¸äº’ä¹‹é—´çš„é€šä¿¡é—®é¢˜ï¼Œæˆ‘ä»¬æä¾›äº† &lt;a href="https://dubbo.apache.org/zh-cn/blog/2023/10/07/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%9B%B6%E6%94%B9%E9%80%A0%E5%AE%9E%E7%8E%B0-spring-cloud-apache-dubbo-%E4%BA%92%E9%80%9A/">Dubbo ä¸ Spring Cloud å¼‚æ„å¾®æœåŠ¡ä½“ç³»äº’é€šæœ€ä½³å®è·µ&lt;/a> è§£å†³æ–¹æ¡ˆã€‚&lt;/p>
&lt;p>Dubbo ä¸ Spring Boot æ˜¯äº’è¡¥çš„å…³ç³»ï¼ŒDubbo åœ¨ Spring Boot ä½“ç³»ä¹‹ä¸Šæä¾›äº†å®Œæ•´çš„å¾®æœåŠ¡å¼€å‘ã€æ²»ç†èƒ½åŠ›ï¼Œå…³äºè¿™ä¸€ç‚¹æˆ‘ä»¬åœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸­æœ‰æ›´è¯¦å°½çš„è¯´æ˜ï¼š&lt;a href="https://dubbo.apache.org/zh-cn/overview/what/xyz-difference/">Dubboã€Spring Cloud ä¸ Istio&lt;/a>ã€‚&lt;/p></description></item><item><title>Overview: ä½¿ç”¨åŸç”Ÿ API å¼€å‘ Dubbo åº”ç”¨</title><link>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/tasks/develop/api/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/tasks/develop/api/</guid><description>
&lt;p>ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°äº†ï¼Œæ–‡æ¡£ä¸­å¤§éƒ¨åˆ†çš„åŠŸèƒ½ã€ç¤ºä¾‹éƒ½æ˜¯åŸºäº Spring Boot æ¨¡å¼ç¼–å†™çš„ï¼Œä½† Spring Boot æˆ– Spring ä»…ä»…æ˜¯ Dubbo é€‚é…çš„ä¸€ç§åº”ç”¨æˆ–è€…å¾®æœåŠ¡å¼€å‘æ¨¡å¼ã€‚&lt;strong>ä½œä¸ºä¸€æ¬¾ RPC æ¡†æ¶ï¼ŒDubbo å®šä¹‰äº†ä¸€å¥—å®Œå–„çš„ API æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºåŸç”Ÿ API å¼€å‘ Dubbo åº”ç”¨&lt;/strong>ï¼Œçº¯ API å¯ä»¥å®ç°çš„ä¸šåŠ¡åœºæ™¯åŒ…æ‹¬ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>è½»é‡ RPC Server &amp;amp; Client&lt;/strong>ï¼Œé€šå¸¸ç”¨äºä¸€äº›åº”ç”¨å†…ã€åŸºç¡€ç»„ä»¶ã€ä¸­é—´ä»¶ç­‰å†…çš„ç®€å•è¿œç¨‹è°ƒç”¨åœºæ™¯&lt;/li>
&lt;li>&lt;strong>å¾®æœåŠ¡åº”ç”¨&lt;/strong>ï¼Œä¸ä¾èµ– Spring çš„æƒ…å†µä¸‹ï¼Œç›´æ¥ç”¨ API å¼€å‘å¾®æœåŠ¡&lt;/li>
&lt;/ul>
&lt;h2 id="api-æ¦‚è§ˆ">API æ¦‚è§ˆ&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">class&lt;/span> &lt;span style="color:#268bd2">Application&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">static&lt;/span> &lt;span style="color:#dc322f">void&lt;/span> &lt;span style="color:#268bd2">main&lt;/span>(String&lt;span style="color:#719e07">[]&lt;/span> args) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> DubboBootstrap.getInstance()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .protocol(&lt;span style="color:#719e07">new&lt;/span> ProtocolConfig(CommonConstants.TRIPLE, 50051))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .service(ServiceBuilder.newBuilder().ref(&lt;span style="color:#719e07">new&lt;/span> DemoServiceImpl()).build())
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .start()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .await();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä»¥ä¸Šæ˜¯å¯åŠ¨ Dubbo RPC Server çš„ä¸€æ®µä»£ç ç¤ºä¾‹ï¼Œ&lt;code>DubboBootstrap&lt;/code> å®ä¾‹ä»£è¡¨ä¸€ä¸ª Dubbo åº”ç”¨ï¼Œæ˜¯æ•´ä¸ª Dubbo åº”ç”¨çš„å¯åŠ¨å…¥å£ã€‚åœ¨ DubboBootstrap åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½® &lt;code>protocol&lt;/code>ã€&lt;code>service&lt;/code>ã€&lt;code>registry&lt;/code>ã€&lt;code>metrics&lt;/code> ç­‰æ¥æ³¨å†ŒæœåŠ¡ã€è¿æ¥æ³¨å†Œä¸­å¿ƒç­‰ï¼Œè¿™å’Œæˆ‘ä»¬åœ¨ Spring Boot ä¸­è°ƒæ•´ application.yml æˆ–è€… application.properties æ–‡ä»¶æ˜¯å¯¹ç­‰çš„ä½œç”¨ã€‚&lt;/p>
&lt;p>å®˜æ–¹æ¨èä½¿ç”¨ &lt;code>DubboBootstrap.start()&lt;/code> ä½œä¸ºåº”ç”¨çš„é›†ä¸­å¯åŠ¨å…¥å£ï¼Œä½†ä¸ºäº†æ–¹ä¾¿åœ¨è¿›ç¨‹å¯åŠ¨åï¼Œåœ¨è¿è¡Œæ€å•ç‹¬å‘å¸ƒä¸€äº›æœåŠ¡ï¼ŒDubbo æ¡†æ¶ä¹Ÿå…è®¸ç›´æ¥è°ƒç”¨ &lt;code>ServiceConfig.export()&lt;/code> æˆ– &lt;code>ReferenceConfig.refer()&lt;/code> æ–¹æ³•å‘å¸ƒå•ä¸ªæœåŠ¡ï¼Œè¿™æ—¶ Service/Reference ä¼šæ³¨å†Œåˆ°é»˜è®¤çš„ DubboBootstrap å®ä¾‹ä¸­ï¼Œæ•ˆæœåŒè°ƒç”¨ &lt;code>DubboBootstrap.service(...).start()&lt;/code> ç±»ä¼¼ã€‚&lt;/p>
&lt;p>ä»¥ä¸‹æ˜¯å¼€å‘ä¸­ä¼šå¸¸ç”¨åˆ°çš„ä¸€äº›ç»„ä»¶ï¼Œå®Œæ•´ç»„ä»¶å®šä¹‰åŠè¯¦ç»†å‚æ•°è¯´æ˜è¯·å‚è§ &lt;a href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/reference-manual/config/properties/#%E9%85%8D%E7%BD%AE%E9%A1%B9%E6%89%8B%E5%86%8C">å‚è€ƒæ‰‹å†Œ - é…ç½®é¡¹æ‰‹å†Œ&lt;/a>ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>API ç»„ä»¶&lt;/th>
&lt;th>å…¨å±€å”¯ä¸€&lt;/th>
&lt;th>æ ¸å¿ƒæ–¹æ³•æˆ–å±æ€§&lt;/th>
&lt;th>è¯´æ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;span style="display:inline-block;width:160px">DubboBootstrap&lt;/span>&lt;/td>
&lt;td>æ˜¯ï¼ˆå¤šåº”ç”¨åœºæ™¯é™¤å¤–ï¼‰&lt;/td>
&lt;td>start()ã€stop()&lt;/td>
&lt;td>DubboBootstrap å®ä¾‹ä»£è¡¨ä¸€ä¸ª Dubbo åº”ç”¨ï¼Œæ˜¯æ•´ä¸ª Dubbo åº”ç”¨çš„å¯åŠ¨å…¥å£ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ApplicationConfig&lt;/td>
&lt;td>æ˜¯&lt;/td>
&lt;td>name&lt;/td>
&lt;td>åº”ç”¨ååŠåº”ç”¨çº§åˆ«çš„ä¸€äº›å…¨å±€é…ç½®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>MetricsConfig&lt;/td>
&lt;td>æ˜¯&lt;/td>
&lt;td>protocolã€prometheusã€tracing&lt;/td>
&lt;td>Metricsã€tracing é‡‡é›†ç›¸å…³é…ç½®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ProtocolConfig&lt;/td>
&lt;td>å¦ã€‚å¤šåè®®åœºæ™¯æœåŠ¡é€šè¿‡ id å…³è”&lt;/td>
&lt;td>idã€nameã€portã€serializationã€threadpool&lt;/td>
&lt;td>RPC åè®®ç«¯å£ã€åºåˆ—åŒ–åè®®ã€è¿è¡Œæ—¶è¡Œä¸ºé…ç½®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>RegistrtyConfig&lt;/td>
&lt;td>å¦ã€‚å¤šæ³¨å†Œä¸­å¿ƒåœºæ™¯æœåŠ¡é€šè¿‡ id å…³è”&lt;/td>
&lt;td>idã€addressã€protocolã€group&lt;/td>
&lt;td>æ³¨å†Œä¸­å¿ƒå®ç°ã€åœ°å€ã€è®¢é˜…ç­‰é…ç½®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ConfigCenterConfig&lt;/td>
&lt;td>å¦ã€‚å¤šé…ç½®ä¸­å¿ƒåœºæ™¯æœåŠ¡é€šè¿‡ id å…³è”&lt;/td>
&lt;td>idã€addressã€protocolã€groupã€namespace&lt;/td>
&lt;td>é…ç½®ä¸­å¿ƒå®ç°ã€åœ°å€ã€åˆ†ç»„éš”ç¦»ç­‰é…ç½®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>MetadataReportConfig&lt;/td>
&lt;td>å¦ã€‚å¤šå…ƒæ•°æ®ä¸­å¿ƒåœºæ™¯æœåŠ¡é€šè¿‡ id å…³è”&lt;/td>
&lt;td>idã€addressã€protocolã€groupã€namespace&lt;/td>
&lt;td>å…ƒæ•°æ®ä¸­å¿ƒå®ç°ã€åœ°å€ã€åˆ†ç»„éš”ç¦»ç­‰é…ç½®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ProviderConfig&lt;/td>
&lt;td>å¦&lt;/td>
&lt;td>å‚è€ƒ ServiceConfig&lt;/td>
&lt;td>ä½œä¸ºå¤šä¸ªServiceConfigçš„é»˜è®¤å€¼&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ConsumerConfig&lt;/td>
&lt;td>å¦&lt;/td>
&lt;td>å‚è€ƒ ReferenceConfig&lt;/td>
&lt;td>ä½œä¸ºå¤šä¸ªReferenceConfigçš„é»˜è®¤å€¼&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ServiceConfig&lt;/td>
&lt;td>å¦&lt;/td>
&lt;td>- æ–¹æ³•ï¼šexport()&lt;br/> - å±æ€§ï¼š interfaceClassã€refã€groupã€versionã€timeoutã€retry&lt;/td>
&lt;td>ä¸€ä¸ª ServiceConfig å®ä¾‹ä»£è¡¨ä¸€ä¸ª RPC æœåŠ¡&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ReferenceConfig&lt;/td>
&lt;td>å¦&lt;/td>
&lt;td>- æ–¹æ³•ï¼šrefer()&lt;br/> - å±æ€§ï¼šinterfaceClassã€groupã€versionã€timeoutã€retryã€clusterã€loadbalance&lt;/td>
&lt;td>ä¸€ä¸ª ReferenceConfig å®ä¾‹ä»£è¡¨ä¸€ä¸ª RPC æœåŠ¡&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>MethodConfig&lt;/td>
&lt;td>å¦&lt;/td>
&lt;td>nameã€oninvokeã€onreturnã€onthrow&lt;/td>
&lt;td>ServiceConfig/ReferenceConfig å†…åµŒçš„æ–¹æ³•çº§åˆ«é…ç½®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ArgumentConfig&lt;/td>
&lt;td>å¦&lt;/td>
&lt;td>indexã€typeã€callback&lt;/td>
&lt;td>MethodConfig å†…åµŒçš„å‚æ•°çº§åˆ«é…ç½®&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="è½»é‡-rpc-ç¤ºä¾‹">è½»é‡ RPC ç¤ºä¾‹&lt;/h2>
&lt;p>æœ¬ç¤ºä¾‹æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨è½»é‡ Dubbo SDK å¼€å‘ RPC Server ä¸ Clientï¼Œç¤ºä¾‹ä½¿ç”¨ Java Interface æ–¹å¼å®šä¹‰ã€å‘å¸ƒå’Œè®¿é—® RPC æœåŠ¡ï¼Œåº•å±‚ä½¿ç”¨ Triple åè®®é€šä¿¡ã€‚æœ¬ç¤ºä¾‹å®Œæ•´ä»£ç è¯·å‚è§ &lt;a href="https://github.com/apache/dubbo-samples/tree/master/1-basic/dubbo-samples-api" target="_blank">dubbo-samples&lt;/a>ã€‚&lt;/p>
&lt;p>åŸºäº Dubbo å®šä¹‰çš„ Triple åè®®ï¼Œä½ å¯ä»¥è½»æ¾ç¼–å†™æµè§ˆå™¨ã€gRPC å…¼å®¹çš„ RPC æœåŠ¡ï¼Œå¹¶è®©è¿™äº›æœåŠ¡åŒæ—¶è¿è¡Œåœ¨ HTTP/1 å’Œ HTTP/2 ä¸Šã€‚Dubbo Java SDK æ”¯æŒä½¿ç”¨ IDL æˆ–ç¼–ç¨‹è¯­è¨€ç‰¹æœ‰çš„æ–¹å¼å®šä¹‰æœåŠ¡ï¼Œå¹¶æä¾›ä¸€å¥—è½»é‡çš„ API æ¥å‘å¸ƒæˆ–è°ƒç”¨è¿™äº›æœåŠ¡ã€‚&lt;/p>
&lt;h3 id="maven-ä¾èµ–">Maven ä¾èµ–&lt;/h3>
&lt;p>åœ¨åŸºäº Dubbo RPC ç¼–ç ä¹‹å‰ï¼Œæ‚¨åªéœ€è¦åœ¨é¡¹ç›®æ·»åŠ ä¸€ä¸ªéå¸¸è½»é‡çš„ &lt;code>dubbo&lt;/code>ä¾èµ–åŒ…å³å¯ï¼Œä»¥ Maven ä¸ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-xml" data-lang="xml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;groupId&amp;gt;&lt;/span>org.apache.dubbo&lt;span style="color:#268bd2">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;artifactId&amp;gt;&lt;/span>dubbo&lt;span style="color:#268bd2">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">&amp;lt;version&amp;gt;&lt;/span>3.3.0&lt;span style="color:#268bd2">&amp;lt;/version&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å®šä¹‰æœåŠ¡">å®šä¹‰æœåŠ¡&lt;/h3>
&lt;p>å®šä¹‰ä¸€ä¸ªåä¸º &lt;code>DemoService&lt;/code>çš„æ ‡å‡† Java æ¥å£ä½œä¸º Dubbo æœåŠ¡ï¼ˆDubbo è¿˜æ”¯æŒ&lt;a href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/tasks/protocols/triple/idl/">åŸºäº IDL çš„æœåŠ¡å®šä¹‰æ¨¡å¼&lt;/a>ï¼‰ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">interface&lt;/span> &lt;span style="color:#268bd2">DemoService&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> String &lt;span style="color:#268bd2">sayHello&lt;/span>(String name);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å®ç° &lt;code>DemoService&lt;/code> æ¥å£å¹¶ç¼–å†™ä¸šåŠ¡é€»è¾‘ä»£ç ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">class&lt;/span> &lt;span style="color:#268bd2">DemoServiceImpl&lt;/span> &lt;span style="color:#268bd2">implements&lt;/span> DemoService {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">@Override&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">public&lt;/span> String &lt;span style="color:#268bd2">sayHello&lt;/span>(String name) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">return&lt;/span> &lt;span style="color:#2aa198">&amp;#34;Hello &amp;#34;&lt;/span> &lt;span style="color:#719e07">+&lt;/span> name &lt;span style="color:#719e07">+&lt;/span> &lt;span style="color:#2aa198">&amp;#34;, response from provider.&amp;#34;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="æ³¨å†ŒæœåŠ¡å¹¶å¯åŠ¨-server">æ³¨å†ŒæœåŠ¡å¹¶å¯åŠ¨ Server&lt;/h3>
&lt;p>å¯åŠ¨ server å¹¶åœ¨æŒ‡å®šç«¯å£ç›‘å¬ RPC è¯·æ±‚ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å‘ server æ³¨å†Œäº†ä»¥ä¸‹ä¿¡æ¯ï¼š&lt;/p>
&lt;ul>
&lt;li>ä½¿ç”¨ &lt;code>Triple&lt;/code> ä½œä¸ºé€šä¿¡ RPC åè®®ä¸å¹¶ç›‘å¬ç«¯å£ &lt;code>50051&lt;/code>&lt;/li>
&lt;li>æ³¨å†Œ Dubbo æœåŠ¡åˆ° &lt;code>DemoService&lt;/code> server&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">class&lt;/span> &lt;span style="color:#268bd2">Application&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">static&lt;/span> &lt;span style="color:#dc322f">void&lt;/span> &lt;span style="color:#268bd2">main&lt;/span>(String&lt;span style="color:#719e07">[]&lt;/span> args) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> DubboBootstrap.getInstance()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .protocol(&lt;span style="color:#719e07">new&lt;/span> ProtocolConfig(CommonConstants.TRIPLE, 50051))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .service(ServiceBuilder.newBuilder().ref(&lt;span style="color:#719e07">new&lt;/span> DemoServiceImpl()).build())
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .start()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .await();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="è®¿é—®æœåŠ¡">è®¿é—®æœåŠ¡&lt;/h3>
&lt;p>æœ€ç®€å•æ–¹å¼æ˜¯ä½¿ç”¨ HTTP/1.1 POST è¯·æ±‚è®¿é—®æœåŠ¡ï¼Œå‚æ•°åˆ™ä»¥æ ‡å‡† JSON æ ¼å¼ä½œä¸º HTTP è´Ÿè½½ä¼ é€’ã€‚å¦‚ä¸‹æ˜¯ä½¿ç”¨ cURL å‘½ä»¤çš„è®¿é—®ç¤ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>curl &lt;span style="color:#cb4b16">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#cb4b16">&lt;/span> --header &lt;span style="color:#2aa198">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> &lt;span style="color:#cb4b16">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#cb4b16">&lt;/span> --data &lt;span style="color:#2aa198">&amp;#39;[&amp;#34;Dubbo&amp;#34;]&amp;#39;&lt;/span> &lt;span style="color:#cb4b16">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#cb4b16">&lt;/span> http://localhost:50051/org.apache.dubbo.demo.DemoService/sayHello
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>å‚æ•°å¿…é¡»ä»¥æ•°ç»„æ ¼å¼è¿›è¡Œä¼ é€’ï¼Œå¦‚æœæœ‰å¤šä¸ªå‚æ•°ï¼Œåˆ™æ ¼å¼ç±»ä¼¼ &lt;code>[&amp;quot;param1&amp;quot;, {&amp;quot;param2-field&amp;quot;: &amp;quot;param2-value&amp;quot;}, ...]&lt;/code>ï¼Œå…·ä½“è¯·å‚è§ triple åè®®è§„èŒƒã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æ¥ä¸‹æ¥ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨æ ‡å‡†çš„ Dubbo client è¯·æ±‚æœåŠ¡ï¼ŒæŒ‡å®š server åœ°å€å³å¯å‘èµ· RPC è°ƒç”¨ï¼Œå…¶æ ¼å¼ä¸º &lt;code>protocol://ip:host&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">class&lt;/span> &lt;span style="color:#268bd2">Application&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">static&lt;/span> &lt;span style="color:#dc322f">void&lt;/span> &lt;span style="color:#268bd2">main&lt;/span>(String&lt;span style="color:#719e07">[]&lt;/span> args) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> DemoService demoService &lt;span style="color:#719e07">=&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ReferenceBuilder.newBuilder()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .interfaceClass(DemoService.class)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .url(&lt;span style="color:#2aa198">&amp;#34;tri://localhost:50051&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .build()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .get();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> String message &lt;span style="color:#719e07">=&lt;/span> demoService.sayHello(&lt;span style="color:#2aa198">&amp;#34;dubbo&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> System.out.println(message);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ­å–œæ‚¨ï¼Œ ä»¥ä¸Šå³æ˜¯ Dubbo Java RPC é€šä¿¡çš„åŸºæœ¬ä½¿ç”¨æ–¹å¼ï¼ ğŸ‰&lt;/p>
&lt;h3 id="æ›´å¤šç¤ºä¾‹">æ›´å¤šç¤ºä¾‹&lt;/h3>
&lt;p>é™¤äº†ä»¥ä¸Šç®€å•ä½¿ç”¨åœºæ™¯ä¹‹å¤–ï¼Œå¼€å‘è€…è¿˜å¯ä»¥å‘å¸ƒå¤šä¸ªæœåŠ¡ã€ç›´æ¥è°ƒç”¨ ServiceConfig/ReferenceConfig å‘å¸ƒ/è®¢é˜…å•ä¸ªæœåŠ¡ç­‰ã€‚&lt;/p>
&lt;h4 id="å‘å¸ƒå¤šä¸ªæœåŠ¡">å‘å¸ƒå¤šä¸ªæœåŠ¡&lt;/h4>
&lt;p>ä»¥ä¸‹ç¤ºä¾‹æ³¨å†Œå¹¶å‘å¸ƒä»»æ„å¤šä¸ªæœåŠ¡ FooServiceã€BarServiceï¼Œè¿™äº›æœåŠ¡éƒ½å°†ä½¿ç”¨ providerConfig ä¸­é…ç½®çš„é»˜è®¤è¶…æ—¶æ—¶é—´ï¼Œçœå»å¤šä¸ªæœåŠ¡é‡å¤é…ç½®çš„çƒ¦æ¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">static&lt;/span> &lt;span style="color:#dc322f">void&lt;/span> &lt;span style="color:#268bd2">main&lt;/span>(String&lt;span style="color:#719e07">[]&lt;/span> args) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ProviderConfig providerConfig &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#719e07">new&lt;/span> ProviderConfig();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> providerConfig.setTimeout(5000);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ProtocolConfig protocolConfig &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#719e07">new&lt;/span> ProtocolConfig(CommonConstants.TRIPLE, 50051);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> DubboBootstrap.getInstance()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .protocol(protocolConfig)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .provider(providerConfig)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .service(ServiceBuilder.newBuilder().ref(&lt;span style="color:#719e07">new&lt;/span> FooServiceImpl()).build())
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .service(ServiceBuilder.newBuilder().ref(&lt;span style="color:#719e07">new&lt;/span> BarServiceImpl()).build())
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .start()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .await();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="å‘å¸ƒå•ä¸ªæœåŠ¡">å‘å¸ƒå•ä¸ªæœåŠ¡&lt;/h4>
&lt;p>ç›´æ¥è°ƒç”¨ ServiceConfig.export() å‘å¸ƒæœåŠ¡ï¼Œé€‚ç”¨äºè¿è¡Œæ€åŠ¨æ€å‘å¸ƒæˆ–è®¢é˜…ä¸€ä¸ªæœåŠ¡ï¼Œå¯¹äº ReferenceConfig åŒç†ã€‚å¯¹äºæ­£å¸¸çš„åº”ç”¨å¯åŠ¨æµç¨‹ï¼Œæ¨èä½¿ç”¨ DubboBootstrap è€Œéç›´æ¥è°ƒç”¨ ServiceConfig.export() å‘å¸ƒå•ä¸ªæœåŠ¡ã€‚&lt;/p>
&lt;ol>
&lt;li>é€šè¿‡ ServiceConfig å‘å¸ƒæœåŠ¡&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">static&lt;/span> &lt;span style="color:#dc322f">void&lt;/span> &lt;span style="color:#268bd2">main&lt;/span>(String&lt;span style="color:#719e07">[]&lt;/span> args) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ServiceConfig&lt;span style="color:#719e07">&amp;lt;&lt;/span>DemoService&lt;span style="color:#719e07">&amp;gt;&lt;/span> demoServiceConfig &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#719e07">new&lt;/span> ServiceConfig&lt;span style="color:#719e07">&amp;lt;&amp;gt;&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> demoServiceConfig.setInterface(DemoService.class);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> demoServiceConfig.setRef(&lt;span style="color:#719e07">new&lt;/span> DemoServiceImpl());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> demoServiceConfig.setVersion(&lt;span style="color:#2aa198">&amp;#34;1.0.0&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> demoServiceConfig.export(); &lt;span style="color:#586e75">// this service will be registered to the default instance of DubboBootstrap.getInstance()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="2">
&lt;li>é€šè¿‡ ReferenceConfig è®¢é˜…æœåŠ¡&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">private&lt;/span> DemoService &lt;span style="color:#268bd2">referService&lt;/span>() {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ReferenceConfig&lt;span style="color:#719e07">&amp;lt;&lt;/span>DemoService&lt;span style="color:#719e07">&amp;gt;&lt;/span> reference &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#719e07">new&lt;/span> ReferenceConfig&lt;span style="color:#719e07">&amp;lt;&amp;gt;&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> reference.setInterfaceClass(DemoService.class);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ReferenceCache cache &lt;span style="color:#719e07">=&lt;/span> SimpleReferenceCache.getCache();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">try&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">return&lt;/span> cache.get(reference);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> } &lt;span style="color:#719e07">catch&lt;/span> (Exception e) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">throw&lt;/span> &lt;span style="color:#719e07">new&lt;/span> RuntimeException(e.getMessage());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç”±äº ReferenceConfig.get() åˆ›å»ºçš„ä»£ç†å¯¹è±¡æŒæœ‰è¿æ¥ã€åœ°å€ç­‰å¤§é‡èµ„æºï¼Œå› æ­¤å»ºè®®ç¼“å­˜å¤ç”¨ï¼ŒDubbo å®˜æ–¹æä¾›äº† SimpleReferenceCache å®ç°å‚è€ƒå®ç°ã€‚å…³äº SimpleReferenceCache æ›´å¤šå†…å®¹ï¼Œè¯·å‚è€ƒ &lt;a href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/tasks/framework/more/reference-config-cache/">RPC æ¡†æ¶&lt;/a>ã€‚&lt;/p>
&lt;h4 id="è·å¾—å¼•ç”¨ä»£ç†">è·å¾—å¼•ç”¨ä»£ç†&lt;/h4>
&lt;p>ä½¿ç”¨ DubboBootstrap ä½œä¸ºå¯åŠ¨å…¥å£ï¼Œè®¢é˜…æœåŠ¡å¹¶è·å¾—ä»£ç†å¯¹è±¡ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">static&lt;/span> &lt;span style="color:#dc322f">void&lt;/span> &lt;span style="color:#268bd2">main&lt;/span>(String&lt;span style="color:#719e07">[]&lt;/span> args) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ReferenceConfig&lt;span style="color:#719e07">&amp;lt;&lt;/span>GreetingsService&lt;span style="color:#719e07">&amp;gt;&lt;/span> reference &lt;span style="color:#719e07">=&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ReferenceBuilder.&lt;span style="color:#719e07">&amp;lt;&lt;/span>GreetingsService&lt;span style="color:#719e07">&amp;gt;&lt;/span>newBuilder()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .interfaceClass(GreetingsService.class)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .build();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> DubboBootstrap.getInstance().reference(reference).start();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> GreetingsService service &lt;span style="color:#719e07">=&lt;/span> reference.get();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å¾®æœåŠ¡ç¤ºä¾‹">å¾®æœåŠ¡ç¤ºä¾‹&lt;/h2>
&lt;h3 id="æ³¨å†Œä¸­å¿ƒå’Œåº”ç”¨å">æ³¨å†Œä¸­å¿ƒå’Œåº”ç”¨å&lt;/h3>
&lt;p>ç›¸æ¯”äº RPC serverã€RPC clientï¼ŒåŸºäº API çš„å¾®æœåŠ¡åº”ç”¨å¼€å‘éœ€è¦é…ç½®åº”ç”¨åã€æ³¨å†Œä¸­å¿ƒã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">static&lt;/span> &lt;span style="color:#dc322f">void&lt;/span> &lt;span style="color:#268bd2">main&lt;/span>(String&lt;span style="color:#719e07">[]&lt;/span> args) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> DubboBootstrap.getInstance()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .application()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .registry(&lt;span style="color:#719e07">new&lt;/span> RegistryConfig(&lt;span style="color:#2aa198">&amp;#34;nacos://127.0.0.1:8848&amp;#34;&lt;/span>))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .protocol(&lt;span style="color:#719e07">new&lt;/span> ProtocolConfig(CommonConstants.TRIPLE, 50051))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .service(ServiceBuilder.newBuilder().ref(&lt;span style="color:#719e07">new&lt;/span> DemoServiceImpl()).build())
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .service(ServiceBuilder.newBuilder().ref(&lt;span style="color:#719e07">new&lt;/span> FooServiceImpl()).build())
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .start()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .await();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å¤šä¸ªæ³¨å†Œä¸­å¿ƒ">å¤šä¸ªæ³¨å†Œä¸­å¿ƒ&lt;/h3>
&lt;p>å¤šä¸ªæ³¨å†Œä¸­å¿ƒå¯æŒ‡å®šä¸åŒçš„ idï¼ŒæœåŠ¡é€šè¿‡ id å…³è”æ³¨å†Œä¸­å¿ƒå®ä¾‹ã€‚å¦‚ä¸‹ç¤ºä¾‹ä¸­ï¼ŒGreetingsService å‘å¸ƒåˆ° bjRegistryï¼ŒDemoService å‘å¸ƒåˆ° hzRegistryã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">static&lt;/span> &lt;span style="color:#dc322f">void&lt;/span> &lt;span style="color:#268bd2">main&lt;/span>(String&lt;span style="color:#719e07">[]&lt;/span> args) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> RegistryConfig bjRegistry &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#719e07">new&lt;/span> RegistryConfig();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> bjRegistry.setId(&lt;span style="color:#2aa198">&amp;#34;bj&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> bjRegistry.setAddress(&lt;span style="color:#2aa198">&amp;#34;nacos://127.0.0.1:8848&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> RegistryConfig hzRegistry &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#719e07">new&lt;/span> RegistryConfig();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> hzRegistry.setId(&lt;span style="color:#2aa198">&amp;#34;hz&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> hzRegistry.setAddress(&lt;span style="color:#2aa198">&amp;#34;nacos://127.0.0.2:8848&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> DubboBootstrap.getInstance()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .registry(bjRegistry)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .registry(hzRegistry)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .service(ServiceBuilder.newBuilder().registryIds(&lt;span style="color:#2aa198">&amp;#34;bj&amp;#34;&lt;/span>).interfaceClass(GreetingsService.class).ref(&lt;span style="color:#719e07">new&lt;/span> GreetingsServiceImpl()).build())
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .service(ServiceBuilder.newBuilder().registryIds(&lt;span style="color:#2aa198">&amp;#34;hz&amp;#34;&lt;/span>).interfaceClass(DemoService.class).ref(&lt;span style="color:#719e07">new&lt;/span> DemoServiceImpl()).build())
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .start()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .await();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å‘å¸ƒå•ä¸ªæœåŠ¡-1">å‘å¸ƒå•ä¸ªæœåŠ¡&lt;/h3>
&lt;p>ç›´æ¥è°ƒç”¨ ServiceConfig.export() å‘å¸ƒæœåŠ¡ï¼Œé€‚ç”¨äºè¿è¡Œæ€åŠ¨æ€å‘å¸ƒæˆ–è®¢é˜…ä¸€ä¸ªæœåŠ¡ï¼Œå¯¹äº ReferenceConfig åŒç†ã€‚å¯¹äºæ­£å¸¸çš„åº”ç”¨å¯åŠ¨æµç¨‹ï¼Œæ¨èä½¿ç”¨ DubboBootstrap è€Œéç›´æ¥è°ƒç”¨ ServiceConfig.export() å‘å¸ƒå•ä¸ªæœåŠ¡ã€‚&lt;/p>
&lt;div class="alert alert-primary" role="alert">
&lt;h4 class="alert-heading">æ³¨æ„&lt;/h4>
&lt;/div>
&lt;ol>
&lt;li>é€šè¿‡ ServiceConfig å‘å¸ƒæœåŠ¡&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">public&lt;/span> &lt;span style="color:#268bd2">static&lt;/span> &lt;span style="color:#dc322f">void&lt;/span> &lt;span style="color:#268bd2">main&lt;/span>(String&lt;span style="color:#719e07">[]&lt;/span> args) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> RegistryConfig hzRegistry &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#719e07">new&lt;/span> RegistryConfig();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> hzRegistry.setId(&lt;span style="color:#2aa198">&amp;#34;hz&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> hzRegistry.setAddress(&lt;span style="color:#2aa198">&amp;#34;nacos://127.0.0.2:8848&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ServiceConfig&lt;span style="color:#719e07">&amp;lt;&lt;/span>DemoService&lt;span style="color:#719e07">&amp;gt;&lt;/span> demoServiceConfig &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#719e07">new&lt;/span> ServiceConfig&lt;span style="color:#719e07">&amp;lt;&amp;gt;&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> demoServiceConfig.setInterface(DemoService.class);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> demoServiceConfig.setRef(&lt;span style="color:#719e07">new&lt;/span> DemoServiceImpl());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> demoServiceConfig.setVersion(&lt;span style="color:#2aa198">&amp;#34;1.0.0&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> demoServiceConfig.setRegistry(hzRegistry);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> demoServiceConfig.export(); &lt;span style="color:#586e75">// this service will be registered to the default instance of DubboBootstrap.getInstance()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="2">
&lt;li>é€šè¿‡ ReferenceConfig è®¢é˜…æœåŠ¡&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#268bd2">private&lt;/span> DemoService &lt;span style="color:#268bd2">referService&lt;/span>() {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> RegistryConfig hzRegistry &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#719e07">new&lt;/span> RegistryConfig();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> hzRegistry.setId(&lt;span style="color:#2aa198">&amp;#34;hz&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> hzRegistry.setAddress(&lt;span style="color:#2aa198">&amp;#34;nacos://127.0.0.2:8848&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ReferenceConfig&lt;span style="color:#719e07">&amp;lt;&lt;/span>DemoService&lt;span style="color:#719e07">&amp;gt;&lt;/span> reference &lt;span style="color:#719e07">=&lt;/span> &lt;span style="color:#719e07">new&lt;/span> ReferenceConfig&lt;span style="color:#719e07">&amp;lt;&amp;gt;&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> reference.setInterfaceClass(DemoService.class);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> reference.setRegistry(hzRegistry)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ReferenceCache cache &lt;span style="color:#719e07">=&lt;/span> SimpleReferenceCache.getCache();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">try&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">return&lt;/span> cache.get(reference);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> } &lt;span style="color:#719e07">catch&lt;/span> (Exception e) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#719e07">throw&lt;/span> &lt;span style="color:#719e07">new&lt;/span> RuntimeException(e.getMessage());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æ›´å¤šå†…å®¹">æ›´å¤šå†…å®¹&lt;/h2>
&lt;ul>
&lt;li>Triple åè®®å®Œå…¨å…¼å®¹ gRPCï¼Œæ‚¨å¯ä»¥å‚è€ƒè¿™é‡Œäº†è§£å¦‚ä½• &lt;a href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/tasks/protocols/triple/idl/">ä½¿ç”¨ IDL ç¼–å†™ gRPC å…¼å®¹çš„æœåŠ¡&lt;/a>ï¼Œæˆ–è€… &lt;a href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/tasks/protocols/">ä½¿ç”¨å…¶ä»–é€šä¿¡åè®®&lt;/a>&lt;/li>
&lt;li>ä½œä¸º RPC æ¡†æ¶ï¼ŒDubbo æ”¯æŒå¼‚æ­¥è°ƒç”¨ã€è¿æ¥ç®¡ç†ã€contextä¸Šä¸‹æ–‡ç­‰ï¼Œè¯·å‚è€ƒ &lt;a href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/tasks/framework/">RPC æ¡†æ¶æ ¸å¿ƒåŠŸèƒ½&lt;/a>&lt;/li>
&lt;li>ä½¿ç”¨ &lt;a href="https://dubbo.apache.org/zh-cn/overview/mannual/java-sdk/tasks/develop/springboot/">Dubbo Spring Boot å¼€å‘å¾®æœåŠ¡åº”ç”¨&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>