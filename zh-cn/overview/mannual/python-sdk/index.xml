<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Python SDK 手册 on Apache Dubbo</title><link>https://cn.dubbo.apache.org/zh-cn/overview/mannual/python-sdk/</link><description>Recent content in Python SDK 手册 on Apache Dubbo</description><generator>Hugo</generator><language>zh-cn</language><atom:link href="https://cn.dubbo.apache.org/zh-cn/overview/mannual/python-sdk/index.xml" rel="self" type="application/rss+xml"/><item><title>快速开始</title><link>https://cn.dubbo.apache.org/zh-cn/overview/mannual/python-sdk/quick-start/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/zh-cn/overview/mannual/python-sdk/quick-start/</guid><description>&lt;p&gt;本指南将通过一个简单的工作示例帮助您开始使用 Python 中的 Dubbo，在此查看完整&lt;a href="https://github.com/apache/dubbo-python/tree/main/samples/helloworld"&gt;示例&lt;/a&gt;。&lt;/p&gt;
&lt;h2 id="1-前置条件"&gt;1 前置条件&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Python 3.11 或更高版本&lt;/li&gt;
&lt;li&gt;合适的&lt;code&gt;pip&lt;/code&gt; 版本&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="2-安装dubbo-python"&gt;2 安装Dubbo-python&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;直接安装&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;pip install apache-dubbo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;从源码安装&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;git clone https://github.com/apache/dubbo-python.git
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#b58900"&gt;cd&lt;/span&gt; dubbo-python &lt;span style="color:#719e07"&gt;&amp;amp;&amp;amp;&lt;/span&gt; pip install .
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="3-构建dubbo服务"&gt;3 构建Dubbo服务&lt;/h2&gt;
&lt;p&gt;构建Dubbo Server&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#719e07"&gt;import&lt;/span&gt; dubbo
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#719e07"&gt;from&lt;/span&gt; dubbo.configs &lt;span style="color:#719e07"&gt;import&lt;/span&gt; ServiceConfig
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#719e07"&gt;from&lt;/span&gt; dubbo.proxy.handlers &lt;span style="color:#719e07"&gt;import&lt;/span&gt; RpcMethodHandler, RpcServiceHandler
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#719e07"&gt;class&lt;/span&gt; &lt;span style="color:#268bd2"&gt;UnaryServiceServicer&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#719e07"&gt;def&lt;/span&gt; &lt;span style="color:#268bd2"&gt;say_hello&lt;/span&gt;(&lt;span style="color:#268bd2"&gt;self&lt;/span&gt;, message: &lt;span style="color:#b58900"&gt;bytes&lt;/span&gt;) &lt;span style="color:#719e07"&gt;-&amp;gt;&lt;/span&gt; &lt;span style="color:#b58900"&gt;bytes&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#b58900"&gt;print&lt;/span&gt;(&lt;span style="color:#2aa198"&gt;f&lt;/span&gt;&lt;span style="color:#2aa198"&gt;&amp;#34;Received message from client: &lt;/span&gt;&lt;span style="color:#2aa198"&gt;{&lt;/span&gt;message&lt;span style="color:#2aa198"&gt;}&lt;/span&gt;&lt;span style="color:#2aa198"&gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#719e07"&gt;return&lt;/span&gt; &lt;span style="color:#2aa198"&gt;b&lt;/span&gt;&lt;span style="color:#2aa198"&gt;&amp;#34;Hello from server&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#719e07"&gt;def&lt;/span&gt; &lt;span style="color:#268bd2"&gt;build_service_handler&lt;/span&gt;():
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#586e75"&gt;# build a method handler&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; method_handler &lt;span style="color:#719e07"&gt;=&lt;/span&gt; RpcMethodHandler&lt;span style="color:#719e07"&gt;.&lt;/span&gt;unary(
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; method&lt;span style="color:#719e07"&gt;=&lt;/span&gt;UnaryServiceServicer()&lt;span style="color:#719e07"&gt;.&lt;/span&gt;say_hello, method_name&lt;span style="color:#719e07"&gt;=&lt;/span&gt;&lt;span style="color:#2aa198"&gt;&amp;#34;unary&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#586e75"&gt;# build a service handler&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; service_handler &lt;span style="color:#719e07"&gt;=&lt;/span&gt; RpcServiceHandler(
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; service_name&lt;span style="color:#719e07"&gt;=&lt;/span&gt;&lt;span style="color:#2aa198"&gt;&amp;#34;org.apache.dubbo.samples.HelloWorld&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; method_handlers&lt;span style="color:#719e07"&gt;=&lt;/span&gt;[method_handler],
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#719e07"&gt;return&lt;/span&gt; service_handler
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#719e07"&gt;if&lt;/span&gt; &lt;span style="color:#268bd2"&gt;__name__&lt;/span&gt; &lt;span style="color:#719e07"&gt;==&lt;/span&gt; &lt;span style="color:#2aa198"&gt;&amp;#34;__main__&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#586e75"&gt;# build service config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; service_handler &lt;span style="color:#719e07"&gt;=&lt;/span&gt; build_service_handler()
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; service_config &lt;span style="color:#719e07"&gt;=&lt;/span&gt; ServiceConfig(
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; service_handler&lt;span style="color:#719e07"&gt;=&lt;/span&gt;service_handler, host&lt;span style="color:#719e07"&gt;=&lt;/span&gt;&lt;span style="color:#2aa198"&gt;&amp;#34;127.0.0.1&amp;#34;&lt;/span&gt;, port&lt;span style="color:#719e07"&gt;=&lt;/span&gt;&lt;span style="color:#2aa198"&gt;50051&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#586e75"&gt;# start the server&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; server &lt;span style="color:#719e07"&gt;=&lt;/span&gt; dubbo&lt;span style="color:#719e07"&gt;.&lt;/span&gt;Server(service_config)&lt;span style="color:#719e07"&gt;.&lt;/span&gt;start()
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#b58900"&gt;input&lt;/span&gt;(&lt;span style="color:#2aa198"&gt;&amp;#34;Press Enter to stop the server...&lt;/span&gt;&lt;span style="color:#cb4b16"&gt;\n&lt;/span&gt;&lt;span style="color:#2aa198"&gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;构建Dubbo Client&lt;/p&gt;</description></item><item><title>自定义序列化</title><link>https://cn.dubbo.apache.org/zh-cn/overview/mannual/python-sdk/custom-serialization/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/zh-cn/overview/mannual/python-sdk/custom-serialization/</guid><description>&lt;p&gt;在此查看完整&lt;a href="https://github.com/apache/dubbo-python/tree/main/samples/serialization"&gt;示例&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Python 是一种动态语言，其灵活性使得在其他语言中设计通用的序列化层具有挑战性。因此，我们移除了框架级别的序列化层，而是提供接口，允许用户根据需求自行实现（因为用户更了解他们要传输的数据格式）。&lt;/p&gt;
&lt;p&gt;序列化通常分为两个部分：序列化和反序列化。我们为这些函数定义了类型，自定义的序列化/反序列化函数必须遵循这些 &amp;ldquo;格式&amp;rdquo;。&lt;/p&gt;
&lt;p&gt;对于序列化函数，我们规定：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#586e75"&gt;# A function that takes any number of arguments and returns data of type bytes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SerializingFunction &lt;span style="color:#719e07"&gt;=&lt;/span&gt; Callable[&lt;span style="color:#719e07"&gt;...&lt;/span&gt;, &lt;span style="color:#b58900"&gt;bytes&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;对于反序列化函数，我们规定：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#586e75"&gt;# A function that takes an argument of type bytes and returns data of any type&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;DeserializingFunction &lt;span style="color:#719e07"&gt;=&lt;/span&gt; Callable[[&lt;span style="color:#b58900"&gt;bytes&lt;/span&gt;], Any]
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;下面，我将演示如何使用 &lt;code&gt;protobuf&lt;/code&gt; 和 &lt;code&gt;json&lt;/code&gt; 进行序列化。&lt;/p&gt;
&lt;h2 id="protobuf"&gt;protobuf&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;有关定义和编译 &lt;code&gt;protobuf&lt;/code&gt; 文件的详细说明，请参阅 &lt;a href="https://protobuf.dev/getting-started/pythontutorial/"&gt;protobuf tutorial&lt;/a&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在Client的&lt;code&gt;unary&lt;/code&gt;、&lt;code&gt;client_stream&lt;/code&gt;、&lt;code&gt;server_stream&lt;/code&gt; 和 &lt;code&gt;bi_stream&lt;/code&gt; 方法中通过设置&lt;code&gt;request_serializer&lt;/code&gt; 和 &lt;code&gt;response_deserializer&lt;/code&gt; 设置对应的序列化和反序列化函数。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#719e07"&gt;class&lt;/span&gt; &lt;span style="color:#268bd2"&gt;GreeterServiceStub&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#719e07"&gt;def&lt;/span&gt; &lt;span style="color:#268bd2"&gt;__init__&lt;/span&gt;(&lt;span style="color:#268bd2"&gt;self&lt;/span&gt;, client: dubbo&lt;span style="color:#719e07"&gt;.&lt;/span&gt;Client):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#268bd2"&gt;self&lt;/span&gt;&lt;span style="color:#719e07"&gt;.&lt;/span&gt;unary &lt;span style="color:#719e07"&gt;=&lt;/span&gt; client&lt;span style="color:#719e07"&gt;.&lt;/span&gt;unary(
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; method_name&lt;span style="color:#719e07"&gt;=&lt;/span&gt;&lt;span style="color:#2aa198"&gt;&amp;#34;sayHello&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; request_serializer&lt;span style="color:#719e07"&gt;=&lt;/span&gt;greeter_pb2&lt;span style="color:#719e07"&gt;.&lt;/span&gt;GreeterRequest&lt;span style="color:#719e07"&gt;.&lt;/span&gt;SerializeToString,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; response_deserializer&lt;span style="color:#719e07"&gt;=&lt;/span&gt;greeter_pb2&lt;span style="color:#719e07"&gt;.&lt;/span&gt;GreeterReply&lt;span style="color:#719e07"&gt;.&lt;/span&gt;FromString,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#719e07"&gt;def&lt;/span&gt; &lt;span style="color:#268bd2"&gt;say_hello&lt;/span&gt;(&lt;span style="color:#268bd2"&gt;self&lt;/span&gt;, request):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#719e07"&gt;return&lt;/span&gt; &lt;span style="color:#268bd2"&gt;self&lt;/span&gt;&lt;span style="color:#719e07"&gt;.&lt;/span&gt;unary(request)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#719e07"&gt;if&lt;/span&gt; &lt;span style="color:#268bd2"&gt;__name__&lt;/span&gt; &lt;span style="color:#719e07"&gt;==&lt;/span&gt; &lt;span style="color:#2aa198"&gt;&amp;#34;__main__&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; reference_config &lt;span style="color:#719e07"&gt;=&lt;/span&gt; ReferenceConfig&lt;span style="color:#719e07"&gt;.&lt;/span&gt;from_url(
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#2aa198"&gt;&amp;#34;tri://127.0.0.1:50051/org.apache.dubbo.samples.data.Greeter&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; dubbo_client &lt;span style="color:#719e07"&gt;=&lt;/span&gt; dubbo&lt;span style="color:#719e07"&gt;.&lt;/span&gt;Client(reference_config)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; stub &lt;span style="color:#719e07"&gt;=&lt;/span&gt; GreeterServiceStub(dubbo_client)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; result &lt;span style="color:#719e07"&gt;=&lt;/span&gt; stub&lt;span style="color:#719e07"&gt;.&lt;/span&gt;say_hello(greeter_pb2&lt;span style="color:#719e07"&gt;.&lt;/span&gt;GreeterRequest(name&lt;span style="color:#719e07"&gt;=&lt;/span&gt;&lt;span style="color:#2aa198"&gt;&amp;#34;Dubbo-python&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#b58900"&gt;print&lt;/span&gt;(&lt;span style="color:#2aa198"&gt;f&lt;/span&gt;&lt;span style="color:#2aa198"&gt;&amp;#34;Received reply: &lt;/span&gt;&lt;span style="color:#2aa198"&gt;{&lt;/span&gt;result&lt;span style="color:#719e07"&gt;.&lt;/span&gt;message&lt;span style="color:#2aa198"&gt;}&lt;/span&gt;&lt;span style="color:#2aa198"&gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;同理在Server中设置对应的序列化和反序列化函数。&lt;/p&gt;</description></item><item><title>Streaming 通信模型</title><link>https://cn.dubbo.apache.org/zh-cn/overview/mannual/python-sdk/streaming/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/zh-cn/overview/mannual/python-sdk/streaming/</guid><description>&lt;p&gt;在此查看完整&lt;a href="https://github.com/apache/dubbo-python/tree/main/samples/stream"&gt;示例&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Dubbo-Python 支持流式调用，包括 &lt;code&gt;ClientStream&lt;/code&gt;、&lt;code&gt;ServerStream&lt;/code&gt; 和 &lt;code&gt;BidirectionalStream&lt;/code&gt; 三种模式。&lt;/p&gt;
&lt;p&gt;在流式调用中，操作可以分为写入流和读取流两部分。对于 &lt;code&gt;ClientStream&lt;/code&gt;，是多次写入、单次读取；对于 &lt;code&gt;ServerStream&lt;/code&gt;，是单次写入、多次读取；而 &lt;code&gt;BidirectionalStream&lt;/code&gt; 支持多次写入和多次读取。&lt;/p&gt;
&lt;h3 id="写入流"&gt;写入流&lt;/h3&gt;
&lt;p&gt;流式调用的写入操作分为单次写入（&lt;code&gt;ServerStream&lt;/code&gt;）和多次写入（&lt;code&gt;ClientStream&lt;/code&gt; 和 &lt;code&gt;BidirectionalStream&lt;/code&gt;）。&lt;/p&gt;
&lt;h3 id="单次写入"&gt;单次写入&lt;/h3&gt;
&lt;p&gt;单次写入流的调用方式与 unary 模式类似。例如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;stub&lt;span style="color:#719e07"&gt;.&lt;/span&gt;server_stream(greeter_pb2&lt;span style="color:#719e07"&gt;.&lt;/span&gt;GreeterRequest(name&lt;span style="color:#719e07"&gt;=&lt;/span&gt;&lt;span style="color:#2aa198"&gt;&amp;#34;hello world from dubbo-python&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="多次写入"&gt;多次写入&lt;/h3&gt;
&lt;p&gt;对于多次写入流，用户可以通过迭代器或 &lt;code&gt;writeStream&lt;/code&gt; 方式写入数据（两者只能选其一）。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;迭代器写入&lt;/strong&gt;：写入方式类似于 unary 模式，唯一的区别是传入的是迭代器。例如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#586e75"&gt;# Use an iterator to send multiple requests&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#719e07"&gt;def&lt;/span&gt; &lt;span style="color:#268bd2"&gt;request_generator&lt;/span&gt;():
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#719e07"&gt;for&lt;/span&gt; i &lt;span style="color:#719e07"&gt;in&lt;/span&gt; [&lt;span style="color:#2aa198"&gt;&amp;#34;hello&amp;#34;&lt;/span&gt;, &lt;span style="color:#2aa198"&gt;&amp;#34;world&amp;#34;&lt;/span&gt;, &lt;span style="color:#2aa198"&gt;&amp;#34;from&amp;#34;&lt;/span&gt;, &lt;span style="color:#2aa198"&gt;&amp;#34;dubbo-python&amp;#34;&lt;/span&gt;]:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#719e07"&gt;yield&lt;/span&gt; greeter_pb2&lt;span style="color:#719e07"&gt;.&lt;/span&gt;GreeterRequest(name&lt;span style="color:#719e07"&gt;=&lt;/span&gt;&lt;span style="color:#b58900"&gt;str&lt;/span&gt;(i))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#586e75"&gt;# Call the remote method and return a read_stream&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;stream &lt;span style="color:#719e07"&gt;=&lt;/span&gt; stub&lt;span style="color:#719e07"&gt;.&lt;/span&gt;client_stream(request_generator())
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;使用 &lt;code&gt;writeStream&lt;/code&gt; 写入&lt;/strong&gt;：此方法不传入参数，使用空参调用，然后通过 &lt;code&gt;write&lt;/code&gt; 方法逐条写入数据，写入完成后调用 &lt;code&gt;done_writing&lt;/code&gt; 方法结束流。例如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;stream &lt;span style="color:#719e07"&gt;=&lt;/span&gt; stub&lt;span style="color:#719e07"&gt;.&lt;/span&gt;bi_stream()
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#586e75"&gt;# Use the write method to send messages&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;stream&lt;span style="color:#719e07"&gt;.&lt;/span&gt;write(greeter_pb2&lt;span style="color:#719e07"&gt;.&lt;/span&gt;GreeterRequest(name&lt;span style="color:#719e07"&gt;=&lt;/span&gt;&lt;span style="color:#2aa198"&gt;&amp;#34;jock&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;stream&lt;span style="color:#719e07"&gt;.&lt;/span&gt;write(greeter_pb2&lt;span style="color:#719e07"&gt;.&lt;/span&gt;GreeterRequest(name&lt;span style="color:#719e07"&gt;=&lt;/span&gt;&lt;span style="color:#2aa198"&gt;&amp;#34;jane&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;stream&lt;span style="color:#719e07"&gt;.&lt;/span&gt;write(greeter_pb2&lt;span style="color:#719e07"&gt;.&lt;/span&gt;GreeterRequest(name&lt;span style="color:#719e07"&gt;=&lt;/span&gt;&lt;span style="color:#2aa198"&gt;&amp;#34;alice&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;stream&lt;span style="color:#719e07"&gt;.&lt;/span&gt;write(greeter_pb2&lt;span style="color:#719e07"&gt;.&lt;/span&gt;GreeterRequest(name&lt;span style="color:#719e07"&gt;=&lt;/span&gt;&lt;span style="color:#2aa198"&gt;&amp;#34;dave&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#586e75"&gt;# Call done_writing to notify the server that the client has finished writing&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;stream&lt;span style="color:#719e07"&gt;.&lt;/span&gt;done_writing()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="读取流"&gt;读取流&lt;/h3&gt;
&lt;p&gt;流式调用的读取操作分为单次读取（&lt;code&gt;ClientStream&lt;/code&gt;）和多次读取（&lt;code&gt;ServerStream&lt;/code&gt; 和 &lt;code&gt;BidirectionalStream&lt;/code&gt;）。在流式调用中，无论是哪种模式，返回的都是一个 &lt;code&gt;ReadStream&lt;/code&gt;。我们可以使用 &lt;code&gt;read&lt;/code&gt; 方法或迭代器读取数据，针对 &lt;code&gt;read&lt;/code&gt; 方法，需要注意以下几点：&lt;/p&gt;</description></item><item><title>服务发现</title><link>https://cn.dubbo.apache.org/zh-cn/overview/mannual/python-sdk/service-discovery/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cn.dubbo.apache.org/zh-cn/overview/mannual/python-sdk/service-discovery/</guid><description>&lt;p&gt;在此查看完整&lt;a href="https://github.com/apache/dubbo-python/tree/main/samples/registry"&gt;示例&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;使用服务注册和发现非常简单。事实上，与点对点调用相比，它只需要增加两行代码。在使用该功能之前，我们需要安装相关的注册客户端。目前，Dubbo-python 只支持 Zookeeper，因此下面的演示将使用 Zookeeper。与之前类似，我们需要克隆 Dubbo-python 源代码并安装它。不过，在这种情况下，我们还需要安装 Zookeeper 客户端。命令如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;git clone https://github.com/apache/dubbo-python.git
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#b58900"&gt;cd&lt;/span&gt; dubbo-python &lt;span style="color:#719e07"&gt;&amp;amp;&amp;amp;&lt;/span&gt; pip install .&lt;span style="color:#719e07"&gt;[&lt;/span&gt;zookeeper&lt;span style="color:#719e07"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;而后，只需启动 &lt;code&gt;Zookeeper&lt;/code&gt; 并在现有示例中插入以下代码即可：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#586e75"&gt;# Configure the Zookeeper registry&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;registry_config &lt;span style="color:#719e07"&gt;=&lt;/span&gt; RegistryConfig&lt;span style="color:#719e07"&gt;.&lt;/span&gt;from_url(&lt;span style="color:#2aa198"&gt;&amp;#34;zookeeper://127.0.0.1:2181&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;bootstrap &lt;span style="color:#719e07"&gt;=&lt;/span&gt; Dubbo(registry_config&lt;span style="color:#719e07"&gt;=&lt;/span&gt;registry_config)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#586e75"&gt;# Create the client&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;client &lt;span style="color:#719e07"&gt;=&lt;/span&gt; bootstrap&lt;span style="color:#719e07"&gt;.&lt;/span&gt;create_client(reference_config)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#586e75"&gt;# Create and start the server&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;bootstrap&lt;span style="color:#719e07"&gt;.&lt;/span&gt;create_server(service_config)&lt;span style="color:#719e07"&gt;.&lt;/span&gt;start()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item></channel></rss>